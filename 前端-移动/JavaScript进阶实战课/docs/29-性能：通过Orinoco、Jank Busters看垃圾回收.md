你好，我是石川。

在前两讲中，我们从多线程开发的角度了解了JavaScript中的性能优化。

今天，我们再来看一下JavaScript中内存管理相关的**垃圾回收**（garbage collection）机制，以及用到的性能优化的相关算法。

实际上，在JS语言中，垃圾回收是自动的，也就是说并不是我们在程序开发中手工处理的，但是，了解它对理解内存管理的底层逻辑还是很有帮助的。特别是结合我们前面两节课讲到的，在前端场景中，当我们的程序使用的是图形化的WebGL+Web Worker的多线程来处理大量的计算或渲染工作时，了解内存管理机制则是非常必要的。特别提醒一下，这节课会涉及到比较多的理论和底层知识，一定要跟紧我们的课程节奏啊。

## 闲置状态和分代回收

我们在上一讲说到并行和并发的时候，有讲到过，前端的性能指标中，我们通常关注的是流畅度和反应度。在理想的状态下，**为了获得丝滑流畅的体验，我们需要达到60fps，也就是每帧在16.6ms内渲染**。在很多的情况下，浏览器都可以在16.6ms内完成渲染，这个时候，如果提前渲染完了，剩下的时间我们的主线程通常是闲置（idle）的状态。而Chrome通常会利用这个闲置的时间来做垃圾回收。通过下面的图示，我们可以更加直观地看到主线程上这些任务的执行顺序。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/47/14/2a08a0c8.jpg" width="30px"><span>度衡</span> 👍（0） 💬（0）<div>垃圾回收器通过可触达度来判断对象&#39;活跃度&#39;，那些在运行时无法访问的对象即为可回收对象。因此，可以手动将不需要使用的对象变量赋值为null，从而使该对象不可访问，更快达能够可回收。</div>2023-01-05</li><br/>
</ul>