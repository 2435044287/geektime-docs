你好，我是石川。

我们曾经讲过，在Javascript中，对象在调用栈中只做引用不做存储，实际的存储是在堆里面实现的。那么我们如何查找对象在堆里的实际存储地址呢？通过我们对字典的了解，这个问题就迎刃而解了。字典也被称作映射、符号表或关联数组，这么说可能比较抽象，所以我们先来说说字典的一种实现：散列表。

## 散列表：如何检查单词是否存在

如果你用过一些文档编辑的软件，应该很常用的一个功能就是拼写检查，这个检查是怎么做到的呢？从它的最底层逻辑来说，就是看一个单词存在与否。那么一个单词是否存在是如何判断的呢？这里就需要用到散列表。散列表的实现逻辑就是基于每个单词都生成一个唯一的哈希值，把这些值存放在一个数组中。当我们想查询一个词是否有效，就看这个词的哈希值在数组中是否存在即可。

![图片](https://static001.geekbang.org/resource/image/93/aa/9376d0a27c25ebdf90d0939ca5704caa.png?wh=1732x456)

假设我们有上图中这样的一组城市的键值对组成的对象，我们可以看出，在哈希的过程中，一个城市的键名，通过一个哈希函数，生成一个对应的唯一的哈希值，这个值被放到数组中，形成一个哈希列表。下次，当我们想要访问其中数据的时候，就会通过对这个列表的遍历来查询相关的值。

这里我们可以看到，图中间位置的是哈希函数，我们需要一个哈希函数来生成哈希值，那么哈希值是怎么生成的呢？生成散列表中的哈希值有很多种方式，比如素数哈希、ASCII哈希，还有djb2等方式。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/17/52/0e/c5ff46d2.jpg" width="30px"><span>CondorHero</span> 👍（3） 💬（1）<div>能加餐讲讲 Map 和 Set 存储和操作数据为什么比 对象和数组高效吗。</div>2022-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/6a/7f/791d0f5e.jpg" width="30px"><span>李翔</span> 👍（1） 💬（1）<div>若创建了一个js对象，如何找到它对应的内存地址呢？</div>2022-10-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/d8/32/791d0f5e.jpg" width="30px"><span>安安安</span> 👍（2） 💬（0）<div>对象的映射关系是通过字典来存储的，这句话我认为并不是很准确。
通过V8文章https:&#47;&#47;v8.dev&#47;blog&#47;fast-properties 中的说法，对象属性分为快属性和慢属性。在快属性情况下是通过隐藏类(Hidden Class)上的描述符数组(descriptor array)来找到属性在内存中的地址。慢属性才使用了字典。</div>2023-02-22</li><br/>
</ul>