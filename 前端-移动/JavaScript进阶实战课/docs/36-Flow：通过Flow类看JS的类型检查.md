你好，我是石川。

前面我们讲了除了功能性和非功能性测试外，代码的质量检查和风格检查也能帮助我们发现和避免程序中潜在的问题，今天我们再来看看另外一种发现和避免潜在问题的方法——代码类型的检查。说到类型检查，TypeScript 可能是更合适的一门语言，但既然我们这个专栏主讲的是JavaScript，所以今天我们就通过 Flow ——这个 **JavaScript 的语言扩展**，来学习 JavaScript 中的类型检查。

如果你有 C 或 Java 语言的开发经验，那么对类型注释应该不陌生。我们拿 C 语言最经典的 Hello World 来举个例子，这里的 int 就代表整数，也就是函数的类型。那么，我们知道在JavaScript中，是没有类型注释要求的。而通过 Flow，我们既可以做类型注释，也可以对注释和未注释的代码做检查。

```javascript
#include <stdio.h>

int main() {
  printf("Hello World! \n");
  return 0;
}
```

它的**工作原理**很简单，总结起来就3步。

1. 给代码加类型注释；
2. 运行Flow工具来分析代码类型和相关的错误报告；
3. 当问题修复后，我们可以通过Babel或其它自动化的代码打包流程来去掉代码中的类型注释。

这里，你可能会想，为什么我们在第3步会删除注释呢？这是因为 Flow 的语言扩展本身并没有改变 JavaScript 本身的编译或语法，所以它只是我们**代码编写阶段的静态类型检查**。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1d/3a/8d/f5e7a20d.jpg" width="30px"><span>何以解忧</span> 👍（0） 💬（0）<div>完整性和可靠性，用这两个词区分，感觉很别扭，似乎很难表达两种理念的差异。我比较倾向于(completeness).毕竟我们得承认问题必然存在，我们能做的只是无限的减少问题，但是最好不以增加新问题为代价，哪怕漏掉一些，通过其他方式逼近收敛</div>2023-12-01</li><br/>
</ul>