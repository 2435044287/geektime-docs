你好，我是宋一玮，欢迎回到React应用开发的学习。

可能你已经发现了，前面第15节课的不可变数据、第16～17节的应用状态管理，还有上节课用TypeScript为React项目引入类型系统，其实都在为我们应对大中型React项目中的复杂数据流打基础。

大中型React项目复杂的不只是数据流，还有应用逻辑，所以接下来我们就把重点放到应用逻辑上。应用逻辑我们会分为**局部**和**整体**两个部分来学习，这节课我们先来看局部，即组件逻辑。

组件逻辑越来越复杂怎么办？我曾观察过不少单组件包含数百行、甚至上千行代码的情况。其中有结构清晰、易于维护的模范代码，但更多的还是可以当作负面典型的后进代码，这些组件代码往往存在以下问题：

- 承担了过多的职责；
- 业务逻辑和交互逻辑杂糅在一起；
- 从其他组件中复制粘贴代码。

具体表现为：

- 传递的props个数过多；
- 使用 `useState` 的个数过多；
- 单个 `useEffect` 的副作用回调函数行数过多；
- ……

这些问题大都可以通过抽象的方式改进。那么接下来，我们就来学习如何设计开发自定义Hooks和高阶组件，以达到抽象和代码复用。

## 抽象的目的

我们对抽象（Abstraction）并不陌生，前面[第13节课](https://time.geekbang.org/column/article/574161?)提到的面向接口编程，就是抽象的一种。MVC架构里M、V、C分别也都是抽象，后端开发中的分层架构，每一层也是抽象。在软件开发中，抽象可以用来降低程序的复杂度，使得开发者可以专注处理少数重要的部分。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/c8/04/fed4c1ad.jpg" width="30px"><span>若川</span> 👍（4） 💬（2）<div>思考题：
1. useState 只有两个值的数组，优点：解构命名方便，缺点：要按顺序。

const [name, setName] = useState()

自定义 hooks。返回对象，优点：不需要按顺序可以解构。缺点：解构如果需要重命名相对麻烦，比如const {name: PersonName} = useHooks();

一般来说超过三个用对象形式比较好。

2. 暂时实现不出~贴下 React.memo 源码链接: https:&#47;&#47;github.com&#47;facebook&#47;react&#47;blob&#47;main&#47;packages&#47;react&#47;src&#47;ReactMemo.js</div>2022-10-16</li><br/>
</ul>