你好，我是宋一玮，欢迎回到React应用开发的学习。

从上节课开始，我们进入了大中型React项目最重要的实践之一：自动化测试的学习。

我们首先了解了人工测试与自动化测试的区别，以及自动化测试对大型前端项目的重要意义，也建议由业务功能的开发者亲自来编写自动化测试脚本。然后我们学习了如何利用现代自动化测试框架Playwright，开发自动化E2E测试用例。

这节课，我们会继续学习大中型React项目的质量保证，利用单元测试进一步提升项目质量。同时也了解一下测试金字塔的理论，有助于你更深入理解端到端和单元测试的关系。

下面开始这节课的内容。

## 前端开发者应该了解的测试金字塔

首先回顾一下上节课提到的关于测试范围的观点：

> ……不会去尝试穷举所有可能性，否则开发出来的测试用例就算比源码都大好多好多倍，也都不一定能达到100%覆盖。

假设一段程序先后有2个条件分支，那么如果希望全覆盖到，则需要设计4个测试用例。如下图所示：

![图片](https://static001.geekbang.org/resource/image/c4/88/c440d3d59c709c73c61780d9d6a9a988.jpg?wh=1920x1080)

图中的4条颜色的连线对应了4个测试用例，分别是：

- A → B1 → C1 → D；
- A → B1 → C2 → D；
- A → B2 → C1 → D；
- A → B2 → C2 → D。

而在一个完整的前端应用中，这样的分支绝不在少数。可想而知，无论从编写效率还是执行效率来看，E2E测试都无法覆盖所有逻辑和交互分支。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/c1/ff/c870b262.jpg" width="30px"><span>Echo!!!</span> 👍（0） 💬（1）<div>大佬最近的代码是不是没有push呀</div>2022-10-26</li><br/>
</ul>