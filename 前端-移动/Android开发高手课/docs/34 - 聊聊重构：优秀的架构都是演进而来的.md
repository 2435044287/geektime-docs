每个程序员心中都有一个成为架构师的梦想，那成为架构师这个目标是否“遥不可及”呢？从我的工作经历来看，我一共负责过搜狗输入法、微信等4款亿级产品的架构工作，可能有同学会好奇这些大型的App是如何做架构设计的。从我接手的这些应用的现实情况来看，看似光鲜的外表下都有一颗千疮百孔的心：各种日志随便输出、单例满天飞、生命周期混乱、线程乱创建、线程不安全这些问题随处可见。

所以你可以看到每个大型应用都背负着沉重的历史技术债务，架构师很重要的一项工作就是重构“老态龙钟”的陈旧架构。在接下来的“架构演进”模块中，我们一起学习架构该如何的重构和演进，帮助我们及时偿还这些“历史债务”。

虽然我们天天都在谈“架构”，那你有没有想过究竟什么是架构呢？

## 什么是架构

什么是架构，每个人都有自己的看法。在我看来，所谓的架构就是面对业务需求场景给出合适的解决方案，使业务能够快速迭代，从而达到“提质增效”的目标。

我先举个例子，告诉你什么是架构，以及架构的作用。我曾经为了解决UI渲染卡顿这个需求场景，我们设计了异步创建View、异步布局与主线程渲染这个架构。不过架构只是设计的抽象，对于具体的实现，我们可以称之为框架。好的框架可以隐藏大家不需要关心的部分，提升我们的效率。例如Facebook的Litho、微信的[Vending](https://gryamy.gitbooks.io/vending-doc/content/)，它们通过框架约束和异步来解决Android应用UI线程卡顿问题。
<div><strong>精选留言（17）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg" width="30px"><span>大土豆</span> 👍（10） 💬（1）<div>逆向微信的过程中，发现微信很多架构都看得到历史变迁，比如说微信加密的主库中，几十张表，表名和字段名都命名有大小写驼峰，有小写下划线。微信App内部的私有协议中，有纯二进制协议，有二进制和文本混合(朋友圈snsinfo表的blob类型的字段)，有纯文本协议的，纯文本的又有json的，有xml的，还有用冒号隔开内容的自定义格式的。</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/4d/4a/e13779af.jpg" width="30px"><span>CoderAndy</span> 👍（9） 💬（1）<div>记得自己15年刚入行的时候，小公司一个人负责Android客户端的开发，觉得把控项目的技术方案算是架构；后来去某直播平台上10+人的Android项目组觉得把写出优秀的框架也算架构；现在我我觉得架构真的像作者说的无处不在，一个小的需求，不同人的实现是可能有差别的，而且同一人在不同的环境和技术积淀下也会不同。所以，以求更好方为上策。</div>2019-03-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/1a/82/f039ae08.jpg" width="30px"><span>gk</span> 👍（4） 💬（1）<div>但是在最终产物上，组件化已经回归模块化…能举例说明下什么样算回归模块化，另外组件化会有什么问题？烦请有空解答下</div>2019-07-10</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLobEjahgqrVyY6Gdo03rfwLr083dfcSSiaLzeD1AQMYzLKpLq44HqOpVZgycNVBp1zoHibPAydyO4g/132" width="30px"><span>Geek_3r58d4</span> 👍（3） 💬（1）<div>我一直认为架构是一个很抽象的话题，别人只能分享他们当时特定的困难下如何解决问题，从而演变出现在稳定高效的框架，我们能汲取的只是他们思考问题的方式，出现问题的根源是什么，有什么方式可以解决，这些解决方案中哪些是优秀的方案。</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg" width="30px"><span>大土豆</span> 👍（2） 💬（1）<div>微信的db读写，不知道你们是怎么做的😄，我现在IM的架构是读写全在主线程(主线程io没有大家想象的这么可怕，只是数据量多的时候，还是会卡)，我现在的想法是下个版本改成一个线程专门写，然后读可以多线程读</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/75/af/db4a236d.jpg" width="30px"><span>邱逢生</span> 👍（0） 💬（1）<div>Github搜索不到vending？</div>2019-04-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/4a/b7/a3468e61.jpg" width="30px"><span>OF</span> 👍（8） 💬（0）<div>这大土豆可真行。。。</div>2019-09-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/73/51/e3e45b3f.jpg" width="30px"><span>1</span> 👍（2） 💬（0）<div>一个技术人的一生应该有个代表作，给自己的技术生涯一个交代。读后感觉醍醐灌顶。感谢绍文老师！</div>2019-07-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/94/6b/60ff0454.jpg" width="30px"><span>问答</span> 👍（2） 💬（0）<div>高屋建瓴，很棒</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a4/f5/9ce95dd5.jpg" width="30px"><span>JeffMony</span> 👍（1） 💬（0）<div>文章讲得非常好，设计一个架构并不是非常高大上的项目，只是一种设计思想，很小的模块也可以体现搞抄的架构设计思想；受教了。</div>2020-03-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/6c/d0/21ad5ed4.jpg" width="30px"><span>落英坠露</span> 👍（1） 💬（0）<div>引进架构的目的是为了可维护、可扩展，不同的需求由不同的人做确实不一样。我的原则就是抽象、隔离有层次，按功能划分模块，然后使用合适的设计模式规划。</div>2019-03-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/b5/ce/0f6ef261.jpg" width="30px"><span>单车少年</span> 👍（0） 💬（0）<div>实在是太强了，学习的榜样</div>2021-06-06</li><br/><li><img src="" width="30px"><span>文培定</span> 👍（0） 💬（0）<div>其它章节在大神的光辉下，我无法可说，只有惶恐和崇拜！当这章我不太赞同某些观点。软件的基本架构就是就只有那么几种，各个公司的架构其实只是这些架构的细化。架构没那么高端没那么神秘，具体可搜后端架构模式和软件架构模式。当然知道架构是啥并不表示你就能成为架构师，差远呢！PS：me纯粹门外汉~</div>2021-05-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/45/46/c7662aa8.jpg" width="30px"><span>James</span> 👍（0） 💬（0）<div>第一次使用MVP将之前老旧的项目重构了一次，感觉很不错，使用最新的这些框架，虽然开发慢了点，但是整体更有规划</div>2020-05-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/f2/1e/679789f7.jpg" width="30px"><span>米米呀👧</span> 👍（0） 💬（2）<div>确定HAL是Android8.0后才有？</div>2020-03-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg" width="30px"><span>程序员小跃</span> 👍（0） 💬（0）<div>一个技术人应该有个代表作。目前为止，我的代表作就是在项目组长搭建的基础上，完成了我们现有系统的聊天大部分功能。

这虽然不是自己独立做的，但也是和组长两个人的成果，而且最后效果比预期的好，接下来的目标就是，脱离组长，自己建立一个架构体系，加油</div>2019-07-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/50/12/74d414d4.jpg" width="30px"><span>LD</span> 👍（0） 💬（0）<div>我现在去架构的理解就是整合好的第三方框架到项目，规范项目内框架的使用，codereiew避免垃圾代码进入。</div>2019-03-22</li><br/>
</ul>