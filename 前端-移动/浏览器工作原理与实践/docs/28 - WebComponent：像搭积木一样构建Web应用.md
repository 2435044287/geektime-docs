在[上一篇文章](https://time.geekbang.org/column/article/144983)中我们从技术演变的角度介绍了PWA，这是一套集合了多种技术的理念，让浏览器渐进式适应设备端。今天我们要站在开发者和项目角度来聊聊WebComponent，同样它也是一套技术的组合，能提供给开发者组件化开发的能力。

那什么是组件化呢？

其实组件化并没有一个明确的定义，不过这里我们可以使用10个字来形容什么是组件化，那就是：**对内高内聚，对外低耦合**。对内各个元素彼此紧密结合、相互依赖，对外和其他组件的联系最少且接口简单。

可以说，程序员对组件化开发有着天生的需求，因为一个稍微复杂点的项目，就涉及到多人协作开发的问题，每个人负责的组件需要尽可能独立完成自己的功能，其组件的内部状态不能影响到别人的组件，在需要和其他组件交互的地方得提前协商好接口。通过组件化可以降低整个系统的耦合度，同时也降低程序员之间沟通复杂度，让系统变得更加易于维护。

使用组件化能带来很多优势，所以很多语言天生就对组件化提供了很好的支持，比如C/C++就可以很好地将功能封装成模块，无论是业务逻辑，还是基础功能，抑或是UI，都能很好地将其组合在一起，实现组件内部的高度内聚、组件之间的低耦合。

大部分语言都能实现组件化，归根结底在于编程语言特性，大多数语言都有自己的函数级作用域、块级作用域和类，可以将内部的状态数据隐藏在作用域之下或者对象的内部，这样外部就无法访问了，然后通过约定好的接口和外部进行通信。
<div><strong>精选留言（28）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1a/e9/7b/b844f3a4.jpg" width="30px"><span>匡晨辉</span> 👍（82） 💬（0）<div>web component是通过浏览器引擎提供api接口进行操作，让后在dom，cssom生成过程中控制实现组件化的作用域&#47;执行执行上下文的隔离； vue&#47;react 是在没有浏览器引擎支持的情况下，通过采取一些取巧的手法（比如：js执行上下文的封装利用闭包；样式的封装利用文件hash值作为命名空间在css选择的时候多套一层选择条件（hash值），本质上还是全局的只是不同组件css选择的时候只能选择到组件相应的css样式，实现的隔离）</div>2019-12-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/5a/c5/221ab4d9.jpg" width="30px"><span>wubinsheng</span> 👍（50） 💬（1）<div>原来小程序用的是webComponent，控制台满屏的“#shadow-root”</div>2019-10-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/c9/1d/c7586cfc.jpg" width="30px"><span>Snail</span> 👍（32） 💬（1）<div>Vue，React是从开发者层面解决了组件化的问题，提高了效率。WebComponent是从浏览器引擎实现层面解决了组件化的问题，从社区来看，前者的发展优势更明显</div>2019-12-16</li><br/><li><img src="" width="30px"><span>Geek_6x3b9v</span> 👍（16） 💬（4）<div>webComponent标准可以成为框架间的桥梁.

组件内部可以用vue&#47;react或随便什么技术实现,只要最终实现约定接口即可.

这样的话,就可以引入用react开发的A组件,同时引入用vue开发的B组件,而他们都在一个Angular项目中.就像一个原生html标签一样被使用.

所以这也可以是微前端的一种实现方式</div>2020-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg" width="30px"><span>mfist</span> 👍（12） 💬（0）<div>下面是我的理解，请老师纠正。
在没有webcomponent的时候，通过react和vue基于当前的前端特性去实现组件化，他们之间是互相影响和借鉴的，最终react和vue也会向webcomponent标准的方向演进。但是现在由于webcomponent的浏览器支持还不是太好，所以现阶段它们还是会并存的
</div>2019-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/94/82/d0a417ba.jpg" width="30px"><span>蓝配鸡</span> 👍（9） 💬（0）<div>才疏学浅， 以下是个人的理解：

两者互相补充， 互不影响

react提供了陈述式的方法编写网页， 让用户不需要去关心dom改变之类的细节

webComponent则是提供了封装</div>2019-10-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c0/5c/10111544.jpg" width="30px"><span>张峰</span> 👍（2） 💬（0）<div>web-component之于vue&#47;react，类似于ES6789之于coffeeScript&#47;typeScript，后者只是前者的临时替补，omi和angular都已经支持web-component</div>2019-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c0/5c/10111544.jpg" width="30px"><span>张峰</span> 👍（2） 💬（1）<div>shadow dom 中的style使用rem，r是相对的html的font-size 这点很坑</div>2019-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/f8/8a/f7e7fd54.jpg" width="30px"><span>君自兰芳</span> 👍（1） 💬（1）<div>“在影子 DOM 定义的 JavaScript 函数依然可以被外部访问”

有个疑问，在影子 DOM 定义的变量或函数是属于全局作用域吗？</div>2020-11-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/75/e3/ef489d57.jpg" width="30px"><span>Roy</span> 👍（1） 💬（0）<div>webcomponent很好的实现与第三方应用的组合使用。</div>2020-04-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg" width="30px"><span>HoSalt</span> 👍（1） 💬（0）<div>WebComponents 如何传递数据以及如何重置样式？</div>2020-04-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ac/f0/5d52d73e.jpg" width="30px"><span>Jy</span> 👍（1） 💬（1）<div>WebComponent使用后，搜索引擎的SEO支持如何？</div>2020-03-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/3a/f5/1fa34f88.jpg" width="30px"><span>润曦</span> 👍（0） 💬（0）<div>Web Components 和前端框架并不是非此即彼的关系，而是可以在不同的场景中互补使用。如果你想要构建一个高度可复用、与框架无关的组件库，Web Components 是很好的选择。而 React 和 Vue 提供了强大的生态系统和开发体验，更适合开发大型复杂的应用。</div>2024-10-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>学习打卡</div>2024-05-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/c1/05/fd1d47b6.jpg" width="30px"><span>空间</span> 👍（0） 💬（0）<div>请问web componet 有没有解决跨文件代码复用和前端工程化的问题呢？是如何做到的？</div>2023-09-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg" width="30px"><span>neohope</span> 👍（0） 💬（0）<div>虚拟DOM解决的是效率问题，防止频繁的DOM操作，导致浏览器不断的刷新，将多次刷新操作，变成一次刷新操作。

影子DOM解决的是作用域隔离的问题，特别是在大规模项目上，可以规避全局设置的相互影响。

其实这两种方案，都是在现行标准下的解决方案，问题确实是解决了，但算不上优雅。还是期待能在语言规范和浏览器底层进行解决，这样才能真正去取代本地应用和各种小程序。</div>2020-07-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/b8/79/a4dbe9ee.jpg" width="30px"><span>blueBean</span> 👍（0） 💬（1）<div>老师请问应该如何拿到shadowDom呢？只能用选择器选中自定义标签，shadowDom下的元素全都选不到，没办法在它的子元素下操作dom，网上也没找到解决办法..老师知道怎么拿吗？</div>2020-03-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/6b/1f/f7be5246.jpg" width="30px"><span>大前端洞见</span> 👍（0） 💬（0）<div>webcomponent 组件目前是可以在 angular react 框架中渲染使用的。</div>2020-03-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/00/e1/6538ec45.jpg" width="30px"><span>狂躁小胖</span> 👍（0） 💬（0）<div>Webcomponent、React以及Vue都实现了DOM的组件化，webcomponent 是W3C的亲儿子，通过shadow dom 技术实现dom以及css的隔离；React以及Vue则不是正规军，但是也同样达到了dom组件化的目的，然后结合已有的html特性实现样式的隔离比如scoped。</div>2020-03-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/e9/7b/b844f3a4.jpg" width="30px"><span>匡晨辉</span> 👍（0） 💬（1）<div>在回答课后题的过程中我又想到一个问题：文中讲述了WebComponent对cssom， dom的隔离，没有谈到对WebComponent中的js作用域的隔离，老师能具体讲讲js的作用域在web component的实现中是怎么实现隔离的呢？</div>2019-12-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/2c/70/02b627a6.jpg" width="30px"><span>coder</span> 👍（0） 💬（0）<div>有个疑问，“影子 DOM 中的元素对于整个网页是不可见的”，那么“再将模板添加到影子 DOM 上”，不还是看不见吗？也就是虽然我们组件化了，但是这个组件我们看不见？这样看不见的组件有什么使用意义吗？</div>2019-12-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/44/0e/ce14b7d3.jpg" width="30px"><span>-_-|||</span> 👍（0） 💬（0）<div>vue&#47;react的出现一个目的就是解决前端组件化，WebComponents也是在组件化的思想下产生的。有点像“开局就送vip，一刀999“的感觉，这样后期框架在基于WebComponents演进的过程中，会有更好的体验，自然也要求WebComponents不断的完善。</div>2019-12-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/f1/0f/8b36016d.jpg" width="30px"><span>陈十二</span> 👍（0） 💬（0）<div>React Vue 的出现是为了解决包括 WebComponent 想解决的问题在内的很多 web 开发的痛点，在单纯组件化方面 他们采取了各自的解决方案，我觉得 webcomponent 应该考虑借鉴流行度高的框架的实现。</div>2019-12-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/a1/8e/03aeb9df.jpg" width="30px"><span>Rocky</span> 👍（0） 💬（0）<div>vue中的单组件和react组件类似webcomponent,dom和css隔离。vue和react是通过框架层面实现了组件化</div>2019-11-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/da/9b/e0ef47df.jpg" width="30px"><span>凭实力写bug</span> 👍（0） 💬（0）<div>个有问题, webComponent提供了封装但这组件怎么被引用用到其他html中,</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/9c/20/37ec7b9b.jpg" width="30px"><span>Tao</span> 👍（0） 💬（0）<div>Web Component 和 Vue 组件化开发方式相似，React 世界里一切都可以是js，css-in-js 方案，相比 Vue，React，Web Component 更具纯粹，不需要任何外库，缺点是用的人太少，相关生态（组件库）几乎没有</div>2019-10-09</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJbh5FQajwKhNlMrkoSklPpOXBtEYXCLvuWibhfWIS9QxHWDqzhEHJzEdmtUiaiaqFjfpsr2LwgNGpbQ/132" width="30px"><span>Geek_q29f6t</span> 👍（0） 💬（0）<div>angular js里的directive应该也是用webcomponent实现的吧？一直挺好奇它的实现方式的。今天懂了</div>2019-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/9a/68/92caeed6.jpg" width="30px"><span>Shine</span> 👍（0） 💬（0）<div>react和vue通过scoped css来声明样式的局部性.通过给当前root元素添加一个hashed id, 其样式在当前id范围内。
而angular是shadow dom实现的</div>2019-10-08</li><br/>
</ul>