你好，我是陈航。

在前面两篇文章中，我们一起学习了构建视图的基本元素：文本、图片和按钮，用于展示一组连续视图元素的ListView，以及处理多重嵌套的可滚动视图的CustomScrollView。

在Flutter中，一个完整的界面通常就是由这些小型、单用途的基本控件元素依据特定的布局规则堆砌而成的。那么今天，我就带你一起学习一下，在Flutter中，搭建出一个漂亮的布局，我们需要了解哪些布局规则，以及这些规则与其他平台类似概念的差别在哪里。希望这样的设计，可以帮助你站在已有经验的基础上去高效学习Flutter的布局规则。

我们已经知道，在Flutter中一切皆Widget，那么布局也不例外。但与基本控件元素不同，布局类的Widget并不会直接呈现视觉内容，而是作为承载其他子Widget的容器。

这些布局类的Widget，内部都会包含一个或多个子控件，并且都提供了摆放子控件的不同布局方式，可以实现子控件的对齐、嵌套、层叠和缩放等。而我们要做的就是，通过各种定制化的参数，将其内部的子Widget依照自己的布局规则放置在特定的位置上，最终形成一个漂亮的布局。

Flutter提供了31种[布局Widget](https://flutter.dev/docs/development/ui/widgets/layout)，对布局控件的划分非常详细，一些相同（或相似）的视觉效果可以通过多种布局控件实现，因此布局类型相比原生Android、iOS平台多了不少。比如，Android布局一般就只有FrameLayout、LinearLayout、RelativeLayout、GridLayout和TableLayout这5种，而iOS的布局更少，只有Frame布局和自动布局两种。
<div><strong>精选留言（25）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxMjZcn8LFy6PIT7uGzUOHTCZosTwh39jBKlyW3Ffzyscm14PQGh3QZ1GrEGF4UWxwKZrAib8AXCA/132" width="30px"><span>江宁彭于晏</span> 👍（27） 💬（2）<div>Row 与 Column 自身的大小由父widget的大小、子widget的大小、以及mainSize设置共同决定（mainAxisSize和crossAxisSize)
-主轴（纵轴）值为max：主轴（纵轴）大小等于屏幕主轴（纵轴）方向大小或者父widget主轴（纵轴）方向大小
-主轴（纵轴）值为min： 所有子widget组合在一起的主轴（纵轴）大小</div>2019-08-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/44/d5/ca522e83.jpg" width="30px"><span>爱吃胡萝卜</span> 👍（13） 💬（2）<div>个人看来ios布局最核心的就是求解线性方程组，ios的uiview是不解耦的，属性配置，布局，交互都在一起。flutter 直接在系统层面进行解耦，分别对应装饰者模式,布局widget和交互接口，从系统设计层面进行解耦，更有利于程序健壮性和可读性</div>2019-08-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg" width="30px"><span>许童童</span> 👍（1） 💬（1）<div>自身大小由主轴的大小属性确定，MainAxisSize.max。当它们嵌套时，还是按照自身的属性，确定主轴、纵轴、和自己的定位。</div>2019-07-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/fb/8c/ffc4215e.jpg" width="30px"><span>sixgod</span> 👍（0） 💬（1）<div>想要让某个widget固定在页面某个位置的话需要用stack把整个页面包起来吗</div>2019-10-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e8/95/13b88119.jpg" width="30px"><span>面向加薪学习</span> 👍（0） 💬（1）<div>Stack 容器与前端中的绝对定位
请教一下，这个如果在适配不同设备的时候，会不会有问题？</div>2019-09-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/6c/cf/baa4ee4d.jpg" width="30px"><span>浣熊特工队</span> 👍（0） 💬（1）<div>请问老师，如何设置一个Widget的宽度为百分比大小呢？</div>2019-09-03</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJV94SB9GY6ErM23QZ3jbYY7eIqbhoWHIMR2uusibj2Jib0CvAj64MLibkjwcCN6tOdgfW6dfNPpuhw/132" width="30px"><span>Zxt</span> 👍（0） 💬（1）<div>请问子视图绝对定位布局时需要父视图的size，但获取size时会报错原因大概是父视图还没有渲染完成，这种情况应该怎么解决呢？ 父视图尺寸不固定</div>2019-08-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/1d/dc/a0badec7.jpg" width="30px"><span>Cm trésor</span> 👍（0） 💬（2）<div>老师，你好，我在一个高度不固定的容器里画一条与容器等高的线该如何实现？尝试了好久都不行</div>2019-08-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/da/9d/0b1fb44c.jpg" width="30px"><span>罗勇</span> 👍（0） 💬（2）<div>与安卓布局大致对应关系：
Row&#47;Column  -&gt; LinearLayout
Stack -&gt; RelativeLayout
Positoned -&gt; AbsoluteLayout</div>2019-08-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/44/d5/ca522e83.jpg" width="30px"><span>爱吃胡萝卜</span> 👍（0） 💬（3）<div>能不能抽空讲讲flutter 和ios以及aos布局思维方式的差异，因为经常使用自动布局，导致在写flutter 的时候各种布局错误。
</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/55/e4/7061abd5.jpg" width="30px"><span>Mr.J</span> 👍（0） 💬（2）<div>老师您好，在Fluuter中布局的时候，经常碰到大小超出范围，有时候在这个模拟器上运行没事，运行到别的设备上就会有提示说布局超出范围，这个问题要怎么注意呢</div>2019-08-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/77/ff/4ce0aa51.jpg" width="30px"><span>Ω</span> 👍（0） 💬（2）<div>使用 Android studio 如何在手机屏幕上查看控件所占有的位置大小</div>2019-08-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/5b/89/b4f6caef.jpg" width="30px"><span>Dendi</span> 👍（0） 💬（1）<div>Stack布局中最下面一行文字应该是叠加在绿色视图上的吧，只是由于位置的原因向下偏移了</div>2019-08-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/5b/38/42ff18f1.jpg" width="30px"><span>Running</span> 👍（0） 💬（1）<div>Row与Column是根据mainSize以及父Widget共同决定，如果父Widget没法确定大小，那么Row与Column就会出错</div>2019-07-30</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132" width="30px"><span>jayce</span> 👍（6） 💬（0）<div>没有类似Android的ConstraintLayout和ios Masonry（相对于同级控件布局，父控件，百分比等）么？
大量使用Row, Column,Box，Center，层级嵌套感觉很多</div>2020-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg" width="30px"><span>许童童</span> 👍（4） 💬（1）<div>老师讲得真好，之前看了很多Flutter布局的书，都没有讲到要点，看了老师这篇文章，真的是醍醐灌顶啊！</div>2019-07-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/65/1a/5f3d7f5f.jpg" width="30px"><span>锦旗小能猫</span> 👍（2） 💬（0）<div>看其他资料不会举例子所以有时候看的一头雾水，陈航老师就会举例子，让人一看就知道就是这么回事，很棒</div>2019-07-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/18/25/7c7e63bd.jpg" width="30px"><span>Summer</span> 👍（1） 💬（0）<div>Row 和 Column应该类似于iOS中的StackView吧</div>2020-07-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg" width="30px"><span>美美</span> 👍（1） 💬（0）<div>👍</div>2020-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/5a/7f/c50d520e.jpg" width="30px"><span>颜为晨</span> 👍（1） 💬（1）<div>cross axis 好像是横轴😁</div>2019-10-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8f/c9/833d5060.jpg" width="30px"><span>玉皇大亮</span> 👍（0） 💬（0）<div>Row 与 Column 自身大小取决于父 widget、子 widgets、主（纵）轴mainAxisSize和crossAxisSize的设置</div>2024-02-21</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLvlwicFIhWEcwqOxHWhibWzx50icMA5HiboB872gDMRSfMG2GR1O6mCR1X5k57OHQ5n69zjErG60p0PA/132" width="30px"><span>暖风</span> 👍（0） 💬（0）<div>Padding(
                padding: EdgeInsets.all(44.0),
                child: Text(
                  &#39;Container（容器）在UI框&#39;,
                  textAlign: TextAlign.left,
                )),
文字设置居左对齐，在文字内容比较少的时候，整体还是剧中的，这种情况怎么处理呀，有没有什么简单的属性配置就可以保证一直居左，而不是通过套widget或固定宽高的方式？</div>2021-01-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/9d/860cc8b7.jpg" width="30px"><span>Sen</span> 👍（0） 💬（1）<div>老师总结得很到位，刚从android转过来，感觉每每需要调整一下padding或者margin时，又需要加入层Widget套娃，这一次感觉有些逆思维，不太友好</div>2020-12-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/df/9f/6db75dff.jpg" width="30px"><span>Random</span> 👍（0） 💬（0）<div>Fluttet的UI部分对web前端很友好，插件部分对原生开发人员很友好。在UI开发上，web方案已经经过考验了</div>2020-11-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/7a/bb/26a3c848.jpg" width="30px"><span>Tidom</span> 👍（0） 💬（0）<div>满满的干货</div>2019-07-31</li><br/>
</ul>