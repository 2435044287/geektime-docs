你好，我是杨文坚。

从这一课开始，我们进入平台优化、扩展设计开发阶段的增强篇，主要会分为五个部分：单元测试、页面功能、服务端功能、多进程部署、日志收集与问题排错。

今天我们学习全栈项目如何进行单元测试。

前端领域的单元测试，之前（[14 讲](https://time.geekbang.org/column/article/614518)）我们已经学习了，使用Vue.js官方维护的测试工具Vitest，结合项目本身的Vite配置，自动编译和测试Vue.js代码。在前端单元测试过程中，我们主要用Node.js运行环境，模拟浏览器的API，直接对开发中的前端代码进行单元测试，保障前端代码的质量。

现在回到课程的全栈项目，我们还需要对Node.js服务端代码进行单元测试。

因为运营搭建平台的服务端代码，本身就是运行在Node.js环境的，我们可以把单元测试直接放在Node.js环境中进行。不过，这里你可能会有疑问，进行前端代码单元测试的时候，理论上也调用服务端提供的HTTP接口直接使用，并且进行测试，等于间接测试了服务端，为什么还要单独对服务端代码做单元测试呢？

## 为什么需要对服务端做单元测试

首先要明确一个观点，无论全栈项目用什么技术开发服务端，服务端单元测试都是必须要做的操作。

因为服务端不像前端那么“方便”。前端代码可以“所见即所得”，直接让代码运行在浏览器里验证前端功能效果，但是，服务端，**很多功能都是“不可见”的内容**，例如HTTP接口、HTTP请求的状态情况、TCP通信接口，甚至是业务代码的各种API、数据库调用操作等等。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>学习打卡</div>2024-10-05</li><br/>
</ul>