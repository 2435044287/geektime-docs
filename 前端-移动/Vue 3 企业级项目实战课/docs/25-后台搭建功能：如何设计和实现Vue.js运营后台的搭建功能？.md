你好，我是杨文坚。

在课程项目“运营搭建平台”的功能分析中，我们把平台功能分成三大功能维度，“用户维度”“物料维度”和“页面维度”。

页面的数据结构，其实就是物料数据源的组成，上节课我们用JSON Schema来描述物料数据源，等于描述了页面的数据结构。物料维度相关的内容和技术实现就告一段落。从今天开始，我们进入页面功能维度的学习。

页面功能维度，是我们运营搭建平台项目最后一个功能维度，也是最重要、最复杂的功能维度。

页面功能维度可以分成五大功能模块，“页面搭建”“页面编译和运行”“页面发布流程”“页面版本管理”和“页面渲染方式”，按照业务逻辑的操作顺序，先有“页面搭建”，才能生产页面数据，从而带动后续的功能操作。所以，这节课我们就来学习运营搭建平台的“页面搭建”功能。

## 如何设计页面搭建的数据格式

之前我们说过，页面是由物料组成的，物料是由Vue.js组件和数据源组成的，而数据源构成页面的数据结构。所以，不管是页面还是物料，最底层的构成元素就是“数据”和“静态资源”，页面的搭建，也是围绕着“数据”和“静态资源”来实现的。

那么，我们要做的事情就是页面的数据格式设计。

不过设计搭建页面的数据格式之前，**我们要先对页面布局结构做设计**。毕竟，页面不是简单的物料叠加组合，而是根据有规范的排列规则，来排列物料。这个排列规律就是布局设计。当布局设计出来后，我们根据布局里的“坑位”来填充物料，就能形成一张完整的页面。
<div><strong>精选留言（4）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/17/6a/18/d9e067f0.jpg" width="30px"><span>cyw0220</span> 👍（1） 💬（1）<div>AMD动态加载比较方便吧</div>2023-02-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>学习打卡</div>2024-09-27</li><br/><li><img src="" width="30px"><span>Geek_12e8fd</span> 👍（0） 💬（0）<div>在页面搭建技术方案设计中，选择使用AMD模块格式而不是ESM模块格式来渲染物料组件，主要是基于以下几个方面的考虑：

异步加载：AMD（Asynchronous Module Definition）模块允许模块在需要时异步加载，这对于页面搭建来说非常有用。因为页面搭建过程中，可能需要根据用户的操作动态地加载和渲染不同的物料组件。AMD的异步加载特性可以确保在需要某个组件时再进行加载，从而优化页面加载性能。
浏览器兼容性：虽然现代浏览器普遍支持ESM（ECMAScript Modules），但在一些较旧的浏览器版本中，ESM的支持可能不够完善。使用AMD模块可以确保更好的浏览器兼容性，特别是对于那些需要支持旧版本浏览器的页面搭建场景。
配置和工具链集成：在某些情况下，现有的构建工具链和配置可能已经针对AMD模块进行了优化。例如，一些打包工具（如RequireJS）默认就支持AMD模块，这使得在现有工具链中集成AMD模块更加容易。相比之下，集成ESM模块可能需要额外的配置和工具支持。
模块依赖管理：AMD模块定义中明确指出了模块的依赖关系，这有助于在模块加载过程中进行依赖管理。在页面搭建过程中，物料组件之间可能存在复杂的依赖关系，使用AMD模块可以确保这些依赖关系得到正确的处理。
需要注意的是，随着现代前端技术的发展和浏览器对ESM支持的不断完善，ESM模块格式在前端项目中的应用也越来越广泛。因此，在选择使用AMD还是ESM模块格式时，需要根据具体的项目需求和场景来做出决策。在一些新的或者对性能要求较高的项目中，ESM模块格式可能是一个更好的选择。

</div>2024-06-14</li><br/><li><img src="" width="30px"><span>Geek_c5f625</span> 👍（0） 💬（0）<div>老师能帮忙看下具体的错误吗，按照课程代码运行在page-editor.tsx中出现 ReferenceError: __VUE_HMR_RUNTIME__ is not defined</div>2023-09-16</li><br/>
</ul>