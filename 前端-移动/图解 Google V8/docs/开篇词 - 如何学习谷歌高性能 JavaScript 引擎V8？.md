你好，我是李兵，《[浏览器工作原理与实践](https://time.geekbang.org/column/intro/216?utm_term=zeusQYFJN&utm_source=app&utm_medium=geektime&utm_campaign=216-end&utm_content=v8zhuanlankaipianci0316)》专栏的作者。在浏览器专栏中，我们对浏览器的工作原理进行了详细的介绍，其中也提到了V8是如何执行JavaScript代码的。很多朋友对这部分的学习意犹未尽，因此我又回到了极客时间，与你深入聊聊V8。

## 什么是V8？

V8是JavaScript虚拟机的一种。我们可以简单地把JavaScript虚拟机理解成是一个翻译程序，将人类能够理解的**编程语言JavaScript**，翻译成机器能够理解的**机器语言**。如下图所示：

![](https://static001.geekbang.org/resource/image/8a/a1/8a40fd003baa9be179fe2e55a1be5fa1.jpg?wh=1142%2A308 "JavaScript引擎")

上图中，中间的“黑盒”就是JavaScript引擎V8。目前市面上有很多种JavaScript引擎，诸如SpiderMonkey、V8、JavaScriptCore等。而由谷歌开发的开源项目V8是当下使用最广泛的JavaScript虚拟机，全球有超过25亿台安卓设备，而这些设备中都使用了Chrome浏览器，所以我们写的JavaScript应用，大都跑在V8上。

V8之所以拥有如此庞大的生态圈，也和它许多革命性的设计是分不开的。

在V8出现之前，所有的JavaScript虚拟机所采用的都是解释执行的方式，这是JavaScript执行速度过慢的一个主要原因。而V8率先引入了即时编译（JIT）的双轮驱动的设计，这是一种权衡策略，混合编译执行和解释执行这两种手段，给JavaScript的执行速度带来了极大的提升。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/15/0e/94/4a2bb019.jpg" width="30px"><span>Lorin</span> 👍（54） 💬（6）<div>老师，我大学是自学前端的，毕业后已经从事前端工作好几年了，但是还是感觉自己技术很水，这种怎么办？</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg" width="30px"><span>mfist</span> 👍（14） 💬（1）<div>从去年看到v8课程的介绍，就准备购买了。从上次浏览器相关的课程收获挺大，希望老师这次课程能带我们了解v8 的内部机制。</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/0e/ce/1e02a513.jpg" width="30px"><span>刘大夫</span> 👍（13） 💬（3）<div>请教下前辈，为什么解释执行就会导致语言执行速度过慢呢，期待您简单回复，或者给出相关资料我自己去查也可以，感谢</div>2020-03-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg" width="30px"><span>夜空中最亮的星</span> 👍（12） 💬（2）<div>老师我成功劝说一个前端买了，正在努力劝说第二个</div>2020-03-16</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoaxy8ibvXITdMcXFfd5O5E7Epq8MG5z1OBhO7MQXTfbcpA0fpcsIxkCHyUZ5ZSrj3spZpAQxEC9GA/132" width="30px"><span>非洲大地我最凶</span> 👍（9） 💬（2）<div>看完浏览器课程来看这个，真的写的很好，老师我有一个问题，JS引擎和浏览器的进程之间有什么关系呢，是在渲染的时候调用JS引擎吗</div>2020-03-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/4a/fa/7937b03c.jpg" width="30px"><span>思不歌</span> 👍（5） 💬（2）<div>老师，有一个疑惑想问下，v8作为js解释器，是会将js代码转成c++执行吗，还是会直接编译成机器码，丢进内存执行。</div>2020-04-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/cb/ce/d9e00eb5.jpg" width="30px"><span>undefined</span> 👍（5） 💬（2）<div>插图是用什么工具画的？</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/f2/06/ebb5b764.jpg" width="30px"><span>NikkiZeng</span> 👍（4） 💬（4）<div>老师，v8的事件循环系统和浏览器的事件循环系统不是同一个东西么？</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f5/b9/888fe350.jpg" width="30px"><span>不记年</span> 👍（3） 💬（1）<div>我不是做前端的，但是对编译原理和异步编程很感兴趣，所以这门课也不能错过~</div>2020-03-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/4a/fa/7937b03c.jpg" width="30px"><span>思不歌</span> 👍（2） 💬（1）<div>老师，v8执行js代码时，内存区域怎么分配，会和Jvm类似吗</div>2020-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/b3/44/548e48e8.jpg" width="30px"><span>离人生巅峰还差一只猫🐈</span> 👍（1） 💬（1）<div>老师你好，我想问问，关于variable env, lexical env这些相关知识可以在哪里看一些文档，在实践中，怎么debug获取这些信息</div>2020-06-26</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKvNozkiaiao1IzMC6hyc79H885bic0wLkl8pmtyIuBgXcBiahpKhRC3rWsicUvDuoPgahMpJ40dkEtRVw/132" width="30px"><span>我有猫病吧</span> 👍（1） 💬（1）<div>从vx公众号看到的这门课，非常高兴跟着老师学习v8</div>2020-05-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/9c/20/9322bc60.jpg" width="30px"><span>沐</span> 👍（1） 💬（1）<div>老师 文档中写道 同时发送多个js执行请求就需要排队 也就是进行异步编程 我的问题是 进行排队不是同步编程么？</div>2020-04-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/d6/43/0704d7db.jpg" width="30px"><span>cc</span> 👍（1） 💬（1）<div>学后端的也过来学习一下😁

有几个疑问希望老师能解答一下：

「V8 是 JavaScript 虚拟机的一种」，可以理解成类似Java中的Hotspot虚拟机吗？

但是Java的虚拟机不会处理编译等过程，不同厂商的Java虚拟机使用的字节码都是一样的。文章中说的V8编译是指什么呢，难道不同JavaScript虚拟机用到的字节码是不同的吗？
</div>2020-03-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/37/d5/22299804.jpg" width="30px"><span>大树</span> 👍（0） 💬（1）<div>V8 开一个分支  直接支持  typescript 性能会更高吗</div>2020-05-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/44/a4/7a45d979.jpg" width="30px"><span>IT蜗壳-Tango</span> 👍（0） 💬（1）<div>准备打卡学习。</div>2020-03-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/39/4d/89d80206.jpg" width="30px"><span>nulife</span> 👍（0） 💬（1）<div>开始学习</div>2020-03-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/40/aa/49bbb007.jpg" width="30px"><span>нáпの゛</span> 👍（0） 💬（1）<div>这课来的很及时</div>2020-03-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/44/26ac883e.jpg" width="30px"><span>桃翁</span> 👍（0） 💬（1）<div>终于有系统的资料学习v8了，感动</div>2020-03-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/30/3a/e970285b.jpg" width="30px"><span>刘长锋</span> 👍（0） 💬（4）<div>老师，使用 new 加构造函数来创建对象，是不好的设计么？为什么呢？

好的设计是什么？ Class ? Object.create() ?</div>2020-03-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg" width="30px"><span>qinsi</span> 👍（0） 💬（1）<div>据说V8的俩作者写完V8觉得JavaScript太郁闷了于是整了个Dart出来，不过现在俩人连Dart都不整了</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/cc/49/4fba1938.jpg" width="30px"><span>芳华年月</span> 👍（0） 💬（1）<div>老师老师 接着学习</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/8e/18/ad43ef1f.jpg" width="30px"><span>Gray</span> 👍（0） 💬（1）<div>最近正在学习js，多了解浏览器工作原理更有助于学习！加油！</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/90/37/39dcd581.jpg" width="30px"><span>小葱🤓</span> 👍（0） 💬（1）<div>老师之前的浏览器工作原理专栏写得特别赞！这个一定要支持！手动点赞！！！</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/94/82/d0a417ba.jpg" width="30px"><span>蓝配鸡</span> 👍（0） 💬（1）<div>👏🎉</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg" width="30px"><span>pedro</span> 👍（0） 💬（2）<div>大家一起加油吧！</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg" width="30px"><span>tt</span> 👍（0） 💬（1）<div>如果想研究V8的源码，也可以按照本课的路线来看么？</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/74/ad/cdf253c6.jpg" width="30px"><span>养牛致富带头人</span> 👍（0） 💬（1）<div>吼吼吼吼！</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f0/61/68462a07.jpg" width="30px"><span>无名</span> 👍（28） 💬（0）<div>老师再来个V8源码解读的课程</div>2020-05-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/eb/37/a2f4c9f8.jpg" width="30px"><span>starj</span> 👍（4） 💬（0）<div>作为一个nodejs开发，不可解v8不行啊</div>2020-03-20</li><br/>
</ul>