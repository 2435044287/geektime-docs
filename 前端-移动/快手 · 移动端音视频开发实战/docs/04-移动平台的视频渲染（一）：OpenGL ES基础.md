你好，我是展晓凯。今天我们来学习移动平台的视频渲染。

虽然我们的主题是视频渲染，但严格来讲其实是视频画面（不包含声音）的渲染。在音视频领域的大部分经典场景是离不开画面的渲染的，比如：视频播放器、视频编辑器、短视频录制、贴纸以及礼物的渲染等等，所以掌握视频画面渲染技术的重要性是不言而喻的。那视频渲染都有哪些技术可用呢？最常用的是哪一种呢？带着这些问题，让我们一起开始本节课的学习吧！

注意，这里我们所说的渲染并不单单指的是直接绘制到系统屏幕上，一些高级处理操作，比如滤镜、磨皮、瘦脸、贴纸等，也是渲染的一部分。

## 视频渲染技术选型

在开始学习移动平台的视频渲染技术之前，我们先探讨一下，渲染的源头是什么？前两节课我们一起学习了音频的渲染源是PCM数据，而视频的渲染源是YUV或者RGBA格式的数据，这种数据是描述画面最基础的格式，其中YUV常用在视频的原始格式中，RGBA常用在一些图像的原始格式上。

目前各个平台最终渲染到屏幕上的都是RGBA格式的，因为硬件对屏幕上的设计就是按照每个像素点分为四个子像素来实现的，所以YUV和RGBA之间是可以互相转换的。我们最终的实战案例是视频播放器，所以这节课我们重点学习的是如何将YUV数据渲染出来，在移动平台上都有哪些落地方案。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg" width="30px"><span>大土豆</span> 👍（2） 💬（1）<div>老师，屏幕有自己的缓冲区，和FBO还不能等同😀。FBO是我们自己新建的帧缓冲对象，通常可用来做离屏渲染，还有就是要上屏之前做个统一处理的节点，OpenGL的一些管线步骤之后可以先渲染到FBO上。但是我们完全可以绕过FBO，h264解封装解码之后的YUV数据，直接走纹理贴图的流程，对接到屏幕的缓冲区，上屏。</div>2022-08-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（1）<div>请教老师几个问题：
Q1：Android10.0以后，还能使用OpenGL ES吗？
文中提到，Android10.0以后，系统开始支持Vulkan，那么，还支持OpenGL ES吗？如果应用原来用OpenGL ES开发的，在10.0版本还能使用吗？
Q2：视频播放器是否有源代码？
文中提到会开发一个视频播放器，有源码吗？ 是安卓版本还是iOS版本？

Q3：OpenGL ES本身不能完成底层绘制功能吗？
文中有一句：“由于 OpenGL 是基于跨平台设计的，所以每个平台需要自己提供渲染的基础实现”，从这句话看，似乎OpenGL ES本身不能完成绘制功能。
Q4：安卓中canvas.draw跟OpenGL ES是什么关系？
在安卓中使用自定义View时，常用的操作是canvas.draw（）。请问，这个draw函数和
OpenGL ES是什么关系？</div>2022-08-02</li><br/>
</ul>