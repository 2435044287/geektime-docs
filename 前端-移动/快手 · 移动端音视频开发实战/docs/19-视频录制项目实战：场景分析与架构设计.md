你好，我是展晓凯。今天我们来一起学习视频录制器的场景设计与架构分析。

![图片](https://static001.geekbang.org/resource/image/09/22/094yy91844008447d24f0688606dd622.png?wh=1920x929)

前面我们用了9节课学习了音视频采集和编码方面的知识。现在是时候用一个视频录制器项目把这些知识点串联起来了。这个项目运行起来后，我们就可以采集音频和视频，最终保存成一个视频文件了。这个视频录制器是录播场景下非常重要的一个模块，之后你也可以以这个项目为基础，做一些扩展和改动（码率自适应、网络抖动处理、关键帧间隔设置等），改造成一个直播场景的视频推流器。

整个视频录制器项目，我会分为三部分来讲解，每一部分会解决一个核心问题。

- 第一部分：从场景分析入手，设计视频录制器项目的架构，让你明白视频录制器的顶层设计和模块拆分，并了解其中的关键点。
- 第二部分：基于架构设计，实现录制器中的底层核心模块，包括音频的采集和编码，视频的采集和编码，把前面第10节课到第18节课的知识点，套用到整个项目里。
- 第三部分：讲解Mux模块和中控系统，让整个录制器项目跑起来，最终分析一下整体录制器的扩展性，让你完全掌握视频录制的精髓。

接下来我们就一起来看一下视频录制器的场景分析和架构设计部分吧。

## 视频录制器的场景分析

我们在工作中完成一个项目或者产品的迭代时，首先要做的就是场景分析，场景分析不是要写一堆别人看不懂甚至看都不看的文档，而是站在技术角度思考这个场景的输入、输出和存在的技术风险点，目的是辅助我们设计出一个好的架构来实现这个项目。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/b0/2b/87aff702.jpg" width="30px"><span>一个正直的小龙猫</span> 👍（0） 💬（1）<div>老师终于等到今天了，录制器部分，后面会有讲从webrtc steam（远端） 录制相关的内容么？</div>2022-09-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（2）<div>请教老师几个问题：
Q1：耳返是什么意思？
Q2：自动化检测音画对齐的工具有哪些？
Q3：安卓平台，在屏幕、字体等方面的适配方面，快手是怎么做的？会采用某一个适配框架吗？
好像听说有一个滴滴或美团的适配框架。
Q4：Input、Output模块，在设计上怎么隔离平台的相关性？
Q5：OpenGL ES、OpenSL ES和FFmpeg是什么关系？
理解1：OpenGL ES、OpenSL ES是基于FFmpeg，即OpenGL ES、OpenSL ES包含了FFmpeg；
理解2：OpenGL ES、OpenSL ES和FFmpeg没有关系，两者相互独立，是不同的东西。
哪种理解对？</div>2022-09-05</li><br/>
</ul>