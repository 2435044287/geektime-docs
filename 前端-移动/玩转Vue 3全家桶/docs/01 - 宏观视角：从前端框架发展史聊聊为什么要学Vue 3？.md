你好，我是大圣。

今天，我们来聊一聊前端框架的发展历史。在熟悉这段历史之后，相信你能把握到 Vue 在前端框架中的地位。这样，你就会对 Vue 有一个更精准的定位，从而能够知道我们为什么要选择 Vue 框架，以及Vue的优势和它的真正价值在哪里。

同时，前端框架的发展历史可能也会让你感触很多。因为每一个上网的人，或多或少都会感觉到前端网页在这些年发生了很多的变化，这是一种切身的、直观的体会。我们都能感觉到网页在设计模式、渲染等等地方的变化，而这种种变化的背后，其实都可以放到前端框架的演变历史中来解释。

## 石器时代

谈前端框架发展史之前，我们先来简单回顾一下前端的发展历史吧。

- 1990 年，第一个 Web 浏览器诞生了。这是前端这个技术的起点，代表这一年它出生了。后面的时间里，前端圈有很多里程碑事件。
- 1994 年，网景公司发布第一个商业浏览器 Navigator。
- 1995 年，网景工程师 Brendan Eich 用 10 天时间设计了 JavaScript，同年微软发布了 IE 浏览器，进而掀起了浏览器大战。
- 2002年，IE在浏览器大战中赢得胜利，IE6占有率超过96% 。

而前端的发展历史，又非常直观地显示在你看到的前端网页的演变历史中。整个90年代，受限于网速，网页都是静态页，显示非常单一，前端的工作大部分都只是让美工来切切图和写写HTML+CSS。也因此，在90年代，前端还处在一种萌发期的状态，前端工程师这一工种也没有明确出现。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/2a/fa/02/8e49a29a.jpg" width="30px"><span>洛一</span> 👍（8） 💬（13）<div>怎么加群</div>2021-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg" width="30px"><span>徐洲更</span> 👍（67） 💬（1）<div>光这一篇就觉得值回票价了！ 之前都不知道怎么入手前端，看完这段历史才知道了学习方向。 迫不及待后面的内容了</div>2021-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/52/0e/c5ff46d2.jpg" width="30px"><span>CondorHero</span> 👍（205） 💬（10）<div>Vue 不需要 React 的 Fiber，因为更新系统中的 Watcher 控制在组件级。</div>2021-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2a/fb/0b/6362a743.jpg" width="30px"><span>杨村长</span> 👍（65） 💬（4）<div>我来回答思考题:
vue的diff被限制在组件级，这样每次变化影响的只是一颗子树，相对范围较小。所以fiber带来的收益似乎也会降低，fiber要改架构还可能破坏目前稳定的表现。因此不需要。</div>2021-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/21/10/5e/42f4faf7.jpg" width="30px"><span>天择</span> 👍（30） 💬（1）<div>请问老师，react的fiber是如何实现的，有浏览器接口吗？怎么知道渲染线程在空闲呢？</div>2021-10-18</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqrm1J6MVvFibtUorUn88kfpIVQKI615tzicJZiceBbW4WjiaETzqjtGFTK49EL5lqWPqIDibjCyuEMgzQ/132" width="30px"><span>xzq</span> 👍（22） 💬（5）<div>看了之后有两个点我和大圣老师的观点有点不一样：
1. 引入虚拟dom的核心并不是为了通过diff得出需要更新的节点从而加快速度(有时候甚至会变慢)。而是给各种类型节点提供了一层向上的抽象， 这种抽象扩展了框架能够完成的功能，和简化了一些操作。在大多数情况下，操作最快的永远是直接操作Dom，这个svelte 好像就是这么做的。
2. Vue2.x 中并不是仅仅只有组件级别的watcher ， 每个组件中的响应式数据也有watcher，在对应的deps上。只不过组件内部数据的watcher一般只会通知到组件级别的watcher, 然后由组件级别的watcher通知外部做对应的操作。</div>2021-10-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg" width="30px"><span>William</span> 👍（19） 💬（2）<div>树形结构的diff很难中断，请问有什么依据吗？</div>2021-10-18</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/UIImmYqAmhyFp1scKEKnCJwfaLnhObQiaYOX1hVlR0RGgH6Psx4ue3R5Cib8naxZSAehk1DMUbWz8afzAKMibGHfA/132" width="30px"><span>Geek_3beb80</span> 👍（13） 💬（1）<div>由于vue只在组件级别diff，单个组件过于庞大会影响diff效率，过小会增加wacher的数量，改如何取舍呢</div>2021-10-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/ed/48/4a40816a.jpg" width="30px"><span>刷子iNG</span> 👍（12） 💬（2）<div>感觉懂了，但是细想来还是不懂，给自己占坑，希望学完后能解决自己的疑问：
1.vue1 的 watcher 指的是 Object.defineProperty 吗？数据变化之后在 setter 里面去更新对应的dom？

2.当数据变更后，是怎么通知react更新虚拟 dom 的呢？不需要 watcher 吗？

3.为什么vue2引入了虚拟dom就能解决响应式数据过的内存问题呢？vue 中的data不都是响应式的吗？当dom过多 虚拟dom就没有性能问题吗？

4.什么叫组件的变化通过响应式的更新，内部数据的变化通过虚拟dom去更新，不都是数据驱动视图更新，两者的差异是怎么实现的呢？ watcher 是什么？</div>2021-10-22</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erDeOuPaaRAgWLLIdarW4RI2xrgdDkaPVLNuyba5kVFtCrqOialpOjkCgqZyOfxfxXJKd8a6jDI98g/132" width="30px"><span>Mserke</span> 👍（11） 💬（2）<div>请问 Vue 2 引入虚拟 DOM 给 Vue 带来了跨端的能力，这句话怎么理解呢？</div>2021-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/b5/32/43b46132.jpg" width="30px"><span>褚琛</span> 👍（10） 💬（1）<div>老师您好，我想问一下虚拟DOM树转换成链表结构，树结构是怎么转换成链表结构的呢？</div>2021-10-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/73/ff/3e30f1c6.jpg" width="30px"><span>嘿吼</span> 👍（8） 💬（2）<div>宝！好好休息，千万别累到自己！吃完饭就抓紧去写稿子吧</div>2021-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/be/30/0a85890d.jpg" width="30px"><span>🐬🐳🐟🐟🐳🐟🐳🐟🐟</span> 👍（7） 💬（1）<div>fiber出现 的本意是减小虚拟dom diff的成本，理论上来说，vue 将 dom diff 压缩到了组件级别，应该不需要 fiber，同时 fiber 也会带来一些 性能损耗。 但也可能存在单个组件比较庞大的情况，不过本着组件化的思想，开发人员应该也会对其进行合理拆分，所以我觉得基本fiber 大概率不会在 vue3 中出现。</div>2021-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/8a/d7/daabec34.jpg" width="30px"><span>tequ1lAneio</span> 👍（6） 💬（1）<div>vue真正需要fiber的情况会非常极端，除非有超大面积的组件在同一时间需要同时进行更新。</div>2021-10-20</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq6UjL0SBicZgyKzsAnCf08l0MibyqxsCecSVXa3tKvSDeDG6XRe1ngziaChRiaRcA0kzOlIwfcnNZvwg/132" width="30px"><span>Alias</span> 👍（6） 💬（1）<div>react和vue的主要区别：
1 数据更新上：react 采用fiber架构，使用链表表示DOM结构可以在diff时随时中断和继续，利用requestIdleCallback在空闲时diff，防止数据量大diff时间长导致卡顿；vue采用响应式，一个组件对应一个观察者对象，数据变更触发dom diff，将dom diff控制在组件级别； 
2 模板不同：一个jsx 一个template</div>2021-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/ec/68/06d59613.jpg" width="30px"><span>柒月</span> 👍（4） 💬（1）<div>vue2转react，还是放不下vue3啊  哈哈哈</div>2021-10-21</li><br/><li><img src="" width="30px"><span>leite</span> 👍（3） 💬（2）<div>还是不太明白react的runtime为什么多于vue, vue又为什么居中。希望作者老师能看到</div>2021-10-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/06/97/fe937d40.jpg" width="30px"><span>人生如戏</span> 👍（3） 💬（1）<div>老师，文中说的利用空闲时间做比对，那如果我修改了一个数据，要等到其他任务执行完再比对替换？这样数据更新不及时了吧？</div>2021-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/27/d5/fa654422.jpg" width="30px"><span>BigSpinach</span> 👍（3） 💬（1）<div>老师，vue1的watcher机制理论上应该比虚拟dom对数据变化的响应更快，是一种空间换时间的形式，可以这么理解么？</div>2021-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg" width="30px"><span>William</span> 👍（3） 💬（1）<div>我认为虚拟dom并没有脱离web的限制，react native和小程序还是基于web技术</div>2021-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/7c/ce/d8a960f4.jpg" width="30px"><span>😉</span> 👍（3） 💬（2）<div>刚学了vue，做了个ant-design-vue的小作品，刚好能再精进一下学vue全家桶</div>2021-10-18</li><br/><li><img src="" width="30px"><span>宋承亮</span> 👍（3） 💬（1）<div>大圣老师，yyds，从B站来的</div>2021-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/50/2b/2344cdaa.jpg" width="30px"><span>第一装甲集群司令克莱斯特</span> 👍（2） 💬（1）<div>后端工程师表示，也来观摩大前端！希望一样收入囊中！</div>2021-10-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/3f/a8/8da58e53.jpg" width="30px"><span>海阔天空</span> 👍（2） 💬（1）<div>感觉vue不需要React的Fiber。每个vue组件都有自己的watcher，可以监听每个组件整体的变化。当然，如果有些组件比较大，或是数据比较多时，是会出现卡顿现象。所以我们在编码时，尽量优化好我们的组件。避免单个组建过大，过于复杂。</div>2021-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/5b/de/152f1c2c.jpg" width="30px"><span>Warn</span> 👍（2） 💬（1）<div>受教了 
学一次好像会了，然后又忘了[在线卑微]，今天再学一次</div>2021-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/b5/95/a2ca8e50.jpg" width="30px"><span>JulyEddie</span> 👍（2） 💬（1）<div>大圣哥，早起打王者yyds😛</div>2021-10-18</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkOj8VUxLjDKp6jRWJrABnnsg7U1sMSkM8FO6ULPwrqNpicZvTQ7kwctmu38iaJYHybXrmbusd8trg/132" width="30px"><span>yss</span> 👍（1） 💬（1）<div>在你看来，Vue 需不需要 React 的 Fiber 呢？

我个人认为只有在一个极端情况可能需要, 一个页面内有很多组件 且 多个组件都引用了同一个变量控制变化, 此时所有组件都需要重新计算 虚拟 DOM.

但上述情况出现的可能性太低了, 可以不考虑.</div>2021-12-16</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erefQB68u2ZZWdQRYRupf0auPhSiaHJKjGQO2EHuRIxBOVJK9OxibguHVYNzZxIc4mdkjJcoSHeuOibA/132" width="30px"><span>爱编曲的程序员</span> 👍（1） 💬（2）<div>vue1每个组件都会有一个watcher，是不是说明 这个组件中任意一个响应式数据发生变化，都会导致这个组件dom全量替换，而没有虚拟diff计算的概念</div>2021-11-27</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132" width="30px"><span>有铭</span> 👍（1） 💬（2）<div>vue2 只是把watch限制在组件这个级别，那我进一步问一下，如果项目比较庞大复杂，组件数量上去了，那是不是又会遇到性能问题？</div>2021-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f8/3a/dbf7bdee.jpg" width="30px"><span>凡凡</span> 👍（1） 💬（1）<div>大圣说的道理我记住了，但是无论是vue1的watcher，vue2和react的虚拟dom，以及react的fiber这些都是从哪里得出的呢？概念懂了，但是代码在哪里呢，有点捉急了</div>2021-11-10</li><br/>
</ul>