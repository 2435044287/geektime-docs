你好，我是王沛。今天我们来聊聊如何组织项目文件夹结构。

很多同学在做项目开发时都会有这样的体验：项目初期，做得爽，进展快。但等功能做得差不多了，比如已经完成90%，会突然感觉进展慢下来了。在剩下10%的功能开发上花的时间，可能比前面做90%的功能还要多。

这种现象，有人称之为“90-90定律”。这就导致我们很难预估项目究竟什么时候才能做完。

产生这个现象的原因是多种多样的，但其中一个很重要的原因就在于，随着功能的增加，项目会变得越来越复杂。而在项目的后期，每增加一个新功能，或者修改已有的一些功能，都会带来很大的工作量。毕竟在做这些新的改动时，你需要考虑它们会对已有的功能产生什么影响。

而要改善或者解决这个问题，关键就在于：**每增加一个新的功能，整个应用程序的复杂度不应该明显上升。**这样才能保证我们的应用程序始终可扩展，可维护。

那么怎么在React 应用中做到这一点呢？这正是我们这节课要讨论的问题。

## 软件复杂度的根源：复杂的依赖关系

我们经常会说，某个项目看上去好复杂。那么这个“复杂”，到底该怎么定义呢？

如果仔细思考就会发现，当某个功能需要层层嵌套的模块依赖，那么即使开发时觉得思路很顺，但是自己再回头去看，或者要让别人理解某个功能实现，就不得不去翻阅很深的调用链。这就是让你觉得复杂的直接原因。
<div><strong>精选留言（28）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1e/a1/d6/64eee5af.jpg" width="30px"><span>陈好人</span> 👍（12） 💬（4）<div>用一个注册的方式实现控制反转，确实是可以避免硬链接。不过有另一个问题，比方说我就不能直观看到article的组成了，同时，调试上会不会引来新的复杂度？</div>2021-06-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/60/ab/abb7bfe3.jpg" width="30px"><span>SenjougaharaSama</span> 👍（4） 💬（1）<div>Extension 有用但用处很小，解决场景是删除被依赖模块时直接删除原模块文件，而不需要改动依赖文件。但如果依赖文件就只依赖这一个模块，那删除模块后，一样需要但依赖文件中移除extension ，理论不用删也能运行，但这多余的代码以及对其他人review 都增加了困惑</div>2021-07-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f7/e4/17233d10.jpg" width="30px"><span>jsSoftware</span> 👍（2） 💬（2）<div>请问老师，利用的扩展点机制注册的，会导致项目启动慢吗？因为项目启动的时候，需要允许注册引擎，将扩展点实际代码，全部加装，导致项目懒加载机制失效？</div>2021-07-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/d8/59/2fc5886b.jpg" width="30px"><span>林斌</span> 👍（0） 💬（1）<div>useArticle 函数是在自己组件内实现，及时不加 article.footer，也必须调用这个api， 也就是说要删除这个功能的时候还要回到这个文件中进行相关的删除操作。没感觉哪里分离了</div>2021-07-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/04/71/0b949a4c.jpg" width="30px"><span>何用</span> 👍（13） 💬（0）<div>Extension Point 可以用广告位招租形象地解释</div>2021-06-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/53/9a/2eddfce2.jpg" width="30px"><span>小个子外星人：）</span> 👍（5） 💬（0）<div>没有太理解，下次再看一遍</div>2021-06-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/04/71/0b949a4c.jpg" width="30px"><span>何用</span> 👍（4） 💬（0）<div>extension point 的思路可以，将事件通信的机制用在了组件渲染的场景。register 就好比注册事件，Extension 就好比派发事件，依次将register的组件渲染在指定区域，但也不无缺点，比如对类型支持不友好</div>2021-06-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/01/97/16badf02.jpg" width="30px"><span>༺程༻</span> 👍（4） 💬（1）<div>js-plugin的用处感觉比较大。
但是在react组件中，&lt;Extension name=&quot;article.footer&quot; args={article} &#47;&gt; 这样的写法，确实我不太能理解。就像是一个容器组件，通过传入不同的参数，返回不同的组件。因为我使用ts，感觉这样又少了类型检擦。</div>2021-06-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/c9/38/e0d2494e.jpg" width="30px"><span>焱焱</span> 👍（3） 💬（0）<div>这章没怎么理解 希望老师能加餐再讲一讲 另外如果配合ts应该怎么扩展这个功能呢</div>2021-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/25/94/9d/0d8103ad.jpg" width="30px"><span>琪琪</span> 👍（1） 💬（0）<div>这章没看懂呢 老师</div>2021-06-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/02/12/ce3dc4c8.jpg" width="30px"><span>喵咪爱吃肉</span> 👍（1） 💬（0）<div>老师，这个演示结构我还是不能太理解，能否给一个具体的项目做示例呢？</div>2021-06-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/c9/d5/b08a27ed.jpg" width="30px"><span>灵感_idea</span> 👍（0） 💬（0）<div>老师讲解的出发点和思路都是好的，但实际的实施过程中，就像老师说的，或许迫于项目节奏，或者个人习惯，总有很多人是不愿意花这个功夫去做这件事的，就想着能实现功能就好，所以，实际中的项目往往会走向越来越难维护的境地，这种事情还是需要有人把关和推动才行。</div>2022-12-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/e1/26/a5bae6c3.jpg" width="30px"><span>。丑</span> 👍（0） 💬（0）<div>没看懂  下次再回头看一遍
</div>2022-11-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/b8/39/b02ec9a5.jpg" width="30px"><span>白色风车</span> 👍（0） 💬（0）<div>项目的工程组织本质上有点类似于就近原则</div>2022-10-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/6c/95/165e381b.jpg" width="30px"><span>看海师</span> 👍（0） 💬（0）<div>js-plugin的思想是不是类似Angular里的依赖注入？</div>2022-09-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/7f/c2/c4368f16.jpg" width="30px"><span>Van!shment!</span> 👍（0） 💬（0）<div>用 redux duck 设计思想整理项目结构</div>2022-09-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3f/da/1531467b.jpg" width="30px"><span>黑石</span> 👍（0） 💬（0）<div>老师，文章里 “如果你已经用 create-react-app 创建过一个项目，你会发现，默认的文件夹组织类似如下结构：”这句话后面的代码是不是配错了，应该是目录结构吧</div>2022-06-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c9/79/68a73484.jpg" width="30px"><span>MarkTang</span> 👍（0） 💬（0）<div>老师，如果是Next的项目使用这种架构比起SPA会有什么困难吗？</div>2022-02-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/63/4c/09fe3f7a.jpg" width="30px"><span>逍遥一生</span> 👍（0） 💬（0）<div>不是很懂,各位如果有具体的使用案例麻烦分享一下</div>2022-01-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/20/ed/47eef5e0.jpg" width="30px"><span>kk</span> 👍（0） 💬（0）<div>请问comment模块如果不只是依赖一个article数据，同时还会更新article数据，那么该如何抽离吗，还按照上文的extension方式抽取就不能满足了吧</div>2022-01-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/29/59/ab/1f6d9ad8.jpg" width="30px"><span>哈哈哈[吃瓜]</span> 👍（0） 💬（0）<div>我觉得 一些贼常用的hook还是要放到外面去或者变成个npm包和业务逻辑剥离 一些不是那么常用的和业务耦合比较高的hook再放到业务目录里 最理想的状态的就是每一个业务都不会和别的业务有交集🙈</div>2021-11-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/85/c6/08cd3939.jpg" width="30px"><span>walk-liuyan</span> 👍（0） 💬（0）<div>extensionEngine 是否可具体一点，写个例子</div>2021-10-22</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItAXhe4SUU9uDhVOibDkp44QURM157wMmIUpTzfjBdQITzttsADHLXdXGHz5odxyXk7URZsn1lyzw/132" width="30px"><span>杜亭</span> 👍（0） 💬（0）<div>提供了一种解耦的思路</div>2021-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/89/9e/6e366f86.jpg" width="30px"><span>sothx</span> 👍（0） 💬（0）<div>利用类似vuex中的modules功能，可以实现redux按业务模块划分。</div>2021-07-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/1c/5c/f5f24221.jpg" width="30px"><span>发芽的紫菜</span> 👍（0） 💬（0）<div>我们管理中心每一个页面都是一个目录，里面有自己的store ，api，components等，公共模块的话就抽出来，页面间没什么关联，改起来确实放心，不过冗余也多</div>2021-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/5d/22/6e78881e.jpg" width="30px"><span>Aaron</span> 👍（0） 💬（0）<div>这章讲的很棒，感觉和依赖注入的思想有些相通之处，避免直接处理依赖，Angular 适合开发复杂应用也是因为这个特性更容易控制项目复杂度</div>2021-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/44/26ac883e.jpg" width="30px"><span>桃翁</span> 👍（0） 💬（0）<div>对于各个feature 可能会用到的 component和hooks 还是放到跟feature同层吗？</div>2021-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/da/db/16389c00.jpg" width="30px"><span>王昂</span> 👍（0） 💬（0）<div>老师这章不太理解，网上也没找到太多的例子。</div>2021-06-26</li><br/>
</ul>