你好，我是三桥。

上一节课探讨的各种优化方案，都是为了减少TTFB指标。这节课，我们来说说白屏的问题。

在任何情况下，网页的首字节（TTFB）时间都会有一个具体的指标值，只有资源类文件可能会因为浏览器的缓存机制而为0。

也就是说，无论距离有多远，前端应用的HTML主文档都必须通过服务器，才能送达用户的浏览器。这个过程需要一定的时间。

## 白屏时间

由于请求主文档需要时间，这就导致我们在移动设备上访问前端应用时，常常会出现短暂的浏览器白屏现象。

以极客官网为例，我们可以通过使用Chrome开发者工具记录的屏幕截图来观察这种白屏现象，如下图所示。

![图片](https://static001.geekbang.org/resource/image/4a/85/4a21dc12f267ac9637b8b19b69641a85.png?wh=2000x943)

从上图可以明显看出，当用户使用4G网络访问官网首页时，超过1秒才能真正看到页面内容。在这1秒内，用户只能在白屏状态下等待。如果用户没有耐心，他们可能就马上关闭浏览器。

图中的红框表示开始看到页面内容的时间点，下面对应的是FCP（首次内容绘制）指标，这表示开始绘制页面内容。

因此，我们可以得出一个结论，白屏时间近似等于FCP时间。而FCP时间是由首字节时间（TTFB）和浏览器绘制时间组成的。

从另一个角度来看，TTFB会影响用户打开网页时的白屏时间。TTFB越大，白屏效果越明显，用户等待时间越长。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/2b/86/73/5190bbde.jpg" width="30px"><span>苏果果</span> 👍（0） 💬（0）<div>完整源码入口：
https:&#47;&#47;github.com&#47;sankyutang&#47;fontend-trace-geekbang-course</div>2024-07-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/38/49/2f/590142fb.jpg" width="30px"><span>JuneRain</span> 👍（0） 💬（0）<div>http访问的方式打开页面需要下载然后解析页面再显示。
文中APP访问方式是先下载到本地再访问。
我有疑问：
1.这两种方式，首次访问是不是APP的方式会慢一点，毕竟多了个下载到本地的过程？
2.http方式访问，请求html是Get请求，如果做了缓存的情况下，是不是跟APP访问差不多的效果？毕竟都有缓存，一个是接口缓存，一个是本地缓存</div>2024-06-18</li><br/>
</ul>