RTCPeerConnection 类是在浏览器下使用 WebRTC 实现1对1实时互动音视频系统最核心的类。你可以认为它是一个总的接口类或者称它为聚合类，而该类中实现的很多功能都是由其他类具体实现的。

像我前面讲的很多文章，都是 RTCPeerConnection 类的一部分功能，如 ：

- [《06 | WebRTC中的RTP及RTCP详解》](https://time.geekbang.org/column/article/109999)讲的是底层网络数据传输协议与其控制协议。
- [《07 | 你竟然不知道SDP？它可是WebRTC的驱动核心！》](https://time.geekbang.org/column/article/111337)和[《08 | 有话好商量，论媒体协商》](https://time.geekbang.org/column/article/111675)讲的是 SDP 协议及使用SDP协议进行媒体协商的过程等。
- [《09 | 让我们揭开WebRTC建立连接的神秘面纱》](https://time.geekbang.org/column/article/112325)讲的是 WebRTC 底层是如何建立连接的。
- [《10 | WebRTC NAT穿越原理》](https://time.geekbang.org/column/article/113560)介绍了在 WebRTC 底层进行 NAT 穿越的过程。

以上这些内容都是 RTCPeerConnection 类的功能。除了上述讲的这些内容之外，RTCPeerConnection类还有许多其他的功能，我在后面的文章中还会向你逐一介绍。

RTPPeerConnection 这个知识点是你掌握 WebRTC 开发的重中之重，抓住它你就抓住了学习 WebRTC 的钥匙（这里你一定要清楚，**SDP 是掌握WebRTC运行机制的钥匙，而RTCPeerConnection是使用 WebRTC 的钥匙**），这样可以让你很快学会 WebRTC 的使用。
<div><strong>精选留言（24）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/05/6f/4f5e9789.jpg" width="30px"><span>forever</span> 👍（7） 💬（1）<div>老师您好，我想请教一下如何解决webrtc 兼容性的问题，特别是在ios端使用腾讯x5内核的时候</div>2019-08-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/7e/57/588337e9.jpg" width="30px"><span>Bubbly</span> 👍（3） 💬（1）<div>addStream好像要被addTrack替代了。老师可以分析下使用addTrack来替代addStream的原因吗？</div>2020-10-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/87/fa/403e82ea.jpg" width="30px"><span>dayu</span> 👍（3） 💬（2）<div>老师，请问一下，如果在局域网内进行一对一通话，是不是可以不搭建STUN\TURN服务器？</div>2020-02-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/32/1c/3e3cdad2.jpg" width="30px"><span>Jackson</span> 👍（2） 💬（2）<div>这个例子是webrtc官方的吧？</div>2019-12-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/df/9f/6db75dff.jpg" width="30px"><span>Random</span> 👍（1） 💬（2）<div>老师你好，通话过程中的ice restart的触发时机选择什么时候比较好呢？</div>2020-06-04</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVegfjqa0gM4hcRrBhZkIf7Uc5oeTMYsg6o5pd76IQlUoIIh2ic6P22xVEFtRnAzjyLtiaPVstkKug/132" width="30px"><span>xilie</span> 👍（1） 💬（1）<div>前面看不懂，到这才有感觉，又得回头去看前面的协议，建议凡事先上能跑起来的代码，再逐步解剖协议，好一点</div>2019-08-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/b2/d2/01e70940.jpg" width="30px"><span>Ray-J</span> 👍（1） 💬（1）<div>老师,Candidate的作用是用来做什么的呢?翻译过来 是候选人, 很难理解这个词,希望能得到老师的帮助加深理解</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/05/94/e55abef3.jpg" width="30px"><span>Her later</span> 👍（0） 💬（1）<div>在真实的场景中，每当获得一个新的 Candidate 后，就会通过信令服务器交换给对端，对端再调用 RTCPeerConnection 对象的 addIceCandidate() 方法将收到的 Candidate 保存起来，然后按照 Candidate 的优先级进行连通性检测。

真实场景中，应该是candidate 都是通过信令服务器转发的吧，rtcpeerconnection并不会收到oncandidate 的回调，不知道我理解是否正确？</div>2021-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/05/94/e55abef3.jpg" width="30px"><span>Her later</span> 👍（0） 💬（1）<div>这篇文章解析了 如何端对端的推拉流 ，但是如果我要将流推到服务器 ，其他很多人订阅服务器的流老播放 ，又该怎样实现呢 ，有没有专门的文章介绍 ，有的话 ，我就买了 。</div>2021-04-08</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKOCkbWo7KTAUYkTk5sqgOSAdjS51ZH8bTxiaBNLVnIFUOMsicBHRJBoXSOX6sZp5uORE2waGyz3ysw/132" width="30px"><span>npersonal</span> 👍（0） 💬（1）<div>老师，编解码没有讲解吗。我现在碰到个问题，使用h264编码，stream的width和height都为0，这是什么原因</div>2021-03-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/7c/0a/8aa06f3f.jpg" width="30px"><span>十斗簸箕</span> 👍（0） 💬（1）<div>有这样一个场景，主机（PC）采集音视频然后推送到客户端浏览器，类似vnc只不过客户端是通过浏览器来操作，请问老师这类的业务场景webrtc能支持吗？如果能方面讲一下框架流程吗？谢谢</div>2021-01-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/b9/3a/1f9308e6.jpg" width="30px"><span>Zgjian</span> 👍（0） 💬（1）<div>老师您好，请问下在通话过程中切换摄像头还有修改分辨率怎么做，有哪些关键接口？</div>2020-10-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/2d/25/87eb82da.jpg" width="30px"><span>gseng</span> 👍（0） 💬（1）<div>Candidate会在直播的过程中一直有变化吗？ 还是说在直播建立之前两端交互完Candidate之后，就不再变化了？ </div>2020-05-28</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ohqW1PaxHqyeZFw0SDvQRUeeMDmbcKwicYOS1u5S3jA5jrfMwwnGITEf4UCF1oC8E0OJppeWZ8DvWS1843RI6BQ/132" width="30px"><span>吴国广</span> 👍（0） 💬（1）<div>老师 在addstream事件获取到MediaStream  后  video  播放什么都没有  也没报错  可能是啥原因</div>2020-03-31</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYZ3GU02RDb9oZpibyYS3KdUIfh6MpZ7K6Hgicib6zZcJG4vb71FaTkmvL9IltWtQP7tPWjOCulTZLg/132" width="30px"><span>zhushengtong</span> 👍（0） 💬（2）<div>老师，请问是不是可以使用虚拟机搭建服务器呢？谢谢！</div>2020-03-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/82/1a/8ac9bd45.jpg" width="30px"><span>Davie Li</span> 👍（0） 💬（1）<div>老师，音视频流是二进制数据吗，还是音视频专用的类型</div>2020-02-09</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/1hp9kzzuLUVHzmmddIPIO6F0lnSkIJYPcqFK4vmN1HeknaVNicJp7fHx44zP9MHTkiawnDAiaLdCbhmI8ib5LKx2wg/132" width="30px"><span>tkly</span> 👍（0） 💬（1）<div>getUserMedia() 获取到的本地流在发送到对端前有没有编码？对端收到视频流在绑定到H5的&lt;video&gt;标签前有没有解码？有的话，这个编解码过程是怎么样的？
</div>2019-12-25</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/1hp9kzzuLUVHzmmddIPIO6F0lnSkIJYPcqFK4vmN1HeknaVNicJp7fHx44zP9MHTkiawnDAiaLdCbhmI8ib5LKx2wg/132" width="30px"><span>tkly</span> 👍（0） 💬（1）<div>我有个问题，既然发送前要进行编码，那是否可以使用webrtc在本地解码h264视频流进行播放呢？既然需要编码，是否可以直接发送h264编码的视频流，对端解码播放呢？</div>2019-12-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/90/d2/a40d7e65.jpg" width="30px"><span>LittleJi</span> 👍（0） 💬（1）<div>因为这是在同一个页面，所以不涉及到两个端之间怎么连接吗？比如不在同一内网的话，怎么进行连接，NAT穿越？因为是同一个端，所以ip相同、端口也相同，是吗？</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/15/ef/8906f082.jpg" width="30px"><span>编译缺陷</span> 👍（0） 💬（1）<div>这里的RTCPeerConnection是实现了socket,但是如果要跨端的话. new RTCPeerConnection(server).这里server的配置可以支持跨端吗?对这里server的细节不是很清楚.怎么做到把steam通过RTCPeerConnection传给server服务端</div>2019-09-14</li><br/><li><img src="" width="30px"><span>Geek_leo长沙</span> 👍（0） 💬（2）<div>老师能不能增加移动端的案例讲解</div>2019-09-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/0b/a7/6ef32187.jpg" width="30px"><span>Keep-Moving</span> 👍（0） 💬（1）<div>老师，本节完整的代码github有吗？</div>2019-08-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg" width="30px"><span>许童童</span> 👍（10） 💬（1）<div>读完这一讲，记住一句话就可以了。
RTCPeerConnection就是一个功能超强的 socket！</div>2019-08-11</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eotuhVFN9phZsthxdS2bBAV9Cjb1NqIFbSQhiclmtsUDCn1cOKrzU8Ie1ickxlWC4kIlI3S69XrST7w/132" width="30px"><span>Geek_4e92cc</span> 👍（1） 💬（0）<div>这篇文章要是能有个图解 就完美了
</div>2023-03-01</li><br/>
</ul>