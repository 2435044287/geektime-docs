你好，我是陈旭，今天来聊聊低代码编辑器的编辑历史。人生没有后悔药，但在计算机世界里，编辑历史就是后悔药，不但常见，而且非常廉价。

多数编辑器，如代码编辑器，或者我正在码字的编辑器，都会配备最普通的编辑历史管理功能。你可以从近到远地撤销（Undo）掉所做的修改。如果撤销了之后，没有做过任何编辑操作，还可以重做（Redo）这些修改，即撤销掉撤销操作。一般在撤销之后，又做了任何操作了，那么所有重做的历史记录都被删除。示意图如下：

![图片](https://static001.geekbang.org/resource/image/7c/42/7cd5fbbd1eba9195630652e2451f6e42.png?wh=1862x628)

编辑历史是一个非常重要且友好的功能，它最主要的目的是鼓励应用开发勇于试错。开发的过程，就是一个不停试错的过程，试错成本越低越好。

作为低代码编辑器，我们同样也要支持上面提到的基本历史管理功能。不仅如此，还要更进一步，支持历史记录多分支功能。比如前面的示意图就是这样，第3步重新编辑后，得到了编辑记录2，此时，编辑器会把记录1丢掉，目的是要维持历史记录的单向性。不丢弃记录1，并且允许该记录继续编辑下去，就会形成历史记录多分支的情形，这和Git的分支非常相似。

做过程序开发的都会用到Git，程序员们看中Git的最主要一点就是它强大便捷的分支管理。低代码编辑器作为一个开发工具，对多历史记录分支的支持也是必要的。所以今天这讲，我们就来说说低代码编辑器的编辑历史功能怎么实现。
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（1） 💬（0）<div>学习打卡</div>2023-02-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/85/f5/1d2ca277.jpg" width="30px"><span>点滴</span> 👍（1） 💬（0）<div>通篇看完后一直几个疑问
1、在编辑态时渲染的页面通过schema 生成TS文件，在运行的吗？还是通过模拟器运行schema文件？
2、生成了APP的源码，是脱离低代码平台运行的。那是不是虽然可以修改但是也不逆的，那生成代码的意义是什么呢？</div>2022-04-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/c4/4d/85014aab.jpg" width="30px"><span>一叉树</span> 👍（0） 💬（0）<div>思考题：还可以提供具体到用户的历史记录。在 git 中我们可以具体看到一行代码是哪位用户在什么时候修改的。在低代码编辑器，也能看到具体一个组件是哪位同事在哪个时间修改的。</div>2022-04-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/3a/c8/07443b0d.jpg" width="30px"><span>大明</span> 👍（0） 💬（0）<div>原以为Git只能管理源代码版本的工具，没想到还可以有这种用法，做为其他软件的后台核心组件。</div>2022-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/4b/26/40ab2de6.jpg" width="30px"><span>北方</span> 👍（0） 💬（0）<div>大牛讲课，面面俱到</div>2022-04-13</li><br/>
</ul>