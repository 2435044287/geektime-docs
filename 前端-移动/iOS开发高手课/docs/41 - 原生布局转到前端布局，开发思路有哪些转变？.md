你好，我是戴铭。今天，我来跟你聊聊原生布局转到前端布局的过程中，开发思路会有哪些转变。

最开始的时候，iOS 原生布局只支持通过横纵坐标和宽高确定布局的方式，后来引入了 Auto Layout 来优化布局。但，Auto Layout 的写法繁琐，开发者需要编写大量的代码，无法将精力集中在界面布局本身。再后来，苹果公司意识到 Auto Layout的这个问题，于是推出了VFL（Visual Format Language，可视化格式语言）来简化 Auto Layout 的写法。

其实，包装 Auto Layout 的第三方库，通过支持链式写法，也能达到简化编写 Auto Layout 的目的。

比如，适用于 Objective-C 的 [Masonry](https://github.com/SnapKit/Masonry) 和适用于 Swift 的 [SnapKit](https://github.com/SnapKit/SnapKit)，都是非常优秀的第三方库。这两个库的实际使用数量，明显高于苹果自身推出的 VFL。关于这两个库的实现原理和源码分析，你可以查看我以前写的“[读 SnapKit 和 Masonry 自动布局框架源码](https://ming1016.github.io/2018/04/07/read-snapkit-and-masonry-source-code/)”这篇文章。

## UIStackView

虽然 Masonry 和 SnapKit 能够简化布局写法，但和前端的布局思路相比，Auto Layout 的布局思路还处在处理两个视图之间关系的初级阶段，而前端的 Flexbox 已经进化到处理一组堆栈视图关系的地步了。
<div><strong>精选留言（12）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/16/2f/ce/202cf0a3.jpg" width="30px"><span>Happy_Home</span> 👍（5） 💬（6）<div>swiftUI如果能普及的话估计也得是三年后的事情了，iOS版本要求太高了点</div>2019-06-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/9d/28/bcaf070d.jpg" width="30px"><span>壹</span> 👍（2） 💬（0）<div>看到留言区的状态很揪心，很多人都在关注版本号……记得autolayout推出的时候很多人也是因为系统版本的原因不去学习了解，一句兼容性问题就打发了，然后死抱着frame。以至于到今天仍然是frame，sb，xib，autolayout都不见踪影。然后还总说原生开发慢，没有前端快……</div>2020-04-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/5e/a6/d27353b1.jpg" width="30px"><span>bilibili</span> 👍（2） 💬（0）<div>swiftu对应的是swift语言 然而对着oc的还是mansory用的多 而且健壮性不强 还是用原声frame在搞</div>2019-06-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/2f/50/b46a9b6a.jpg" width="30px"><span>哈</span> 👍（1） 💬（0）<div>兼容是个大问题…版本太高了…据说swiftUI和flutter很像</div>2019-06-17</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ0Q0wTgP89qsWPwCibtdh64JPPmL0ibdXZQ2TicwykmMvbRJ78vDMbS0Fq8PGtvXUvMC16zxz9DZtsQ/132" width="30px"><span>2thousand19</span> 👍（1） 💬（0）<div>戴铭老师分析的很到位，佩服，感谢</div>2019-06-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f0/61/68462a07.jpg" width="30px"><span>无名</span> 👍（1） 💬（0）<div>swiftUI最低要求iOS13，这样兼容性问题...</div>2019-06-15</li><br/><li><img src="" width="30px"><span>程序员讲道理</span> 👍（0） 💬（0）<div>SwiftUI 只支持 iOS 13 以上，我不知道苹果怎么想的。而且 iOS 14 之后，SwiftUI 做了大幅度改进。这就意味着你要支持 iOS 13，还得做一些兼容。。</div>2022-04-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/9e/28/d7ac85bd.jpg" width="30px"><span>幻想vs梦想</span> 👍（0） 💬（2）<div>现在还有人觉得swiftUI要3年后吗😁</div>2020-07-15</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/rWMGIQG1z13nekorr9I4PY1w7rlskssf949IQ24SvIewpM7mmZoH2QEZ2aKHu5tkmicGQ7KTGrN9vFYhrDsdp9w/132" width="30px"><span>Geek_9dbcb4</span> 👍（0） 💬（0）<div>@State ，标记一个属性，当他改变时，监听这个属性的对象会收到信号，触发自己的逻辑。可以理解为kvo。</div>2020-04-27</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/rWMGIQG1z13nekorr9I4PY1w7rlskssf949IQ24SvIewpM7mmZoH2QEZ2aKHu5tkmicGQ7KTGrN9vFYhrDsdp9w/132" width="30px"><span>Geek_9dbcb4</span> 👍（0） 💬（0）<div>@State，相当于oc里的kvo吧</div>2020-04-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/50/b2/ad54ef05.jpg" width="30px"><span>Code Man</span> 👍（0） 💬（0）<div>讲真，最低支持iOS 13，确实有点过分，这得要出iOS15，16才能全面派得上用场</div>2019-06-24</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erhzZ8J7EZm0s94p1RTibOBzpqsbCajKYmkjX35Clfdvpv8ZdSKGicT2A4VyicIhy9yNjJjJcTeJX7rQ/132" width="30px"><span>烈人</span> 👍（0） 💬（0）<div>不知道swiftUI的版本支持情况如何？</div>2019-06-15</li><br/>
</ul>