你好，我是戴铭。

在iOS 开发中，我们都会碰到这样的问题：不同团队开发的库需要进行数据通信，而通信数据规范通常很难确定。今天，我们就来聊聊如何高效地解决这个问题吧。

同一个编程语言之间的数据通信非常简单，因为数据的规范都是相同的，所以输入和输出不需要做任何转换。但是，在不同编程语言之间进行数据通信，就会比较麻烦了。比如，一种语言按照自身的标准规范输出了一份数据，另一门语言接收到时需要依据自身编程语言标准进行数据对齐。

对齐一门语言的数据或许你还能够接受，但是如果对接的语言多了，你就需要写很多份能够与之对应的数据对齐转换代码。编写和维护的成本可想而知，那么目前有没有一种通用，而且各个编程语言都能支持的数据格式呢？

答案是有的。这个数据格式，就是我今天要跟你聊的 JSON。

接下来，在今天这篇文章中，我会先和你聊聊什么是 JSON；然后，再和你说说 JSON 的使用场景，以及 iOS 里是如何解析 JSON 的；最后，再和你分析如何提高 JSON 的解析性能。

## 什么是 JSON？

JSON ，是JavaScript Object Notation的缩写。其实，JSON最初是被设计为 JavaScript 语言的一个子集，但最终因为和编程语言无关，所以成为了一种开放标准的常见数据格式。
<div><strong>精选留言（17）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/16/39/6b/5fcc65ad.jpg" width="30px"><span>bo</span> 👍（4） 💬（1）<div>NSJSONSerialization 在解析值是 null 的时候。并不会百分之百返回 NSNull，结果是随机的。有空数组，NSNull，还有值是 0 的 NSNumber。由于业务没有过滤 NSNumber 导致把它当作 NSDictionary 来处理出现了消息不响应的 crash。对于这类问题，老师是否有好的解决办法？</div>2019-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/e6/cc/7fc82af4.jpg" width="30px"><span>梅长苏</span> 👍（1） 💬（1）<div>那mjextention解析效率如何？</div>2019-05-09</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVegfjqa0gM4hcRrBhZkIf7Uc5oeTMYsg6o5pd76IQlUoIIh2ic6P22xVEFtRnAzjyLtiaPVstkKug/132" width="30px"><span>xilie</span> 👍（0） 💬（1）<div>在 Swift 原生提供 JSONDecoder 之后，相对于一些大名鼎鼎的第三方库，是否更推荐使用语言自带的 JSONDecoder 呢？</div>2019-05-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/33/cb/a57f65cb.jpg" width="30px"><span>大太阳</span> 👍（0） 💬（1）<div>我现在的项目就是纯swift的项目，现在绝大部分用的json解析都是swiftyjson，一小部分是kvc，前着使用时代码量多一些，后者基本不用怎么修改，想问下戴老师，swiftyjson的效率怎么样？还有希望戴老师可以指导下我们怎么测这个效率吗？市面上的这些比较出名的第三方解析库，的效率排名是怎么样的，kvc是在里面能排到第几呢？</div>2019-05-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ce/52/4f1911b5.jpg" width="30px"><span>张蒙</span> 👍（10） 💬（0）<div>戴老师给我传达的思维方式。阶段一，能用就好。阶段二，能不能更好。显然，第二种更有利于自己的进步。</div>2019-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/2d/f7/25c0591c.jpg" width="30px"><span>TengFeng</span> 👍（8） 💬（1）<div>YYmodel 方便，效率还好</div>2019-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/2e/b1/85bbfa6b.jpg" width="30px"><span>Jeffrey</span> 👍（7） 💬（0）<div>我把simdjson代码下载下来 写一个OC解析json的 demo , 但是效率没有 NSJSONSerialization 高 希望老师有空了帮忙看下 simdjson 是否做的比系统的NSJSONSerialization 更好 能否提高开发效率

https:&#47;&#47;github.com&#47;BestiOSDev&#47;MTSimdjson</div>2019-06-21</li><br/><li><img src="" width="30px"><span>lvv</span> 👍（5） 💬（0）<div>swift 出了codable 以后其他库都不香了</div>2020-05-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/3b/05/b2776d73.jpg" width="30px"><span>Geek</span> 👍（4） 💬（0）<div>什么时候会有1GB流量的JSON需要解析，对于大多数的接口来说，常用的0.2GB&#47;s和2.2GB&#47;s，效果是一样的</div>2019-05-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/2e/b1/85bbfa6b.jpg" width="30px"><span>Jeffrey</span> 👍（3） 💬（0）<div>我用的是Objective-C Foundation中自带的方法 NSJSONSerialization来解析json 本文中提到的simdjson 比iOS系统自带的json解析效率高吗？是不是以后可以用simdjson来替代 NSJsonSerialization</div>2019-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/4e/aa/3a4708f2.jpg" width="30px"><span>梦翼</span> 👍（2） 💬（1）<div>项目中解析MJExtension来解析json,但存在明显的性能问题，目前解析一个数据模型需要20ms左右，导致有明显的卡顿现象，准备向yyModel转型。</div>2019-05-20</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVegfjqa0gM4hcRrBhZkIf7Uc5oeTMYsg6o5pd76IQlUoIIh2ic6P22xVEFtRnAzjyLtiaPVstkKug/132" width="30px"><span>xilie</span> 👍（1） 💬（0）<div>为什么 JSONDecoder 只有 1 个 decode Data 方法，没有 decode JSONObject 的方法？很多时候拿到的就是 JSONObject，这时用 JSONDecoder decode，还要先转为 Data，多此一举啊</div>2019-05-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/62/15/62976153.jpg" width="30px"><span>这个shaonian不太冷丶</span> 👍（1） 💬（0）<div>Simdjson如何在iOS中使用呢</div>2019-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/2e/b1/85bbfa6b.jpg" width="30px"><span>Jeffrey</span> 👍（0） 💬（0）<div>目前手动解析json不需要用什么库 效率还可以 😂 yymodel都说了 媲美直接解析json</div>2019-06-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/36/be/f68a19b1.jpg" width="30px"><span>木木彡</span> 👍（0） 💬（1）<div>simdjson 不是还不支持移动设备常用的ARM处理器吗？</div>2019-05-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/40/90/b88d1c20.jpg" width="30px"><span>柠檬</span> 👍（0） 💬（0）<div>simdjson 会比  NSJSONSerialization更快？我们项目中都使用系统的解析json 然后使用yymodel来将它再转换一次</div>2019-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/6c/f9/af80b4da.jpg" width="30px"><span>谭鹏</span> 👍（0） 💬（0）<div>JSONKit 效率很好</div>2019-05-10</li><br/>
</ul>