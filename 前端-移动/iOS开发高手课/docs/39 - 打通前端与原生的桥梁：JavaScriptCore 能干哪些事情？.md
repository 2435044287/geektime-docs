你好，我是戴铭。

今天这篇文章是原生与前端共舞模块的第一篇，我来跟你聊聊前端和原生之间的桥梁 JavaScriptCore，看看它是什么、能做哪些事儿。

总结来说，JavaScriptCore 为原生编程语言 Objective-C、Swift 提供调用 JavaScript 程序的动态能力，还能为 JavaScript 提供原生能力来弥补前端所缺能力。

正是因为JavaScriptCore的这种桥梁作用，所以出现了很多使用 JavaScriptCore 开发 App 的框架 ，比如React Native、Weex、小程序、WebView Hybird等框架。

接下来，我们再回过头来看看，JavaScriptCore 的来头是啥，为什么这些框架不约而同地都要用 JavaScriptCore 引擎来作为前端和原生的桥梁呢？

要回答这个问题的话，你还需要**了解JavaScriptCore 的背景**。

JavaScriptCore，原本是 WebKit中用来解释执行 JavaScript 代码的核心引擎。解释执行 JavaScript 代码的引擎自 JavaScript 诞生起就有，不断演进，一直发展到现在，如今苹果公司有 JavaScriptCore 引擎、谷歌有 V8 引擎、Mozilla 有 SpiderMonkey。对于 iOS 开发者来说，你只要深入理解苹果公司的 JavaScriptCore 框架就可以了。
<div><strong>精选留言（14）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/4a/41/58757849.jpg" width="30px"><span>Ansion</span> 👍（20） 💬（2）<div>课后作业：
可以借助JSContext与JSValue的类型转换和OC的Runtime消息转发机制实现动态调用，巧妙避开Export协议；
可以参考JSPatch的实现原理</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/2f/50/b46a9b6a.jpg" width="30px"><span>哈</span> 👍（7） 💬（1）<div>WKWebView用不到JavaScripCore吧…毕竟取不到JSContext…</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/4d/1c/2512341d.jpg" width="30px"><span>kevin</span> 👍（5） 💬（1）<div>这里讲的方式还是基于uiwebview hybrid开发，wkwebview 还是很大的不同吧，现在用webviewjavascriptbrigde多一些。</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/ea/a9/0a917f2c.jpg" width="30px"><span>Sunny</span> 👍（3） 💬（2）<div>老师，你在文中说“JSContext 会调用 evaluateScript 方法，返回 JSValue 对象。”，应该是生成JSValue 对象，而不是返回吧？</div>2019-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/39/08/09055b47.jpg" width="30px"><span>淡</span> 👍（3） 💬（2）<div>戴老师你好，请问后面会讲解通过WKWebview来构建hybrid app吗？目前正在用vue.js写前端，用WKWebview作web容器，不知道业界是怎么打造自己的hybrid app的，还请给些指导，谢谢。</div>2019-06-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/60/a6/3614094e.jpg" width="30px"><span>Xqqq0</span> 👍（3） 💬（0）<div>不知道大神会不会讲NSURLProtocol的实战，希望会🙏🙏🙏</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/75/c1/3d350d18.jpg" width="30px"><span>jun</span> 👍（2） 💬（1）<div>“JavaScriptCore 框架的框架名是 JavaScriptCore.framework。由于苹果公司的系统已经内置了 JavaScriptCore 框架，而且性能不逊色于 V8 和 SpiderMonkey 等其他引擎，所以前端开发 App 框架就都不约而同将 JavaScriptCore 框架作为自己和原生的桥梁。”
这里会误导人吧，你确定App使用其他JS引擎能通过苹果审核？</div>2020-01-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/9f/b1/ae61b184.jpg" width="30px"><span>小千</span> 👍（1） 💬（0）<div>我们利用WKUIDelegate，自己处理H5调用的Prompt弹框事件，通过和前端约定好的参数格式，来实现js调用原生。并且支持同步和异步返回js结果。</div>2022-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/9b/49/33b2da58.jpg" width="30px"><span>学无止境</span> 👍（1） 💬（0）<div>WebViewJavascriptBridge</div>2019-06-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/39/95/ee029e7d.jpg" width="30px"><span>轻</span> 👍（0） 💬（2）<div>您好戴老师，一直都在听您的课程，现在我很迷茫，一直在做ios原生开发，想学新东西但是不知道该学习什么，烦请戴老师看到能给个指引，感激不尽老师</div>2019-12-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/ea/a9/0a917f2c.jpg" width="30px"><span>Sunny</span> 👍（0） 💬（2）<div>老师，你在文中说“原生线程可以将类方法和属性提供给 JavaScriptCore 使用，JavaScriptCore 可以将 JSValue 提供给原生线程使用。”，为什么可以将类方法提供给 JavaScriptCore 使用？对象方法不行么？</div>2019-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/ea/a9/0a917f2c.jpg" width="30px"><span>Sunny</span> 👍（0） 💬（1）<div>老师，您在文中多次提到了“字节码”，它具体是个什么东西呀？</div>2019-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/99/87/5066026c.jpg" width="30px"><span>dao</span> 👍（0） 💬（1）<div>老师，你说“前端的优势在于快速编写 UI，原生的优势在于对平台特性的天然支持”，这有点抽象，有没有充分结合这两者优势的案例参考一下。谢谢！</div>2019-08-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/32/a7/3f3e05fa.jpg" width="30px"><span>我系哆啦</span> 👍（0） 💬（0）<div>沙发？</div>2019-06-11</li><br/>
</ul>