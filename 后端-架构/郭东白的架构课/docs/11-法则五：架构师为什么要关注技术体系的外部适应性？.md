你好， 我是郭东白。

前四条法则分别讲了目标、资源、人性和技术周期，这些都与架构活动的外部环境有关。那么今天我们来讲讲在架构活动**内部，也就是在架构师可控的范围内，**应该遵守哪些法则。今天这节课，我们就先从技术体系的外部适应性讲起。

达尔文说过：“既不是最强壮的也不是最聪明的物种，而是最适应变化的物种最终生存了下来。”从这个角度来看，企业也是一个物种。一个企业在行业内与其他企业形成了竞争关系。那么最终在竞争中胜出的，不一定是体量最大的，也不一定是技术最先进的，而会是最适应竞争环境变化的企业。

计算机行业有很多这样的例子。比如大企业Lucent、Kodak、Compaq都在竞争中没落了，曾经技术非常先进的SGI、Sun Microsystems、Digital Corp到后来也都挂了。一个正面的例子是，微软在云计算领域原本慢了大半拍，但他转身非常彻底，后来很快就追上了，成了异军突起的赢家。

那么你作为架构师，能在企业的竞争中做些什么，同时也为自己创造增量价值呢？答案是：**通过技术手段为企业注入更多的外部适应性。**

这就是第五条生存原则要覆盖的内容：架构师要通过优化架构方案、干预架构活动，以保证最终交付的项目不仅能满足既定目标，还能适应不断变化的外部环境。这个过程有一个总的指导原则，那就是为最终产生的架构设计不断注入外部适应性。
<div><strong>精选留言（22）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg" width="30px"><span>neohope</span> 👍（17） 💬（4）<div>1、之前有一个不到十人的小移动团队【含后端】，用纯原生方案开发表单类APP，客户要求不断变化，迭代速度总是赶不上前线要求。后面建议用React Native进行了替换，IOS也买了企业证书，安卓和IOS人员单点压力一下没了，整体交付响应速度快了两倍以上。
对于这个产品的PC版本，也建议过用Electron替换Winform，但被义正言辞的拒绝了。因为他们Winform的壳子已经很稳定了，很多功能就是套用了Chrome浏览器插件，没有跨操作系统的需求，而且没人愿意转Electron，反思是有些不尊重人性了，哈哈哈。

2、PC到移动互联网过渡，记忆深刻的有Flash，SilverLight，Applet从流行到被彻底淘汰，主要是根本无法满足移动端需求，甚至在刚对上H5的时候就败下阵来。其实还有JSP，JSF，Struts，jQuery等很多技术也是从流行到逐步没落。

3、外部适应性这个挺多的。比如Skype。被收购时技术领先，但做着做着就被新崛起的小公司们干掉了。感觉微软收购了Skype，总是要让Skype先融入自己的PC生态，而不是用互联网思维去快速响应市场变化，于是就没落了。当然这是事后诸葛亮咯。</div>2022-01-04</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJrOl63enWXCRxN0SoucliclBme0qrRb19ATrWIOIvibKIz8UAuVgicBMibIVUznerHnjotI4dm6ibODA/132" width="30px"><span>Helios</span> 👍（13） 💬（2）<div>让团队内部有清晰的大方向和目标应该也是注入外部适应性的一种。
2018年的时候公司发展很快，也引进来很多技术管理人才，然后就是频繁的组织架构调整，干前端的去干后端了，干后端的去干运维的，有个研发小伙子因为干的特别好，竟然让他去做支持，小伙子觉得和自己发展方向不一致直接辞职，还有好多老员工离职的时候说“看不到方向”……

其中最令我深刻的是新来的总监大刀阔斧搞两个披萨理论，产品、测试、前后端控制在十个人，结果没看清楚历史包袱导致自己团队人总是给其他人干活。

我个人感觉组织架构调整是公司向上的标志，但是如果一次架构调整之后底下的人怨声载道，离职率徒增，那么最好的办法不是马上进行下一次调整而是思考。</div>2022-01-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/e5/52/dc28485d.jpg" width="30px"><span>Miss Independent</span> 👍（8） 💬（1）<div>我觉得不仅是各个岗位，企业需要外部适应性，人也一样，感触比较深的是很多人在一种商业模式刚兴起时总是怀着质疑的态度，总是在去看别人怎么样，但是当目睹了那么多人在这种模式下收益，又开始想要跃跃欲试，但是这个时候往往已经是一个模式已经到了饱和的阶段。所以人也需要不断去注入外部适应性。要去在一种模式兴起时，认真分析优劣势，找准定位，勇于尝试。这个前提当然是我们对于兴起模式已经洞察接触的情况下，然而很多时候我们总是会满足于现实工作中的繁琐，不愿在空闲时间再过多关注其他兴起的事物与观念，所以导致我们错过了很多机会，对于事物的感知也是很重要的一个特质，而这种感知一定是源自于自我更高的追求、持之以恒的接收信息以及持续的思考总结。</div>2022-03-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/a0/50/390187f3.jpg" width="30px"><span>罗均</span> 👍（6） 💬（1）<div>思考题作业：

1. 学生感觉，CTO或架构师引入什么技术不重要，更重要的企业是否具备持续适应环境变化的基因。例如福特汽车在2021年股价涨了140%，其从2011年入股pivotal开始，面对硅谷各大互联网巨头的嘲讽，硬着头皮坚持数字化转型，虽然和特斯拉差距还很大，但至少在传统车厂赛道上已经远远甩开了竞争对手。这也是我们中国企业最缺乏的企业文化。对于老师的四个问题，汽车行业内经久不衰的丰田生产方式，有一个核心原则——就是杜绝浪费。例如引入ReactJS实现车载娱乐的在线服务，基于树莓派或Arduino模拟整车环境做自动化测试，价值无非就是要大幅度减少人力和时间上的浪费。除了“什么都不做”外，其他选项就多了，至于选哪项，往往还是根据业务以最少浪费的选择——自动化测试台架的控制服务器，可以是拿retired laptop重新安装Linux后，安装开发好的docker镜像来跑的。

2. 学生去年曾想过开发一个车内online plugin app，通过控制空调压缩机开关的API来实现节省油耗。后来想想电动车时代了，燃油车会越来越少，而且费很大劲油耗降个10%，也不见得可以提升销量，所以很快就放弃了。

3. 失败的原因，学生觉得就是缺乏《易经·系辞》中提到的“自强不息”与“厚德载物”，或者这两者不如竞争对手。例如马云先生早年的发心，是为了“将千千万万商贩从商业地产商的残酷剥削中拯救出来”，今日的阿里好像缺失了点什么。技术选型不重要，谁去做更重要，例如特斯拉的车载娱乐系统，是基于x86开发的，其效果也没比其他用高通最牛的SoC开发的产品弱。</div>2022-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/bc/76/a5b9d244.jpg" width="30px"><span>bigbigboy</span> 👍（4） 💬（1）<div>感谢老师分享，有种醍醐灌顶的感觉。
是否可以分享一张全景图或者思维导图，信息量有点大，要不断地温习才能get到内容。</div>2022-01-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/a7/4c/a158cb5f.jpg" width="30px"><span>咏晨桃</span> 👍（3） 💬（1）<div>短期的外部适应性给我的感觉是扩展性，能否给其他领域未知领域快速接入，降低其他领域的从零到一的成本，因而带来的价值</div>2022-02-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f6/27/c27599ae.jpg" width="30px"><span>术子米德</span> 👍（3） 💬（1）<div>🤔☕️🤔☕️🤔
* 📖：架构师，通过技术手段，为企业注入更多外部适应性
    * 🤔：所谓企业的外部适应性，是否指当企业遇到不可掌控的外部力量时，具有更大的弹性来缓冲这种力量性打击，甚至因变化而带来更大的机会和优势。也就是说，适应性就是被动挨打的抗打击能力。
    * 🤔：未雨绸缪这个词，是否比较合适用来概述这种行为。那对于预期的效果，如果是在事先判断，是否就是在做演绎。那对于实际的效果，如果在事后总结，是否就是在做归纳。不，归纳都算不上，更应该叫溯因。事情做成，总得找个成功的理由，然后就溯出各种曾经的技术手段，如何让企业更具有外部适应性。所以说，感觉这里逻辑上和认知上是否存在个矛盾。如果架构师的能力和视野，能够预判出未来可能的变化，那本该就做好，这实际上就是架构本该做好的工作。可是如果超出架构师的能力和视野，是否做什么都不见的会有实际效果，或者说做了其实也更可能是浪费。
    * 🤔：这么说下来，要么有能力和视野，本来就能具有所谓的适应性，否则就是运气而已。如此思路，有问题嘛。
* 📖：帮助他人创造价值 vs 自身创造价值，如果混为一谈，难以提升自己创造价值的能力
    * 🤔：创造价值，帮他人创造，自己创造，这得有区分，为何我从来没有思考过这个点，我缺少怎样的思考维度，才导致我根本就想不到这方面，这个方面对我是个更大的惊醒。
* 📖：业务驱动、产品驱动、技术驱动，架构师理解业务和产品，跟研发同学一起努力做出技术驱动的产品，并在业务里取得成果
    * 🤔：一直等业务驱动，那就是每个项目都会做到现场通宵，一直等产品驱动，那就是经常肯德基奶茶半夜回家。只有自己理解业务和产品，用技术来驱动产品和业务，才能进入自身创造价值的过程，而等业务、等产品都只是在帮助他人创造价值，自己拿个辛苦钱而已。不过，即使技术驱动到产品和业务，这跟用技术体系使得企业更有外部适应性之间，有什么必然因果关系嘛。
</div>2022-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/83/8d/03cac826.jpg" width="30px"><span>徐李</span> 👍（2） 💬（1）<div>

2.PC端向手机端过渡的时候，之前比较火的一个“校内网”很火爆，但是没有做好移动端的扩展，属于社交吧，之后慢慢没落了。包括类似很多这种“酷狗”“酷我”PC端很常见的 视频，音频播放器，很多热门的软件突然就消失了。 我自己的一个经历，就是2017年选型微服务架构的时候，那时候是大火，现在虽然也很火，但是这个能力就像一个基础能力，不那么出众了，再出去谈这种架构，就不感觉有什么优越性了。就是外部软件技术变化太快，也不是说当时哪个节点这个技术不行，只是随着市场需求发展，各种因数的制约，导致了一个最后结果就是普遍化了，通用化了，然后自然就没有先进性了。我觉得没有一个技术能一直适应外部环境的变化，应该是一个不断发展的技术在不断适应外部环境的变化。</div>2022-01-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/aa/a2/abb7bfe3.jpg" width="30px"><span>武斌</span> 👍（2） 💬（1）<div>最近在做支付相关的领域，就在和团队一起探索数字人民币。当数字人民币更普遍的使用的时候，我们的系统如果能够简单的兼容，就说明对于外部适应性上做了设计。</div>2022-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/a0/50/390187f3.jpg" width="30px"><span>罗均</span> 👍（2） 💬（2）<div>还有个问题想请教老师，就是此课提到的“随着产品和技术能力的进一步提升，技术同学可能会看到更多机会。……以及提升供应商的合作意愿。”

这里面“技术同学”是指架构师还是研发人员呢？这类活动属于架构活动吗？

谢谢老师！</div>2022-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/8e/16/7d97a36f.jpg" width="30px"><span>小兵</span> 👍（2） 💬（1）<div>需求老是改，这个太有画面感了
不过研发人员也需要有一定能力挡住部分不合理需求。曾经见过一个产品在需求评审会前半个小时提了6个需求，问到为何突然这么提，回答说是他boss觉得很多事情他没落地，所以他得赶紧把需求提出来…
话说回来，在一个快速变化的市场，方向的快速变化确实是不可避免的。个人理解：架构师（有些公司是技术负责人）这时候需要做的上和业务&amp;产品保持紧密沟通，确保技术、业务、产品的方向是一致的，另外架构师自身也需要紧密关注行业内的知识和变化，能够在技术架构上有一定预判。这个时候可能没法像一个成熟行业做按年的预判，那能够做到按月的预判并且持续修正，最终应该不会偏差太多</div>2022-01-05</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erxyVIrWPKm76o8JVupduuJCPcvTV5GSWfpXsGOekxSib0eUdgb8aMVAXTsg30NpB3ibRv6stp1yMiag/132" width="30px"><span>Geek_fb8216</span> 👍（1） 💬（1）<div>“逼近正确的目标、尊重人性、最大化商业价值，以及利用好技术生命周期，然后通过你的架构设计和对架构活动的决策来最大化企业的外部适应性。”
郭老师，你好，想问下，前四个法则和第五个法则的关系是手段和目的关系吗？还是说他们是平行独立的</div>2022-01-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/e1/f5/00efa912.jpg" width="30px"><span>郭桑</span> 👍（1） 💬（1）<div>想想我前公司（制造业龙头）的“架构师”们，天天除了卡流程舔领导啥也不干。CIO说要搞云原生，虽然他们也不懂什么是云原生，但是马上要求所有项目文档必须体现云原生方案，不然不给批，诶……</div>2022-01-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/a0/50/390187f3.jpg" width="30px"><span>罗均</span> 👍（1） 💬（1）<div>能否请教老师，由老师总结的精辟的三个企业内部压力，对于架构师或研发经理来说，有什么好的化解方法的建议吗？
对于一线的研发人员，是否应该由自己思考如何在压力与长期技术规划中寻求平衡呢——其实老师的这么课，非常有利于一线研发人员的规划设计。至心感恩老师🙏</div>2022-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/84/56/b6187140.jpg" width="30px"><span>Geek_sa2mt4</span> 👍（0） 💬（3）<div>回答下思考题1:

之前在一家公司做创新项目，自己做了个app。由于处于探索阶段，需求变化快，数量多，原生app开发需要同时开发安卓和ios两个版本，测试工作量也是double的，迭代速度慢，这对于一个创新项目来说并不利。所以后来经过讨论，采用h5嵌入到安卓和ios的方案，这样原生安卓和ios的架子基本不用动，每次修改只需要h5同学修改即可。并且测试时h5页面可以独立测试，测试成本降低，迭代速度大大提升。

当时有想过一套代码同时生成安卓和ios代码的方案，但还是不如上面h5嵌入的方案快，就被否了。
后来我们发现这样的方案还需要用户下载一个单独的app，不利于推广，所以迭代出了微信小程序的方案，用户扫码授权即可使用，而微信小程序本质上就是个h5页面，很方便迭代，这时的试错速度更快了，也算提高了企业的外部适应性吧。

但后来这个方案带来了和之前原生方案一样的问题。由于一些原因，我们需要支持支付宝小程序，而支付宝小程序和微信小程序是不兼容的，并且小程序对嵌入的h5的支持都不理想，这就导致我们每次都需要开发两套，测试两套，跟之前一样了。你可能要问为什么要开发支付宝小程序？从外部的角度决策，微信小程序才是主要入口，但我们这个创新项目需要内部的支持，而支付宝小程序则是为了证明我们的政治正确，如果不做，这个项目可能从内部就被掐死了，没机会讨论怎样提高外部适应性了。</div>2022-09-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/18/12/b419c29c.jpg" width="30px"><span>Trapped</span> 👍（0） 💬（1）<div>郭老师您好，我想请教一下所有架构都必须有一个正确目标，即是可以和企业战略意图相匹配的目标。这一条是法则三架构师必须创造商业价值，他们是否是重合关系还是互相独立。
我最近面临一个选择，1.是加入一个2022年公司第一优先级的项目，但因为项目处于起始阶段，并没有营收目标，也就是说短期之内没有和收入相关的指标产于考核。2.是加入一个次优先级却是公司为数不多的创收项目。回到我的问题，郭老师您介绍至今详细介绍的法则是否有相互违背的情况，如果有，应该如何做取舍? 谢谢。</div>2022-01-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg" width="30px"><span>qinsi</span> 👍（0） 💬（1）<div>经历过开发的产品被大厂复制，也听说过风投把技术方案套出来之后反手投出来一家竞争对手。似乎在技术层面能做的不多。</div>2022-01-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/76/a0/1a6db8ac.jpg" width="30px"><span>无心水</span> 👍（5） 💬（0）<div>架构师在企业竞争中的定位
    通过技术手段为企业注入更多的外部适应性

架构活动内部应该遵守的法则
    技术体系的外部适应性：一个企业对外部环境变化的适应能力，以及对新机会的捕捉能力
        架构师要通过优化架构方案、干预架构活动，以保证最终交付的项目不仅能满足既定目标，还能适应不断变化的外部环境。
        总的指导原则：为最终产生的架构设计不断注入外部适应性

    外部适应性：不同职能之间视角的差异性
        业务同学通过商业和投资手段，来迅速捕捉外部的商业机会
        运营同学通过新场景迭代效率，来提升企业的市场竞争力和市场占有率
        产品同学通过打磨产品提升用户体验，从而达到提升企业竞争力和市场占有率的目标
        技术同学通过打磨技术体系来支持产品和运营，从而达到提升企业竞争力的目标

    架构师仅仅可以通过组织架构活动与优化架构方案设计，来为企业注入外部适应性
    错误观点：我发现，很多架构师把帮助他人创造价值与自身创造价值这两件事混为一谈，这样做，你就很难提升自己独立创造价值的能力。
    业务、产品和架构师所处的技术视角，分别代表研发活动的三个不同层次
        第一个层次，研发活动由业务驱动，直接在业务人员的指挥下响应外部机会。
        第二个层次，研发活动由产品规划驱动。比较常见的产品有营销产品、供应链产品。
        第三个层次，研发活动就是由架构师主导的架构活动。架构师和研发同学对业务、产品做了一系列的抽象，最终形成由技术驱动的技术产品。比如工作流引擎。

    架构师需要在技术层面为整个企业的技术体系注入外部适应性，这才是你独立于其他职能所创造的长期价值，是你有底气的自尊的源泉。
    影响技术体系外部适应性的因素
        企业内部压力的影响
            1.业务交付时间的压力
            2.技术岗的供给压力
            3.考核的压力

        企业外部环境的影响
            最常见的削弱一个技术体系外部适应性的外在因素就是竞争
            除了竞争外，还有其他环境因素也会影响技术体系的外部适应性。比如用户需求的流行趋势、宏观经济周期、监管环境、资源供给、技术趋势等等。
            在大多数风险投资充足的地区，尤其是中国和美国，大多数企业其实并不具备对外部适应性做长期规划的条件。

        企业组织的影响
            最后一类削弱技术体系的外部适应性的因素，与企业的组织结构有关。
            研发人员由于自身认知局限、沟通的局限，或者是为了保护自己团队的利益，导致他们的设计都是局部最优，而不是全局最优。



</div>2022-01-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/e7/5a/0010f3f7.jpg" width="30px"><span>HackMSF</span> 👍（5） 💬（0）<div>感觉思路被打开了。
这个课程是CTO分享给我们内部的，我虽然是一个一线研发，但这个课程的对我也同样有用，无非就是将架构师这么一个庞大的格局，浓缩到一线研发的职责范围。

强烈期待下星期2的更新，</div>2022-01-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/3f/39/a4c2154b.jpg" width="30px"><span>小昭</span> 👍（0） 💬（0）<div>适者生存，不管是人还是企业。</div>2023-04-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4f/d8/2183560d.jpg" width="30px"><span>海鱼美味</span> 👍（0） 💬（0）<div>1. k8s的使用，无论是切换开发语言还是改变架构，它作为基础服务，都是能很好地支持。
2. WPF开发的桌面程序，在BS架构的冲击下，基本消失了，因为安装程序分发和版本升级成本高。
3. HDFS，在k8s的流行下，出现了云原生的存储方案。</div>2022-08-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/99/8d/4d5dbfc5.jpg" width="30px"><span>王喜春</span> 👍（0） 💬（0）<div>优质的架构师生存指南</div>2022-06-06</li><br/>
</ul>