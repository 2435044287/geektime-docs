你好，我是郭东白。在模块导读中我们提到了，架构师在架构活动中所发挥的关键作用主要有四个：建设共识、控制风险、保障交付和沉淀知识。这也是架构师创造价值所必备的四项基本能力。

这节课，我们先来讲前两项能力，看看架构师该如何帮助团队迅速达成共识、如何控制与面对风险。

## 建设共识

在互联网时代，我们面临着三个与沟通交流相关的重要挑战：

1. 分布式研发：日常工作中相对隔离的微服务研发模式；
2. 沟通障碍：分散在全球或全国多地的研发团队，以及由此带来的语言、文化和沟通障碍；
3. 认知差异：由于职能、工作背景不同而造成的认知差异，尤其是由于视角局限而带来的认知差异。

这意味着架构师需要克服上述挑战，推动参与者对架构活动形成共识。具体来说，这些共识包括目标、决策环境、架构语言、各自的责任边界和交付时间、交付内容和交付质量以及资源分配。

共识，在架构活动的上下文里，就是**尽可能让多的人在限定时间里达成一致**。很多人误以为共识就是投票，让少数服从多数。其实不然。投票是个表面公平，但其实非常暴力的决策方式。它是在参与者无法达成共识的情况下，依然要获得一个决策的办法。而共识的目标并不是达成一个决策，而是让尽可能多的参与方认可一个决策。

我曾经为甲骨文、微软和亚马逊三家公司，在不同领域参与了十年的国际标准制定工作，参加过多场标准制定的相关会议。国际标准的制定过程，实际上是多个竞争对手之间进行博弈和合作的过程，是一个艰难的建设共识的过程。在这个过程中，我掌握了一些方法和技巧，也发现这些方法几乎可以完全平移应用到架构活动中。接下来我就来分享一下。
<div><strong>精选留言（23）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1c/f6/27/c27599ae.jpg" width="30px"><span>术子米德</span> 👍（14） 💬（4）<div>🤔☕️🤔☕️🤔
* 🤔：建立共识，特别难，一起跳到坑里，再一起爬出来，就会先建立大家都不容易的共识，然后才会对新目标，更容易产生共识，尤其是大家会觉得，要不一起先干一把，再回头看到底是怎么回事。
* 🤔：一直在推进嵌入式设备的软件模块进行UT的事情，一开始根本没人搭理，怎么说都觉得怎么可能。一方面没有直接经验，另一方面拿着设备调试惯了，经常要出现所谓联调，尽管效率低，这么多年还不是这么过来。后来我自己开始实践，写完模块写UT，发现UT不难写，但是设计怎样的UT，从哪些维度思考的UT，才能让模块真的在联调前达到预期质量，真需要实践和思考，才会掌握到位。可是我说给大家听，还是仅点头，不会自己动手。后来抓住机会，在某个项目里实践起来，真正体感到，原来自己UT通过，只要UT设计合适，就是能够一把冒烟测试通过。有了这种惊奇的直接经验，才会到处去传播。
* 🤔：所以说，共识，要自己认识到，要自己体验到，要别人认识到，要别人体验到，那才能真正产生共识。</div>2022-03-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/a0/50/390187f3.jpg" width="30px"><span>罗均</span> 👍（10） 💬（2）<div>感谢老师精彩的课程，看到老师的最后一个问题，非常感触，感觉这不仅是企业组织的问题，更是社会的问题。最被忽视的群体，往往是固步自封的个人或组织，例如改革开发导致了无数的小国企倒闭，无数国企工人下岗。能够做的，或许只能学习小平同志，首先自己“解放思想，实事求是”，然后帮助暂时落后的群体“解放思想，实事求是。”

例如在传统车厂，特斯拉时代的到来导致车内大量的开关（按键）零件被取消——由中控娱乐主机的显示屏软件化集成。这就不仅需要企业在方方面面帮助原来这些被淘汰的零件的责任工程师转型，更需要面临危机的工程师自寻破局之路。

</div>2022-02-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f6/27/c27599ae.jpg" width="30px"><span>术子米德</span> 👍（7） 💬（2）<div>🤔☕️🤔☕️🤔
* 🤔：利益被忽视，太常见，常见到都不敢去正视。个人觉得，虽然这里用了被字，但实际上也有活该，甚至可以说该死才忽略。作为个人，一直勤奋工作，当然得竖起大拇指，但如果不思考自己的价值，不思考自己的成长，不思考所处的环境跟自己的匹配，可以用比较实在来形容，但是更应该用责任感差来形容。每个人都不会一辈子只有一把键盘和一盒泡面，一定会经历上有老下有小的生活。尤其是已经在这个过程里，还让自己躲在老实人的外壳下，那被忽视不是他还是谁。所以我反而觉得，被忽视一次正常，反复被忽视，迟早会被当头棒喝。</div>2022-03-01</li><br/><li><img src="" width="30px"><span>BIZ_UI_3</span> 👍（6） 💬（1）<div>这篇其实主要讲的是与人沟通，是道，而不是术。我认为它更像是一节情商课。同样，可能也只有有情商的人才能落地这节课的内容。。。</div>2022-02-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/84/56/b6187140.jpg" width="30px"><span>Geek_sa2mt4</span> 👍（5） 💬（1）<div>结合思考题说下个人感受吧

思考题1：说下之前公司金融域重构的事情。
要重构的是整个金融域，规模还是很大的。要重构的目的除了语言上融入新公司，还有就是业务需要，之前的架构已经不太好应对日益增长的单量了，需要更新更事实的架构。
这个项目最终上线了，不过由于老人几乎走光，给项目带来了很大的阻力。
走的原因是，架构师招了一批Java同学来重构系统，新老系统并行开发，python的同学觉得自己在这边得不到发展，而且当时python在上海还是有市场的，就差不多走了。
当时对这位架构师最不满的是招了Java同学，后来私下里问过这位架构师当初招Java同学的决策，说是感觉到python同学要走，想加快进度，没想到走得更快。

我也能感觉到当时的大环境很难留住这些python同学了，但在上面的压力下重构又不得不做，不知道东白老师碰到这种情况会怎么处理？


思考题2
我理解的建设共识的过程是一个利益交换的过程，一个leader说的话给我的印象很深，他教我要发现身边同学的欲望，从欲望触发做利益交换，这人只要有欲望，就有办法做利益交换。我觉得这事也适用于架构活动建立共识，如果这人的欲望不在工作中，也可以是生活中的，比如迁根红线，违法犯罪违背道德的事情不能干。这样没准后面还能成为好哥们，相关事情也会更好推。
补充下这事的背景，就是当时这位leader想推UT，我问他怎么推动事情时，他跟我说的，我问他如果一个人没有欲望怎么办？他说这种人他不会招。不过UT这事还是推失败了。

思考题3
看到题目我就想到了之前的打车市场的优惠券大战。各公司参战时都觉得是一时的冒险，但后来大家都这么干了，就成了增长型的冒险了。冒险的性质不是不变的，可能及时识别风险，控制风险，及时止损更重要些</div>2022-09-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg" width="30px"><span>，</span> 👍（3） 💬（1）<div>     相较于老师讲的场景与方法,老师做人的道德更令我敬佩,确实,成为一个可信赖的人是做成事的基础,老师的课是我今年最大的收获,这课我买赚了。</div>2022-04-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg" width="30px"><span>亚林</span> 👍（2） 💬（1）<div>所谓善人，人皆敬之，天道佑之，福禄随之，众邪远之，神灵卫之；所作必成，神仙可冀。</div>2022-04-28</li><br/><li><img src="" width="30px"><span>Geek_42abae</span> 👍（1） 💬（1）<div>建设共识这块，我根据可观测项目进行的总结

https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;jCnzsrcqwXOkK7zfRzV0Og</div>2022-10-30</li><br/><li><img src="" width="30px"><span>Geek_42abae</span> 👍（1） 💬（1）<div>我目前负责可观测系统建设，其中一个目的就是当线上某个业务不正常时，能够通过数据观测到哪里出了问题。早先是各个部门各搭烟囱，自扫门前雪，一个问题需要几个部门的人挨个利用自己的工具分析排除，信息不共享，效率低。我想形成all-in-one的共识。我会充分考虑参与者的利益，合作后参与者有什么好处，为参与者着想。这样会稍微顺畅一些</div>2022-10-09</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaSCBXj0KzibYfaTrP9LkgRRpCdePNPoR9TKzhXbjeHVhCYdIicdicAyoZkNUQuricIpltfGzhrjnn4Q/132" width="30px"><span>CheungQ</span> 👍（1） 💬（1）<div>捉个虫，“不够(过)这里可能还有其他更深层的理由”
另外，刚开始看，个人理解，“建设共识、控制风险、保障交付和沉淀知识”
这4个部分感觉分别对应，
“建设共识”：项目开始前统一目标，确定方向
“控制风险”：项目开始前也有风险，需要确定规避，更多的是过程中的风险
“保障交付”：保证项目完美交付上线
“沉淀知识”：项目交付完成后需要累积经验，除了前面的代码服务，还要有知识库的内容完善
其实感觉和PMP的体系也非常相像</div>2022-03-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f6/27/c27599ae.jpg" width="30px"><span>术子米德</span> 👍（1） 💬（1）<div>🤔☕️🤔☕️🤔
* 📖：互联网时代三个沟通类挑战：分布式研发、沟通障碍、认知差异
    * 🤔：技术因素（硬功夫）、距离因素（硬限制）、经验因素（硬缺失）
    * 🤔：功夫软可以练习，在犯错中不断总结反思，在技术的可用、实用和好用之间得到自己的体感，才能加深技术的理解，也才能真正掌握技术。这时候沟通，眼看着成长起来。
    * 🤔：距离远可以改进，在冷淡和摩擦中寻找和确定共同目标，围绕着越来越清晰的目标，信任和好感也会滋养起来。这时候沟通，持续在往期望的方向发展。
    * 🤔：经验缺最是难办，工程类的经验倒还有机会弥补，认知类的经验，真的就像砖石版的玻璃罩子，眼巴巴得无法突破。其实知道自己头皮已经顶住罩子，努力想突破已经算踏出关键一步，更多是背靠着罩子，来个垂直版躺平，那真是恨铁就是铁，只会慢慢生锈。这时候沟通，人家什么都懂，就是左耳右耳都听不进去。
* 🤔：共识未达成，想尽办法找出差异点，逐步达成共识，这时候的共识反而比较牢靠。本来比较信任，对某件事情快速达成共识，期间忽然因某个利益点产生分歧，就像装水的气球，一钉就破，而且难以修复。这么说来，对未达成的共识，要报以耐心，对于快速达成的共识，要提高警惕。
</div>2022-03-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a2/fb/94af9cf1.jpg" width="30px"><span>Alex</span> 👍（1） 💬（1）<div>把相关人员提前拉入共识决策得过程。先明确目标在大家一起讨论方案。相对于突然拿出个方案去建立共识更容易些</div>2022-02-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/56/8c/a8317e23.jpg" width="30px"><span>磊</span> 👍（1） 💬（1）<div>个人工作中遇到的和团队建立共识的方式：
1，首先，要有一个自上而下的宣导动作，让团队成员对项目的背景和决策过程有一个统一的认知，一般情况下项目的决定如果符合公司预期的战略目标，在宣导的时候，就会有一部分人达成了共识。当然正如郭老师所说，考虑各方的利益是必须的，不然就一定会有阻力。
2，其次，在接下来的一段时间，就可以跟各利益相关方详细沟通，各个击破。
3，最后，如果真的无法建立共识，那只能各自好走。</div>2022-02-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/8c/e1/63adf36f.jpg" width="30px"><span>欧阳绍聪</span> 👍（1） 💬（2）<div>在推广多媒体中台的时候，能看到有很多复用的东西，也有心打造自研技术进一步降低成本。可是整体上忽视了各业务部门的差异性，只考查秀场模式，整体框架只服务成形稳定的主版业务，不能很好支持创新业务的快速试错，泛化能力太差，最后的结果是失败，中台部门只留下维护的几个人。
这里应该是一开始就是目标错误，完全忽视了创新业务的利益，在落地推广的过程中，也没达成共识，自上而下强推，没有创造价值反而拖了时间成本，中台业务的架构展开视角没能从全局出发。中台应该是抽象成同类型业务的，而公司层面上就不会展开与主版相似相同的业务，探索创新业务也尽量避免直接竞争，换做是我处理，那是一开始就不会做这个事情，而是专注于多媒体组件化，流质量提升上。</div>2022-02-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（1） 💬（2）<div>请教郭老师两个问题：
Q1：现在“中台”是不是不行了？前一段很火，近期看到几篇文章，说“中台已死”一类的话。
Q2：大型互联网公司的最前面入口是什么？
        在讲互联网架构的书籍和专栏中，会提到用户请求到达的第一个设备，比如Nginx、F5等等。
        即便快如F5，其处理能力也是有限的，根本无力承担阿里这样的流量。那么，最前面的入口是怎么解决大流量的？
        难道说有多个入口？如果是多个入口，是怎么实现的？</div>2022-02-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/3f/39/a4c2154b.jpg" width="30px"><span>小昭</span> 👍（1） 💬（0）<div>共识不等于投票。

既要有【全局视角】，也要有【局部视角】。</div>2023-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4f/d8/2183560d.jpg" width="30px"><span>海鱼美味</span> 👍（1） 💬（0）<div>1.一定要公正，要实事求是，并且要对利益受损方讲清楚原因，不能和稀泥隐藏矛盾。</div>2022-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg" width="30px"><span>李二木</span> 👍（1） 💬（0）<div>冒险就意味着风险，如果害怕风险而放弃冒险，这表明自己还处在舒适区，这样就不会有成长。</div>2022-04-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg" width="30px"><span>escray</span> 👍（0） 💬（0）<div>即使不考虑分布式研发，沟通障碍和认知差异估计也是大部分团队会遇到的问题。解决的办法可能只有在一开始的时候就只招“三观相同”的技术人员。

对于利益不同的认知差异，感觉上很难达成共识，相对公平且能够长期维持的机制几乎可遇不可求，似乎是需要双方在一定程度上的彼此信任。“多数产品研发人员是理智的”，但是领导往往是不理智的。

在解决了利益问题之后，视角问题和内在差异是相对容易沟通的，一对一的深度对谈可能是最好的解决方式。

对于控制风险来说，可能还是第一步，量化风险认知最难。报告风险的话，如何避免出现花刺子模的信使？

对于思考题，我觉的与同事深度沟通有关利益、视角和内在差异的问题，是有一定难度的，对于沟通的双方都有很高的要求。

如果冒险的话，无论个人还是企业，都应该控制好冒险的程度，做好最坏的心理准备。

看到留言里面有几位同学提到了推行 UT 遇到的困难，一方面是共识比较难以建立，无论是从上到下，还是在工程师中间；另外一方面，可能也是因为大家都不知道怎么去做。</div>2023-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/0b/fc/e1cbc260.jpg" width="30px"><span>Chaos</span> 👍（0） 💬（0）<div>复杂项目不能寄希望在前期考虑到所有的风险,很赞同在项目过程中持续地去深入判断风险和优化预案.</div>2022-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/ce/cb/8f9cb975.jpg" width="30px"><span>刀疯剑狂</span> 👍（0） 💬（0）<div>要好好体会，不然会走火入魔。</div>2022-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/09/fb/52a662b2.jpg" width="30px"><span>spark</span> 👍（0） 💬（0）<div>郭老师，准备上你的车，take away~~~
理解架构师实际工作内容，业务(战略、市场、创新、业务设计)，管理(管理框架的建立、领导力、组织能力)，技术(递归和分治的计算机思维、技术宽度和深度、边界和Precondition、艺术)。拥有以上能力，才容易建立共识，或者能给其他人机会，尝试参与建立共识的过程~~~</div>2022-02-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg" width="30px"><span>GAC·DU</span> 👍（0） 💬（0）<div>知识维度好高</div>2022-02-22</li><br/>
</ul>