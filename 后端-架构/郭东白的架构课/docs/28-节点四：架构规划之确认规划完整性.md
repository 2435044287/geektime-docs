你好，我是郭东白。这节课我们来讲架构规划的最后一个环节——规划确认。

在上节课，我们已经梳理出了一组必保需求，然后从这组需求中推导出了一组任务。并且，我们以最大化某个项目目标的方式，将这组任务分配到了执行团队中。

完成这些工作后，我们距离整个项目的正式启动就只有一步之遥了。而这个重要的一步就是对整个架构活动的规划做确认。这个环节的价值在于：

- 是控制风险的重要机会。
- 是保障交付的重要手段。
- 是为团队和企业沉淀知识的重要时机。因为在这个环节，你和其他参与者会产生大量的规划文档。而这些文档，就是沉淀知识的利器。

可以说，通过架构规划中的确认环节来控制风险与保障交付，就是我们在这个环节的核心关注点。具体而言，规划确认包含八个部分。接下来我们就来详细拆解一下。

## 定稿架构规划文档

在规划确认之前，你已经收集了几乎所有与架构规划相关的文档。那么规划确认，也就是定稿架构规划文档的过程。

在定稿的过程中，你可能会和不同团队、企业外部专家产生诸多交互。这个时候你就需要与执行者确定规划内容。因为之前的收集主要是作为规划的输入，而不是执行者的承诺。所以你就需要**把输入转成一个可行且有约束力的规划。**

架构师的角色有点像律师。除了最小化交付风险外，还要确保所有参与者有能力且有意愿履行他们的责任。怎么确保呢？答案是**为参与者拟定一个合同**。
<div><strong>精选留言（13）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg" width="30px"><span>我是曾经那个少年</span> 👍（7） 💬（1）<div>回答一下问题2，作为一个执行者，最反感的是产品和运营，没有相关的经验，自己对需求和目标都不清楚。
举个例子，做一个在线商城系统，就从淘宝和京东&quot;借鉴&quot;需求和功能。你&quot;借鉴&quot;的需求为什么要这么实现，自己都不清楚，就说人家大公司是这个样子做的，最后在实施的过程中，感觉自己抄过来的流程，漏洞百出。</div>2022-04-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4f/d8/2183560d.jpg" width="30px"><span>海鱼美味</span> 👍（3） 💬（1）<div>1.最小可用就是基本功能完成，一个用户价值能体现出来。</div>2022-09-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/09/fb/52a662b2.jpg" width="30px"><span>spark</span> 👍（2） 💬（2）<div>郭老师, take away~~~商业、场景、用户体验，产品经理首先需要成为架构师才行~~~
商业的阶段、增长路径、战略意图，目标确认，洞察力，少就是多，问题的定义，这些要素是确认架构的前置条件。举个例子，我是如何确认架构规划完整性的？一个项目，我写了将近20个PPT，每个PPT我只讲第一页，不超过3分钟。我们公司总裁拿着我的PPT都要讲4个小时以上，消化和确认我写的内容~~~</div>2022-04-05</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaSCBXj0KzibYfaTrP9LkgRRpCdePNPoR9TKzhXbjeHVhCYdIicdicAyoZkNUQuricIpltfGzhrjnn4Q/132" width="30px"><span>CheungQ</span> 👍（1） 💬（1）<div>3 计划永远赶不上变化，哪怕是再完美的规划也敌不过变化。你见到最夸张的变化是什么？这种变化可以通过规划来应对吗？为什么？
不可控依赖的变化这个着实难整。也不说最夸张吧，就上个月的事情，我们营销活动后台接了个抖音某个活动的接口，蹭蹭蹭从需求到开发，4月底准备上线，临上线前3天，对方那边说原来的接口不用了，要提供新的接口给我们。经过内部研究商讨之后，考虑到重新修改，测试等的工作量，只好改期到下个迭代再上线这个需求了。
这样的变化我们无从控制，但是要说应对也不是没有办法，合理的系统分层架构设计（对接口抽象分离）、完善的自动化测试流程，这些如果做得够好的话，这样的变化还是可以轻松应付的。虽然都有落实，但还是缺少点信心，保险起见，且项目排期也不是很紧急的情况下，我们还是选择了在下个迭代修改发布

另外，关于本章的强依赖任务的交付节奏，有兴趣的同学可以扩展参考下“关键路径”法。
通过分解分析推导出一个项目的关键路径，这个（也可能几个）最长关键路径决定了这个项目的最早完成时间。以及紧前关系的确定梳理，合理调整各项架构活动的顺序与资源分配，达到应对、规避风险，保证项目活动成功的目的</div>2022-05-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/18/12/b419c29c.jpg" width="30px"><span>Trapped</span> 👍（1） 💬（1）<div>东白老师您好，请教一下老师，架构规划文档的标准格式应该是什么样子？</div>2022-04-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（1） 💬（1）<div>请教老师几个问题啊：
Q1：与参与者签合同，具体是怎么做的？纸上签字吗？还是口头承诺？
Q2：消息机制不是数据传输的首选机制，那首选机制是什么？
Q3：多大规模的公司适合用消息？比如极客时间适合用消息吗？
Q4：老师一般用什么过程管理工具？</div>2022-04-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/a0/50/390187f3.jpg" width="30px"><span>罗均</span> 👍（1） 💬（1）<div>再次感谢老师非同凡响的精彩课程：
1. 精炼清晰的用例文档。
2. 任务边界清晰的分工与计划。
3. 产品、交付与运营都达成共识（或许三方不同的语义环境）的领域模型。
4. 最爱的swagger。
5. 尽可能完整且清晰的信息流和数据流。
6. 明确的交付任务输入。
7. 其他依赖团队的alignment。

第二个问题，作为执行者，上述七点原则中第2、3、6与第7点无法满足的规划，大概率会比较反感，而这四点中的第6点缺乏，则最为反感。就如同诸葛亮火烧博望坡，作为执行的关张赵，军师（架构师）可以不透露任务的缘由，但任务必须清晰明确。</div>2022-04-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f6/27/c27599ae.jpg" width="30px"><span>术子米德</span> 👍（0） 💬（1）<div>🤔☕️🤔☕️🤔
* 📖：对整个架构活动的规划，做确认，价值在于，控制风险的重要机会，保障交付的重要手段，沉淀知识的重要时机。
    * 🤔：架构活动的规划，跟计划有什么差别？为何对这个规划的确认，如此重要？
    * 🤔：规划，得在规划的过程里，把让目标浮现出来，并最终敲定目标。而计划，就是设定到达目标的步骤。规划是画出目标，计划是瞄准目标，如此差别吗？还是，计划是规划的一部分，当规划画出目标后，如何达到目标的步骤就是计划，即规划前期要知道做什么，规划后期要知道怎么做，做什么就是目标，怎么做就是计划。这么说来，规划=目标+计划，这看起来更高级点。哪个理解更合理？
</div>2022-04-30</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/0G5nUhs4Isl9DicqZczPQt51OibNcmfjVxhXdpCoAibvyoOPnK7ZvVBgA3A3Shw08hcmMcuhSer3dmQruJ9xibTb7g/132" width="30px"><span>2022</span> 👍（0） 💬（2）<div>请问这个有讨论群吗</div>2022-04-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/26/27/eba94899.jpg" width="30px"><span>罗杰</span> 👍（4） 💬（3）<div>对于我现在的公司，没有运维，个位数的开发，想要去学人家大公司搞 K8S，服务风格这种东西，真是想都不要想了。利润是开发团队成本的十倍到二十倍，就这也无法说服给团队成员购买正版的开发工具。</div>2022-04-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/a1/5d/6f754b1f.jpg" width="30px"><span>anji</span> 👍（0） 💬（0）<div>作为用户增长团队，明天就要发布了，产品晚上验收发现有个催用红包倒计时的让给改下，理由是能给用户紧迫感，我说明天就要发布了，你要改这个倒计时，完全因为你觉得会给用户紧迫感，但是我们没有实验数据证明有紧迫感，吵了起来，最后还背后捅我一刀告我状，不懂得一个开发成本问题的产品最sha 13</div>2024-04-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/4a/10/365ea684.jpg" width="30px"><span>聪明的傻孩子</span> 👍（0） 💬（0）<div>3.系统性风险最难避开，这种很难通过规划来避免，只能避开；比如最近教育部对于课外补课的打击，造成教育行业的大规模裁员和业务下线</div>2022-04-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/21/8c/e7241683.jpg" width="30px"><span>墨白™</span> 👍（0） 💬（0）<div>在26和27小节，部分内容我没有看懂，应该是跟接触的少有关系。这一节结合我的工作来看，就明白的很多。东白老师的这篇专栏，真的质量很高</div>2022-04-05</li><br/>
</ul>