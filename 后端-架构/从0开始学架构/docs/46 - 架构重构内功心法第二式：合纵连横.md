上一期我给你讲了我的架构重构内功心法的第一式：有的放矢，需要架构师透过问题表象看到问题本质，找出真正需要通过架构重构解决的核心问题，而不是想着通过一次重构解决所有问题。

今天我来传授架构重构内功心法的第二式：合纵连横。

## 合纵

架构重构是大动作，持续时间比较长，而且会占用一定的研发资源，包括开发和测试，因此不可避免地会影响业务功能的开发。因此，要想真正推动一个架构重构项目启动，需要花费大量的精力进行游说和沟通。注意这里不是指办公室政治，而是指要和利益相关方沟通好，让大家对于重构能够达成一致共识，避免重构过程中不必要的反复和争执。

一般的技术人员谈到架构重构时，就会搬出一大堆技术术语：可扩展性、可用性、性能、耦合、代码很乱……但从过往的实际经验来看，如果和非技术人员这样沟通，效果如同鸡同鸭讲，没有技术背景的人员很难理解，甚至有可能担心我们是在忽悠人。

例如：

技术人员说：我们系统现在的可扩展性太差了，改都改不动！

**产品人员想：咦，可扩展性，和扩胸运动有关吗？扩展什么呢？怎么会改不动呢？不就是找个地方写代码嘛……**

技术人员说：我们的可用性太差，现在才3个9，业界都是4个9！

**项目经理想：什么是3个9，三九感冒灵？4个9和3个9不就是差个9嘛，和可用有什么关系……**
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/4d/dd/912b52ed.jpg" width="30px"><span>李奋斗</span> 👍（87） 💬（3）<div>1 需求相对明确，周期明确，项目经理去沟通比较合适；架构重构，可深可浅，能宽能窄，亦长亦短，有很多不确定的东西，在沟通中又有很多技术专业性、细节性的东西，架构师去合适
2 按时交付项目是项目经理的主要诉求，架构合理演进是架构师的主要诉求
3 架构重构，有时候项目经理也在被游说的范围内</div>2018-08-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/6e/f5ee46e8.jpg" width="30px"><span>海滨</span> 👍（42） 💬（3）<div>首先项目经理是对项目整体进度负责的，从职责上来看项目经理大多是反对系统重构的，因为重构或多或少会影响项目进度；其次就算有少部分项目经理有较高的思想觉悟，由于对当前系统重构的必要性和痛点认知的不够深刻，也很难大力的去推进系统重构。对于系统重构感受最深，需求最强烈的是谁？是架构师，架构不合理开发痛苦，架构师就会被责难，因此架构师最有动力也最适合去推进系统重构。</div>2018-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d5/3f/80bf4841.jpg" width="30px"><span>文竹</span> 👍（21） 💬（2）<div>之前有看到老师评论说架构师需要具有5项技能, 一下子找不到了，请问这5项是？

由于架构重构是与纯技术相关的，项目经理很难理解技术，并将技术转换为通俗易懂的话。如果架构师负责转换技术为易懂话语，项目经理进行游说和推动，中间会有更大的沟通成本和信息不同步问题，交由架构师闭环处理为佳。</div>2018-08-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/27/21/0adae3d2.jpg" width="30px"><span>Adun Ton</span> 👍（20） 💬（4）<div>李老师这两期讲重构方面的内功心法，非常经常和有收获。
讲一下自己遇到的几个案例：
1. 有一个健康的外部环境很重要，之前一家公司销售跟客户过度承诺，同时展开软件项目的客户又多，所有的研发资源都消耗在这些项目上，应付时间点和需求变更都很吃力，完全没有精力做重构，造成恶性循环，代码质量越来越差，随着人员流动产品里面谁都不知道干嘛的代码越来越多；
2. 有一个懂技术的老大很幸运，之前另一家公司，产品做到一定规模需要安排时间做重构，跟老板和销售负责人沟通如果不做重构，后面新功能开发和架构改造容易产生问题，得到的答复是你们研发团队的工作就是做好开发工作，优化的这些事情要在周期内完成，完不成就加班做，让大家积极性受打击；
3. 跟非技术部门沟通有时可能简单粗暴一些效果反而比较好。跟非技术部门沟通有时不容易，比如工程、销售团队。你问预期的访问量多少，答曰系统能支持的越高越好，你问希望交付的时间，答曰越快越好。后来索性做个表格，关键功能和性能参数后面直接关联对应的时间，你自己选，自动加出来一个包含一定缓冲的人日，低于这个时间实现不了，这样还能更简单的在这些方面达成一致。</div>2018-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/cf/bb/22af0e52.jpg" width="30px"><span>孙振超</span> 👍（10） 💬（1）<div>架构师是技术岗位，但想把新架构设想落地就需要工程师去实施，如果自己同时带团队并且只需要自己团队的工程师去参与就比较容易；如果自己只有建议权、还需要其他团队配合的情况下，就要发挥各种软实力了，合纵连横、见缝插针、各种布道游说，才能把架构落地，要不然空有一肚子才华无法开花结果。</div>2018-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e5/b2/02199798.jpg" width="30px"><span>lecury</span> 👍（10） 💬（1）<div>感觉这章写的很好，现在也在慢慢体会到这个道理了，要以数据为导向，要给出明显的收益，不然做了也是瞎做。。。

现在做方案设计的时候，都会阐述业务背景，分析现状的不足之处，给出多种方案选择，成本效率的折中，定下方案，给出预期收益～</div>2018-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f5/0a/077b9922.jpg" width="30px"><span>krugle</span> 👍（8） 💬（2）<div>soa还有必要学习吗</div>2018-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/db/b2/29b4f22b.jpg" width="30px"><span>JasonZ</span> 👍（6） 💬（2）<div>李老师，最近遇到一个架构问题。我们是微服务架构。有一个配置中心A系统。现在所有的上层系统都是依赖这个A系统。导致A系统的压力加大，一旦A系统被某一个sql拖垮了，导致上游系统接口超时。影响全局。那应不应该把读DB的请求让上游的系统自己去捅库？还有应该全部调用A系统接口？</div>2019-01-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg" width="30px"><span>长脖子树</span> 👍（5） 💬（1）<div>以事实说话，以数据说话,  换位思考、合作双赢、关注长期
这篇很精彩! </div>2020-09-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg" width="30px"><span>钱</span> 👍（5） 💬（1）<div>课后思考及问题

架构师不是技术岗位吗，为何还要做这些事情，沟通和推动的事情让项目经理做就可以了！你怎么看这个观点？
我所见的事实和华仔讲的恰恰相反，这可能和小组结构和角色定位相关。我们架构师，主要工作据我了解如下：
第一代码评审，除页面外基本都让他看看写的是否OK
第二疑难问题解决，各种奇怪问题可以找他一起看
第三技术选型支持，提供方案供领导选择
第四大促或者平时基础架构部推动的事情，他分配到各组执行
第五人员面试，一面是高工，他主要负责二面
第六对外撕技术方案提供，比如：部门间合作有些事让我们做，他需要判断具体方案是否可行
第七技术探索，如果要用新技术他会先实验实验，调研一下，宣讲一下，然后交给具体人员实施

我的观点是视情况而定，技术相关的事情架构可以推动沟通，不过其他的事情比如：啥时候联调，啥时候上线，需要项目经理来推动沟通了。
合纵连横的合作技巧是通用的，不过具体是谁负责，是事环组过来决定的。

1：本文核心观点
老师你太逗啦！列举的场景能让我笑一个早上😊
1-1：合纵——我的理解是，统一战线，将朋友搞得多多的，敌人弄得少少的，越多人支持一件事越容易搞定。
沟通技巧——在沟通协调时，将技术语言转换为通俗语言，以事实说话，以数据说话，是沟通的关键！

1-2：连横——我的理解，其实和合纵本质一样，区别在于结盟的对象不同。
拉人技巧——换位思考、合作双赢、关注长期。</div>2019-09-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg" width="30px"><span>拉欧</span> 👍（5） 💬（1）<div>项目经理只能站在项目的角度思考问题，许多技术难点他们既不懂也讲不明白，在对程序员说话时也会出现鸡同鸭讲的情况（我就遇到过）；架构师的职责或者说牛逼在于一个问题，可以从技术角度搞定研发，也可以从业务角度搞定产品</div>2018-09-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2a/50/ec923346.jpg" width="30px"><span>微风</span> 👍（4） 💬（1）<div>我能说架构师就是个适配器吗？呃，其实一直认为架构师是个很神圣的岗位：军师。</div>2018-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg" width="30px"><span>Allan</span> 👍（2） 💬（1）<div>1、因为要架构重构，所以整体的架构细节架构师更加清楚
2、还是因为架构师是技术，所以重构方案的选择决定团队的开发过程难易程度，架构师更能把握</div>2023-03-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/66/d1/8664c464.jpg" width="30px"><span>flyCoder</span> 👍（2） 💬（1）<div>在跨职能和部门沟通的工作有比较多的情况很难达到双赢，因为有一些架构优化的工作真的就是针对某个部门单方面受益的，这个时候还是要上升到大部门或者整个公司的利益出发点的。</div>2020-10-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg" width="30px"><span>云学</span> 👍（2） 💬（1）<div>技术驾驭到一定程度就开始驾驭人了，哈哈</div>2018-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e5/df/0c8e3fdc.jpg" width="30px"><span>小胖狗</span> 👍（2） 💬（1）<div>架构师的软技能篇。😁😁😁</div>2018-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2e/0a/86/201d2236.jpg" width="30px"><span>Venson</span> 👍（1） 💬（1）<div>架构师所做的事情是技术性的，但事情是否能落地成功是取决于人的，架构师要考虑的不只是技术方面上的合理性，可行性，也要综合考虑到相关方的利益性，只要能把相关人利益考虑到，事情的推动和落地自然而言也就顺理成章了</div>2023-09-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg" width="30px"><span>grey927</span> 👍（1） 💬（1）<div>有没有这样一种情况，用户对重构后的系统说，这个系统还不如重构之前的系统好用！</div>2021-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/46/a0/aa6d4ecd.jpg" width="30px"><span>张潇赟</span> 👍（1） 💬（1）<div>项目经理是负责推进项目进度的，比如一个项目已经确定好方案开始实施后大部分的推进工作应该是pm。但是如果项目的方案还在讨论、项目范围还没有确定，需要说服别人认同某个方案并一起参与进来一定是架构师的职责。</div>2020-12-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/a5/e4/637ef30b.jpg" width="30px"><span>闻逸</span> 👍（1） 💬（1）<div>现在不是产品经理听不懂技术术语，而是搞技术的听不懂产品术语，尤其是说几句就蹦出一个英文单词的，或者中英文夹杂着的</div>2020-12-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4b/d4/b7719327.jpg" width="30px"><span>波波安</span> 👍（1） 💬（1）<div>我感觉问题就在于，都想自己改动调整最少。</div>2018-09-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/de/f0/ccf46294.jpg" width="30px"><span>忠厚</span> 👍（1） 💬（1）<div>再牛逼的架构也得落地才能体现出架构师的价值，用嘴做架构只能是纸上谈兵，架构师自己不去推动，那架构就不能落地或者不能按自己的想法落地，那架构的价值何在，架构的价值也会大打折扣</div>2018-08-24</li><br/><li><img src="" width="30px"><span>寒星</span> 👍（1） 💬（2）<div>看这情况，我这种既做过项目管理，又做架构设计的是不是更有优势了啊😄</div>2018-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c6/89/0ee26a4b.jpg" width="30px"><span>qinhua-冰糖橙自产自销</span> 👍（1） 💬（1）<div>大的重构好像都是老板拍板牵头的，小重构内部说一下基本就可以了。</div>2018-08-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/55/6c/cad715eb.jpg" width="30px"><span>Archer</span> 👍（0） 💬（1）<div>从学科角度：项目经理是管理学，架构师是计算机学（本质是工学），完全不同的知识体系，看待问题的视角也完全不同。</div>2024-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/37/1b/82310e20.jpg" width="30px"><span>拿笔小星</span> 👍（0） 💬（1）<div>自己的工作中也原来越发现，综合能力的重要性。即便不是架构师，开发人员想在企业中往上走，这些能力缺一不可啊。想拿高工资干着拧螺丝的活，不可能啊</div>2023-03-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/25/2c/0a/61f4a0c3.jpg" width="30px"><span>汪彬英</span> 👍（0） 💬（1）<div>举得例子真的深有感触啊</div>2022-07-19</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132" width="30px"><span>梦倚栏杆</span> 👍（0） 💬（1）<div>沟通和推动是任何一个关注整体事件运行效果都需要学习掌握的吧，只是每个岗位对此方面要求高低不一样而已</div>2021-04-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/c2/79/fbc18da4.jpg" width="30px"><span>超斌hello</span> 👍（0） 💬（1）<div>第一眼看合纵连横还不清楚什么意思。。文章说得很好。。
合纵：是从上游思维下认可需要做这件事情
连横：是从共同的利益出发，把相关的人联系在一起做

目前我们公司的电商ToB和ToC项目规划如下：
一个系统是GO，一个系统是JAVA；我们的方案如下
第一期：统一用户和授权中心，通信合适grpc
第二期：重构商品，会员中心
第三期：重构订单中心
第四期：做财务和数据中心</div>2021-04-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/fa/5e/d7331a3e.jpg" width="30px"><span>小鱼干</span> 👍（0） 💬（1）<div>感觉我这个项目经理有点跑偏了呢
好多业务优化和重构都是我这边牵头，架构重构对我们现有业务也需要，主要是cp，可惜没钱，重构也是空谈。</div>2020-11-24</li><br/>
</ul>