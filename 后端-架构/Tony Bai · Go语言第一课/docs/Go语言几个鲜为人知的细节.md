你好，我是Tony Bai。

今天我要带你进行一次深度探险，探索Go语言中那些鲜为人知却至关重要的细节。不了解这些细节不会影响你的日常编码，但在构建和优化Go程序时，如果遇到一些令人费解的现象，这些细节就很可能有了用武之地。

在本次探索中，我们将聚焦于导出标识符的微妙之处、gcflags和ldflags的神秘力量、包文件选择的智慧、默认链接方式的探索，以及那些未使用的符号的命运。这五个关键方面，每个都足以写成一篇长文，但今天，我将它们巧妙地编织在一起，带你进行一次全面的探索之旅。

我们先来看看导出标识符，它可不仅仅是首字母大写那么简单!

## 导出标识符：不仅仅是首字母大写那么简单

在Go语言中，导出标识符通常被简单理解为以大写字母开头的标识符。但实际上，这个概念背后隐藏着更多有趣的细节。我们先来重温一下导出标识符的定义。

### 导出标识符的定义

Go语言规范明确指出，一个标识符要成为导出标识符，必须满足两个条件：一是标识符名称的首字母为Unicode大写字母；二是该标识符必须在包块中声明，或者是字段名或方法名。

![图片](https://static001.geekbang.org/resource/image/1d/6f/1d4d5811b4de85db8dd295a1d559fb6f.png?wh=1920x425 "图片来自Go语言规范")

> 注：上图中Unicode字符类别Lu（Uppercase Letter）包含所有的大写字母。这一类别不仅包括英文大写字母，还涵盖多种语言的大写字符，例如希腊字母、阿拉伯字母、希伯来字母和西里尔字母等。然而，我非常**不建议你使用非英文大写字母来表示导出标识符**，因为这可能会挑战我们的认知习惯。