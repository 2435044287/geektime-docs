你好，我是朱晔。

今天，我们继续一起分析这门课“安全篇”模块的第27~30讲的课后思考题。这些题目涉及了数据源头、安全兜底、数据和代码、敏感数据相关的4大知识点。

接下来，我们就一一具体分析吧。

### [27 | 数据源头：任何客户端的东西都不可信任](https://time.geekbang.org/column/article/235700)

**问题1：**在讲述用户标识不能从客户端获取这个要点的时候，我提到开发同学可能会因为用户信息未打通而通过前端来传用户ID。那我们有什么好办法，来打通不同的系统甚至不同网站的用户标识吗？

答：打通用户在不同系统之间的登录，大致有以下三种方案。

第一种，把用户身份放在统一的服务端，每一个系统都需要到这个服务端来做登录状态的确认，确认后在自己网站的Cookie中保存会话，这就是单点登录的做法。这种方案要求所有关联系统都对接一套中央认证服务器（中央保存用户会话），在未登录的时候跳转到中央认证服务器进行登录或登录状态确认。因此，这种方案适合一个公司内部的不同域名下的网站。

第二种，把用户身份信息直接放在Token中，在客户端任意传递，Token由服务端进行校验（如果共享密钥话，甚至不需要同一个服务端进行校验），无需采用中央认证服务器，相对比较松耦合，典型的标准是JWT。这种方案适合异构系统的跨系统用户认证打通，而且相比单点登录的方案，用户体验会更好一些。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/20/d7/72/cbef720d.jpg" width="30px"><span>鲁鸣</span> 👍（3） 💬（0）<div>重定向最好是服务端做，并且基于白名单进行</div>2021-01-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/50/33/9dcd30c4.jpg" width="30px"><span>斯蒂芬.赵</span> 👍（0） 💬（0）<div>怎么破解呢，能抓到包么？最近就遇到这么一个问题：用charles抓app包，抓不到正常的https包，但是app一直加载数据，感觉是请求服务端api接口了，charles拦截不到https流量，抓不到，抓其他app包正常</div>2024-12-11</li><br/>
</ul>