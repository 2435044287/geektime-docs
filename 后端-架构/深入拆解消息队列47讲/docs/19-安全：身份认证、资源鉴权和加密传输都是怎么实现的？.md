你好，我是文强。

近几年业界的安全问题频繁发生，系统数据的安全性也越来越受到重视。作为消息队列的主要使用者，我经常有这么一个疑问：消息队列是如何保证数据安全的？想必你在使用消息队列产品的时候，应该也有同样的疑问。

在我看来，从消息队列架构全流程拆解的角度，消息队列的系统安全由六部分组成：**网络隔离**、**传输安全**、**集群认证**、**资源授权**、**自我保护**、**数据加密**。

![](https://static001.geekbang.org/resource/image/4b/e0/4b04f9604ff1393efcc414604d5e92e0.jpg?wh=3228x1488)

今天我们先来聊一聊网络隔离、传输安全、集群认证、资源授权四个部分，整体了解一下集群的安全控制，思考如何在传输过程、访问控制两方面保证数据安全。下一节再讲自我保护和数据加密。

## 网络隔离的安全性

关于网络隔离，你可能听过一个观点：不管是什么系统，从安全的角度来看，最完美的保护就是网络隔离。这很好理解，一个完全隔离封闭的网络，是不会存在网络安全问题的，因为别人根本无法访问它。

在云服务中，虚拟网络（VPC）就是一个独立的子网。如果不做对外打通（比如开通公网、跟其他网络拉专线），它的数据在这个网络内就是安全的。

> 虚拟网络只是独立网络的一种叫法，你的公司可能有内网的概念，它就是独立网络的一种。

![](https://static001.geekbang.org/resource/image/04/c5/0420ce7a5b1f9d7e78e6f665110697c5.jpg?wh=3228x1488)

但是，在实际工业环境中，除非是一些特殊的银行、国企机构的私有云环境会有完整的网络隔离，大部分情况下，我们的系统是需要和外部服务进行交互的。比如外网或者其他子网的服务需要访问我们的消息队列，或者内网应用需要外网的某些服务，此时就需要进行打通，网络隔离就无法起作用了。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg" width="30px"><span>张洋</span> 👍（0） 💬（1）<div>老师关于独立两条链路这块有点疑问？
1.rabbitmq 操作数据的时候用的AMQP ，然后集群运维管理的时候用的是http，算两个链路
2.kafka  数据处理 和 元数据处理的操作虽然都是基于TCP协议的，但是却属于两个Socket，其实也算两个链路吧，如果再+一个基于http实现的管理页面，和rabbtmq的处理基本一样吧。
不知道我这样理解对吗？</div>2023-08-02</li><br/>
</ul>