你好，我是文强，很高兴继续和大家探讨消息队列。

过去这一年，消息队列这个领域也不断的有一些新的 Idea 出现。借着这节课，我来分享一下2024年我对于“消息队列未来的技术演进路线”的一些思考。

## 三个方向：消息、流、MQTT

我们在[第 01 讲](https://time.geekbang.org/column/article/670240)聊过消息队列两个主要方向：**消息和流**。在技术的演进方面，本质上消息和流两个方向侧重的点是不一样的。因为：

- 消息：侧重功能、可靠性、稳定性。
- 流：侧重吞吐、性能、成本。

从而导致了在开源社区方面，两个方向都有各自的代表产品，消息方向是 RattibMQ和 RocketMQ，流方向是 Kafka。

因此在选型时，如果业务是侧重吞吐、性能的（比如大数据、日志处理等），我们就应该选择流方向的组件，比如 Kafka。而如果是业务消息，侧重功能、可靠性、稳定性（比如订单 ID 的分发），那就应该选择消息方向的组件，比如 RabbitMQ、RocketMQ。

其实，在消息队列领域，一直有一个细分的方向，大家讲得少，那就是 MQTT。MQTT 协议主要是用于物联网的一个协议。因为它的核心能力特征也是 Pub/Sub，所以在大多数场景，它被分类到消息队列这一方向。

MQTT 的功能特点是**需要解析标准 MQTT 协议，需要承载大量的** **TCP 连接（比如物联网设备），具备双向通信的能力**。并且它自身不需要带存储层，内核需要具备类数据集成的能力，将接收到的数据分发到下游的存储组件，比如 Kafka、ES 等等。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/0e/b5/137f25a9.jpg" width="30px"><span>kkllor</span> 👍（0） 💬（0）<div>有思考，有洞察</div>2025-01-10</li><br/>
</ul>