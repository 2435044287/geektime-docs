你好，我是鸟窝。

这节课我们来了解一下线程的基本概念、线程与进程的区别、线程的生命周期，以及 Rust 中的线程模型。这些基础知识将为接下来的实践与高级操作打下坚实的基础。

## 线程与进程

进程是一个运行中的程序的实例。每个进程都有自己独立的内存空间和资源，操作系统为进程分配所需的资源，如内存、文件描述符和 CPU 时间片。由于进程间的内存隔离，一个进程通常无法直接访问另一个进程的内存，这使得进程间通信（IPC）相对复杂。

线程则是进程中的更小的执行单元。大部分情况下，它被包含在进程之中，是进程中的实际运作单位，所以说**程序实际运行的时候是以线程为单位的**，一个进程中可以并发多个线程，每条线程并行执行不同的任务。线程之间的通信比进程间的通信更高效，因为它们可以直接共享数据。但正因为这种数据共享，也带来了**数据竞争**和**同步问题**。

线程是独立调度和分派的基本单位，并且同一进程中的多条线程将共享该进程中的全部系统资源，如虚拟地址空间、文件描述符和信号处理等等。但同一进程中的多个线程有各自的调用栈（call stack）、自己的寄存器上下文（register context）、自己的线程本地存储（thread-local storage）。