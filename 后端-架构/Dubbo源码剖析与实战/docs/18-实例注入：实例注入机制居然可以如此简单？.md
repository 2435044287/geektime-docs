你好，我是何辉。今天我们深入研究Dubbo源码的第七篇，实例注入。

实例注入是什么？举个简单的例子，当类A中有一个类型的成员变量B，如果不做任何处理，我们在类A中使用成员变量B会出现空指针问题，但按照一定的规范约束定义成员变量B后，我们再次在类A中使用成员变量B时，就不会出现空指针了。

这种使用起来的感觉，就像只要按照规范定义变量，我们再使用这个变量的时候就是一个对象了，类A中的成员变量B，就像在使用前被偷偷注入了一个实例对象一样，使得我们无需关注对象的创建过程，按照规范定义变量就能轻松使用。

如果你用过 Spring 框架的实例注入功能，有两个技术知识点相信你一定印象深刻，那就是依赖注入和切面编程。依赖注入让我们在使用 @Autowired 和 @Resource 注解时，很容易拿到被底层创建好的实例对象，切面编程在使用 @Aspect 注解时，很容易实现切面思想（AOP）对公共逻辑进行横切处理，给日常开发带来了非常大的便利。

不过 Spring 框架再优秀，也不是万能的，为了解决各种特定场景问题，一些优秀框架应运而生，Dubbo 正是其中一款解决 RPC 调用的高性能框架。而Dubbo的实例注入源码也值得研究，很好地控制了实例对象的统一创建与规范化的注入。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/31/4e/78/ee4e12cc.jpg" width="30px"><span>Lum</span> 👍（3） 💬（1）<div>老师解惑的好呀！！！之前看dubbo自己的spi各种wrapper什么的，这次终于理解了，其实就是一个装饰器链，在每个地方增强一下相应的spi功能，突然感觉dubbo得源码也不是难么难了，自己看源码跟老师带着教源码 果然是不一样的，一点拨后有种茅塞顿开的感觉</div>2023-03-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/f1/97/434ad58b.jpg" width="30px"><span>小白熊🐻</span> 👍（0） 💬（0）<div>老师，校验SPI实现类是否需要包装的 match 逻辑注释的第2点是不是有问题？
应该是：
1. 没有 wrapper 注解，需要进行包装
2. wrapper 中的 matches 字段值为空没有内容，并且 mismatches 字段值不包含 name 值，需要进行包装
3. wrapper 中的 matches 字段值不为空并包含入参 name 值，并且 mismatches 字段值不包含 name 值，需要进行包装
4. 其他情况，可能就是瞎写乱配，导致无法进行包装之类的</div>2023-12-19</li><br/>
</ul>