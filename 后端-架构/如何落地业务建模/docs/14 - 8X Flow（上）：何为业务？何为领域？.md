你好，我是徐昊。今天我们开始进入8X Flow的学习。

8X Flow是继四色建模法之后，由我发明的另一种建模方法。其实以前四色建模法也叫8X Flow。

从之前的学习中你会发现，四色法是一种数据流方法——Flow有了；而我姓徐名昊字八叉，以我的名字命名而得；但后来为了向Peter Coad致敬，表示灵感来自他的彩色建模法，就叫了四色建模法。于是今天要介绍的方法，我们内部之前叫8X Flow 2.0，现在直接叫8X Flow就行了。

8X Flow方法是四色法的一种演进。虽然**权责追溯**仍然是8X Flow的核心理念，但比起四色法，8X Flow更注重通过权责关系，提取业务模式；并通过引入变化点构建可复用的业务模型。所以对于业务平台或业务中台这类系统来说，8X Flow可谓是量身定制。此外，由于充分考虑了云时代的架构约束，得到的模型也能很容易地映射到微服务架构上。

那么接下来，我会用三节课来介绍8X Flow的具体内容。今天我们先来讲一讲业务系统与领域系统的区别，因为这二者之间有着明显的弹性边界，而根据弹性优先原则，我们首先要对它们加以区分。

## 模型真的是稳定的吗？

正如我们在“云时代的挑战”这两讲中提到的，进入云时代后，出于更有效地利用云平台的目的，我们引入了新的架构约束：弹性优先原则。也就是说，**在云时代架构系统中，弹性是最需要优先考虑的因素。**
<div><strong>精选留言（23）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/16/93/32/e11fcd33.jpg" width="30px"><span>Oops!</span> 👍（4） 💬（2）<div>本文示例不是很明白，专栏管理 和 专栏贩售（运营）本来就是两个不同的领域 面向不同的问题域 本来就应该有两套不同的模型 把这两个用领域和业务来区分是否有太绝对了 换句话说 一个业务系统是否只可能有业务和领域两个类别的系统呢？比如用于支撑运营的BI系统、后台运维系统又属于什么呢。</div>2021-08-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/86/ae/163ec4e5.jpg" width="30px"><span>码农戏码</span> 👍（3） 💬（1）<div>这两个概念从了解DDD开始就有这个疑问，为什么叫domain driven design,而不是business driven design，我们平常都叫业务，从没讲过领域，难道是国外与国内叫法不同，但也不至于啊，给别人介绍DDD时，也会被问到底什么是domain，为什么不是BDD呢？当然，现在DDD被提多了，人们也不像刚开始时那么追问了，顺其自然地接受了，但疑问还在

application service编排业务流程，domain service编排领域，看来是对了，但我们的业务好像都比较简单，是不是只有业务横长，领域纵深的才需要同时业务建模和领域建模呢

当前我们是做票税业务的，接受发票，验真发票，认证抵扣，同步发票(更新由其他系统来的发票状态，也会再同步发票数据到下游系统)；整体看很简单，但复杂在状态同步，首先会多各个业务系统得到状态，比如报销系统来同步发票的报销状态，SAP系统来同步发票记帐状态等等，各个系统都会来写点东西，再把这些发票数据同步到下游系统，但同步下游时就麻烦了，有些客户需要在接受到记帐状态时同步，有些需要在接受到报销状态时同步，各种交叉同步；

从整体系统看似乎只有业务流程，没有领域问题，似乎一个状态机就搞定了，用流程引擎串业务感觉又太重，但现实又复杂得多，看着没法建模，微服务也拆得奇形怪状

像这样流程长而领域浅的系统不知道怎么玩了</div>2021-08-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/5f/d2/a39e5cea.jpg" width="30px"><span>狩月</span> 👍（3） 💬（2）<div>&quot;这主要是因为，他并没有区分领域和业务，所以他想解决的问题是对“业务逻辑”的提取。而书中例子多是“领域逻辑”，只不过因为“领域逻辑”更好举例而已&quot;

拆穿了皇帝的新衣啊。。很多时候ddd难理解就是因为书里的例子小而美， 而现实的中的复杂业务系统根本无法那样直觉性的建模</div>2021-08-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/0b/73/a04b5d3f.jpg" width="30px"><span>Z.G</span> 👍（2） 💬（1）<div>老师好，我的理解，8xflow是不是也是尊重DDD的思想的一种建模方法，比如其实也符合两关联一循环，就像event storming，其实也属于建模方法，但和DDD不是同一个纬度的东西，8xflow和event storming更像是一种东西，只是不同视角的建模方法。
还请老师答疑解惑。</div>2021-09-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/10/b9/f18535d9.jpg" width="30px"><span>Geek_1mljez</span> 👍（2） 💬（1）<div>老师，请教个问题，我在应用您的方法时，发现用8xflow的思维方式识别合同，总觉得驴唇不对马嘴。而退而求其次，用四色建模法，发现整个思考过程非常顺畅，这是什么原因造成的呢？
我看文章最前面有一句话：
「8X Flow 方法是四色法的一种演进。虽然权责追溯仍然是 8X Flow 的核心理念，但比起四色法，8X Flow 更注重通过权责关系，提取业务模式；并通过引入变化点构建可复用的业务模型。所以对于业务平台或业务中台这类系统来说，8X Flow 可谓是量身定制」
这是不是说明，如果是普通的业务系统使用四色建模法就可以了，只有在做更抽象的中台平台等，才适合使用8xflow呢？
</div>2021-08-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg" width="30px"><span>Steven</span> 👍（0） 💬（1）<div>有错别字：
“因而业务逻辑一般具有运营特性和领域中立性”，其中“运营特性”应该是“运营特定”。
“而领域逻辑源自问题域自身的逻辑，是运行中立而领域特定的”，其中“运行中立”应该是“运营中立”。

编辑仔细校一下啊，篇幅长再有错别字就容易误导了</div>2022-02-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/0c/37/913de94f.jpg" width="30px"><span>keys头</span> 👍（0） 💬（1）<div>开放生态模式这个概念，有没有好的现实例子？对这个感觉理解没到位。</div>2021-10-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4a/76/abb7bfe3.jpg" width="30px"><span>大海浮萍</span> 👍（0） 💬（1）<div>在四种业务运营模型中，差异化模式，“对应到软件上，可以将其看作开放生态模式”，这种开放生态模式，该如何构建系统呀？构建不同的系统，由不同的团队开发、维护？</div>2021-09-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f5/66/ff9fb166.jpg" width="30px"><span>姚磊</span> 👍（0） 💬（1）<div>如果只看弹性边界，我觉得面向商家面向运营和面向用户的部分通常有不同的弹性，这是划分服务的标准吗？</div>2021-08-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg" width="30px"><span>Jxin</span> 👍（0） 💬（1）<div>关于本章
有个疑问，感觉用这两个角度来思考，还是无法区分需不需要对模型做抽象以便于复用。
1.领域逻辑运营中立性和领域特定性，可不可以就理解为领域逻辑是很具象的？毕竟是特定嘛，那我该不该为它做抽象的建模？可以预知的是卖烤红薯和卖烤土豆应该还是有很多能力是重叠的，抽象这些能力就能供两个领域公用。但是，公用也意味着耦合，不利于独立迭代，是有可能反而影响业务响应速度的。而这个矛盾，识别出领域逻辑的部分这件事好像都不是一个维度。（我们做领域建模时多数时候解决重叠问题域的问题，但今天这堂课的领域概念的区分好像与这个问题无关）
2.业务逻辑具有运营特性和领域中立性，基于经验的不稳定因素，本身就是摸石头过河，想沉淀可以供多个运营模式公用的模型感觉就不靠谱？基于不稳定的事实沉淀稳定的幻想？这个倒是直接说明了，对于业务模型，抽象公用价值会比较有限，快速支持业务的意义更大些。

以上，不知徐老师怎么看？</div>2021-08-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ca/26/f300e187.jpg" width="30px"><span>停下想想</span> 👍（0） 💬（1）<div>关于业务逻辑和领域逻辑的区分，对照CRM业务的人群运营计划，基于客户、标签、等级，圈选一个客户分群，然后按时间，给他推送优惠券等内容。运营计划可能会有变化，有可能是场景运营，比如会员日运营和生日运营。按照业务逻辑和领域逻辑的区分的逻辑，不涉及现金收益、利益承诺，是不是都算领域逻辑？但感觉客户、标签、等级 和运营计划是有区别的，有没有更多的区分原则或者便于理解的描述？</div>2021-08-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/61/2d/65f016bf.jpg" width="30px"><span>常文龙</span> 👍（4） 💬（0）<div>我用自己的语言来总结、说穿这句话：
	1.给客户提供核心价值的，是领域。譬如微信的核心价值是沟通，因此个人对话、群聊、公众号、支付能力，都属于领域。
	2.企业利用核心价值来牟利的手段，是业务。譬如微信的付费表情、微信广告、甚至企业微信，属于业务。因为都只是利用核心价值牟利的手段。
    
 注意，每种分类都有他要解决的问题，否则没必要分类，没有解决问题的分类，只是认知噪音。领域和业务之所以被徐昊老师强调分开，一来是这两类需求，需要的“建模方法”不同，二来是弹性关注不同。

虽说业务是牟利方式，看起来变数很多、没有共性，那是因为只看到了不同的领域需要的牟利方式不同。实际上，牟利方式这件事可以复用，而这就是“领域中立”。也就是中台常说的“商业模式”

四色建模法以及后来的8x flow，认为现金流、KPI&#47;结果是核心事件，可以看出，这就是专注在“牟利”这件事。因此徐昊老师说，8x flow专注于“业务模式”，也就是“牟利模式”，是非常严谨的，很nice！</div>2022-02-27</li><br/><li><img src="" width="30px"><span>易道</span> 👍（3） 💬（1）<div>醍醐灌顶，领域和业务的概念分离，解决了困扰自己很久的问题。学习就是打破固有认知，重新构建知识边界的过程；从这个角度来看，这个专栏可谓大作。</div>2021-11-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/63/a4/e663c4d4.jpg" width="30px"><span>果然爸爸</span> 👍（2） 💬（2）<div>我个人觉得业务还是领域只是企业中不同角色的视角，自己关注的就是业务，其他都可以看做领域。对于一个制作烤白薯的，制作烤白薯是业务，其他采购，仓储，销售都是领域。而一个销售白薯的，销售就是业务，其他都是领域。不知道我这样的理解对不对。</div>2021-11-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg" width="30px"><span>aoe</span> 👍（1） 💬（0）<div>原来极客时间 = 内容管理系统 + 运营系统

区分领域和业务很多问题就变简单了
- 领域”表示与运营无关的问题域
- “业务”表示与运营相关的问题域</div>2022-08-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/82/40/02ae9409.jpg" width="30px"><span>Learner</span> 👍（1） 💬（0）<div>用DDD建模，难道业务和领域会混杂在一起吗？我觉得即便用DDD建模，内容管理和运营也会在不同的限界上下文中。且DDD也没说一定要OOP啊，非说DDD做不了神经网络，恐DDD党难以接受</div>2021-09-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/c5/90/4d48ac20.jpg" width="30px"><span>stevehsuhsu</span> 👍（0） 💬（0）<div>在云时代，弹性是最优先考虑的因素？功利主义架构是好的，核心是为了降低云运营成本，但成本不是这么简单计算的，而且成本包括隐性成本和显性成本，有看得见和看不见的。
基于这一原则，原来属于一个领域上下文的模块，现在拆分为两个弹性上下文了，这会增加服务间调用消耗，也会增加系统维护和理解难度，也可能带来共库共表耦合问题，如分布式事务，等等。
所以成本计算不能这么简单来看。</div>2023-11-10</li><br/><li><img src="" width="30px"><span>wwlleo</span> 👍（0） 💬（0）<div>业务逻辑的本质是处理整个企业生命周期内的一个个&quot;事件&quot;，比如&quot;通知X总审批&quot; ， &quot;发到X系统同步数据&quot; 等等。
这些业务逻辑有的是来源于企业自身成长中的最佳实践，有的是借鉴同行业龙头。

领域业务则是承载了企业内各种信息的抽象体，一张&quot;OA请假单&quot;，一张&quot;销售订单&quot; ，一张&quot;报销单&quot;，一张 &quot;产品详情清单&quot; 等等。

业务逻辑通过各种各样的&quot;企业事件&quot;来串联企业运营，各种各样的企业事件，需要传递不同的领域对象。

最佳的弹性边界切分点，就是企业事件，因为可以异步处理。


</div>2023-08-28</li><br/><li><img src="" width="30px"><span>Geek3340</span> 👍（0） 💬（0）<div>cto果然是cto，其实讲的非常透彻。只是专栏名字起的不好，似乎没多少人阅读。可惜了</div>2023-03-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/8d/ac/35b512dc.jpg" width="30px"><span>jumpfox</span> 👍（0） 💬（0）<div>&quot;这主要是因为，他并没有区分领域和业务，所以他想解决的问题是对“业务逻辑”的提取。而书中例子多是“领域逻辑”，只不过因为“领域逻辑”更好举例而已&quot;

醍醐灌顶，这几乎就是理解、解决复杂度的原点。</div>2022-12-01</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM42m6tsPDhJJPvNFZGgH0QLhzZfRia1jBG3Gia4mY3e9OdS4ibLISBzTyawz0s3yP0sKuQrOuObK0AkQ/132" width="30px"><span>franktt</span> 👍（0） 💬（0）<div>字字珠玑，谢谢徐老师</div>2022-05-23</li><br/><li><img src="" width="30px"><span>Geek_6a1185</span> 👍（0） 💬（1）<div>8X Flow看来是简捷易用的方法，请问若使用此方法执行客户的项目，是否要先得到徐老师的同意呢？</div>2021-09-06</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erD8CwHKGGIia1HwRBxy5GxMLTfGGzOeLjrmZ6ich9Ng7bbPia89iaSibbldnV4uiaKNXFcO2vQ3ztibCrDw/132" width="30px"><span>Williamleelol</span> 👍（0） 💬（1）<div>知道为什么叫《八叉说》了</div>2021-08-04</li><br/>
</ul>