你好，我是徐昊。今天我们来聊一聊领域驱动设计中的统一语言与模型的关联。

在上一讲，我们介绍了领域驱动设计的核心理念，即在业务系统中应该使用与问题域相关的模型，而不是通用的数据结构去描述问题。并由此介绍了Eric Evans提倡的知识消化，总结起来就是“两关联一循环”。

我们讲了第一个关联，那就是模型与软件实现的关联，并解释了为什么它是实践知识消化的前提。那么今天我们来讲第二个关联：统一语言与模型关联，也就是从模型中提取统一语言。

不过在讲具体做法之前，我们要先思考一下，为什么需要统一语言，以及统一语言会带来哪些好处。

## 统一语言是基于领域模型的共同语言

统一语言（Ubiquitous Language）**是一种业务方与技术方共同使用的共同语言**（Common Language），业务方与技术方通过共同语言描述业务规则与需求变动。可以说，共同语言为双方提供了协作与沟通的基础。注意，这里的业务方泛指一切非最终软件实现者，他们可能有很多名字：客户、产品、业务、业务分析师、解决方案架构师、用户体验设计师等等。

共同语言也有很多种形式。比如，用户画像（User Persona）与相关的用户旅程（User Journey） ，就能从流程角度有效地构成共同语言。再比如，数据字典（Data Dictionary）在很长的时间里，也是从软件实现侧形成共同语言的依据。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1d/4f/44/4b3adbe4.jpg" width="30px"><span>奔跑的蜗牛</span> 👍（51） 💬（5）<div>课后问题思考:
领域驱动设计，逼着业务方和实现方像玩跷跷板一样共同构建业务系统，从协作角度看，这个游戏的特点是，【一个人没法玩】。 
板≈共同语言，支点≈模型，以“支点”为中心，以“板”为媒介，双方你一下我一下地玩。

“板”+“支点”很大程度上定义了游戏的基本规则。</div>2021-07-02</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIibashTHtGDWH5L0NlbuOrA6ZuI4uc1HkMD0hbIt8iaoH8hFf3jpb8jjhsvrRLTIazZP3YoR5WpMpg/132" width="30px"><span>箭和方糖</span> 👍（7） 💬（2）<div>技术人员通过重构进而影响业务，这个观点很独到，但从自身经验而言确实匪夷所思。这个真的是有可能的吗？从技术角度出发的重构真的可以影响经验老道的业务人员吗？</div>2021-06-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg" width="30px"><span>Jxin</span> 👍（11） 💬（8）<div>上节留言是我错了：
1.特地翻了下蓝书。统一语言-&gt;模型的理解浅了（模型不等于是画出来的类图或则代码，而应该是消化知识时的思维模式的产物）。是我以前的认知偏差了，实际工作中多是和业务方讨论出统一语言，再对统一语言做实现，结果就愣是把认知扭曲成这个顺序了。关键的错误认知在于，误以为模型指的是基于与业务方沟通的结果做的解决方案和代码实现。熟不知，在与业务方沟通时，自己脑袋中基于建模的思维模式就将业务知识消化转换成模型定义，并直接以自己定义的模型的术语与业务方做沟通，待沟通结束，已经完成了  模型-&gt;统一语言 的推导。

课后题：
1.领域驱动设计分两块，第一块是通过两关联一循环的知识消化方式，理解业务知识，并反馈给合作方对应的模型定义，以达成认知共识和行为约束（业务方讲故事要基于统一语言，开发人员改代码要反映到统一语言上）。也就是常说的战略部分；第二块是通过一系列的编码风格或者说编程范式，构建以领域模型为核心的代码结构，保证领域模型的富类型以更好的表达统一语言，保证领域模型的干净以更好的应对变化坚守统一语言与代码模型的原子操作。也就是常说的战术部分。
2.领域驱动设计其实只是一系列软件开发过程的经验总结而成的方法论的总称，取这个名字主要因为这些方法论大多围绕领域业务为核心来设计模型和构建软件项目。可以说是来自字将的喜好。但也正应为领域驱动设计表达的是一个集合，所以现今流行的一些方法论也可以加入其中，只要是便于构建以领域业务为核心的软件项目这个目标，领域驱动设计的集合来着不惧。

个人疑问：
这么说统一语言是为了缓解开发和业务专家的认知差距？如果开发或者业务专家能完全理解业务和软件业务模型，就可以不需要统一语言？
对于咨询行业来说，要应对众多的业务，每个都要成为专家显然不现实。但对于互联网大厂，很多业务或者开发在一个岗位一干就十来年，只要愿意学习，不管是开发掌握业务知识还是业务掌握软件模型显然都不是难事。那么还需要统一语言吗？现在，我认为统一语言其实只是一个别名，在开发与业务沟通的场合，所有双方的共同认知都属于统一语言（又是字将的喜好）。统一语言 ==（业务知识+软件模型）&#47;共同认知。所以，可以不要统一语言直接用模型这个问题本身就有问题，毕竟有些时间统一语言就是模型，模型就是统一语言，不过是场景不同叫法不同。</div>2021-06-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/29/c3/14/5208adb5.jpg" width="30px"><span>极客侠女</span> 👍（19） 💬（1）<div>我的总结：DDD领域驱动设计，是解决业务系统中，业务方和技术方沟通协同的问题。
它是从业务出发，以业务问题域为焦点，构造出与业务强相关的模型。
1.该模型既要关联软件开发，使得对模型的修改，就是对代码的修改。
2.又要关联统一语言，将业务方成为模型的使用者，统一语言驱动需求描述，驱动测试设计等。
3.通过技术方和业务方不断地交流与反馈中，提炼知识的循环，逐步完成对模型的淬炼。
</div>2021-08-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/8d/af/01deb987.jpg" width="30px"><span>xtepCool</span> 👍（5） 💬（1）<div>麻烦大了，看不懂。</div>2021-07-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/cb/c5/c1d7ca5e.jpg" width="30px"><span>赵晏龙</span> 👍（5） 💬（1）<div>领域驱动设计我的理解是：以模型为中心和桥梁，连接并同步需求与实现，同时不断试错并修正的设计方式。</div>2021-06-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/93/32/e11fcd33.jpg" width="30px"><span>Oops!</span> 👍（3） 💬（1）<div>印象深刻的一点是领域语言建立了技术反馈业务的途径。不过在实操方面，就是实际工作中如何建立领域语言，有哪些技巧、方法和工具可以应用呢？</div>2021-06-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/98/3b/38142ece.jpg" width="30px"><span>Tom Yang</span> 👍（2） 💬（1）<div>以前读书的时候学习管理信息系统时书中有提到系统的设计视角是 社会 - 技术 视角，统一语言就是那个 社会 的要达到的共识吧。</div>2021-06-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a4/c2/e8ab13d7.jpg" width="30px"><span>八歌</span> 👍（1） 💬（1）<div>刚开始学习，浅显的认识：统一语言是不是相当于现在的 “需求说明书” ？ 有什么不同点？
1. 需求说明书应该只算产品部与技术部沟通的文件，统一语言是想要统一所有部门和甲方？
2. 目前需求说明书模式的一般都是第一版写完，后面技术改改改，就懒得同步了，后面很多对不上的，统一语言目前说的改语言等于改模型，改模型等于改代码的思想很先进，但是是通过人力实现的吗？，还是有系统性的控制？因为90%的一二流人才都在大公司，小团队只能招到三四流人才并在一二流人才里面捡漏，要求太高则无法执行。</div>2021-10-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/ab/e8/16d7c8ee.jpg" width="30px"><span>花花</span> 👍（1） 💬（1）<div>描述:
针对大型、复杂系统开发流程的一种解决方案。
领域驱动设计在逻辑设计上类似于结构化设计，自顶向下设计各个领域，由领域指导实现。

前置条件:
为实现领域驱动开发过程需各相关方人员在一起以业务需求出发建立统一语言，该语言是一个在组织环境、系统描述中各方各方都能接受的语言，
是在该组织或该项目下独有的且语义明确清晰的。

应用:
在确定统一语言后则可以进一步的以统一建模语言为基础提取出各方都确认的领域模型，由该模型的逻辑结构指导系统的实现，以达到实现与模型与需求相一致的目的。</div>2021-09-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/c9/e6/af1a23b4.jpg" width="30px"><span>小毛球</span> 👍（1） 💬（2）<div>我理解的DDD是击穿业务和技术的隔阂，让双方有共同的需要，减少业务和实现的偏差，技术更改了模型以后也能即使反馈给业务。另外一个是富含知识的代码，在显示中缺少业务和技术的文档，甚至代码注释都少，遗留系统非常难以维护，DDD能解决一部分的问题</div>2021-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/70/14/291c5190.jpg" width="30px"><span>重庆森林</span> 👍（1） 💬（2）<div>一个合适的系统隐喻怎么进行恰当的提取，有规律性的方法吗？</div>2021-06-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/77/a5/c5ae871d.jpg" width="30px"><span>zenk</span> 👍（0） 💬（1）<div>领域驱动设计，是模型驱动的一种设计，模型富含领域知识，通过软件和模型的绑定，使得业务和代码更加一致

那怎么做到呢？知识萃取，模型迭代

怎么迭代？业务方和技术方共同参与

怎么参与？先建立一个共同语言</div>2021-08-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/09/d6/5f366427.jpg" width="30px"><span>码农Kevin亮</span> 👍（0） 💬（1）<div>请问老师，我最近也在备考软件架构师，用里面提到的方法论来理解的话，需求分析用的是4+1视图中的用例视图。那么这里说的统一语言与用例视图究竟该怎么理解它们的关联与区别？</div>2021-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/86/ae/163ec4e5.jpg" width="30px"><span>码农戏码</span> 👍（0） 💬（1）<div>统一语言与模型的关系，想到佛学中的望月之手指，业务是月亮，而模型只是手指，统一语言则是模型与业务之间的桥梁，统一语言的质量决定了模型的完备性，过去却只重视模型而轻视了统一语言

以往对统一语言的认知浅薄了，只是在研发内部统一，比如在新项目开始时会把一些业务专业词罗列出来，并标识英文，主要是防止工程内命名的不统一造成可维护性下降
在与业务方讨论时还是各说自话，只是双方脑子中自动翻译，有时产品经理会讲：当我提到这个时，意思是这个，你们技术自动转换成你们的链表、图之类的

当前我们项目比较特别，团队中没有领域专家，产品经理也是先从客户调研，新业务甚至客户自己也不知道要什么，所以我们的统一语言建立周期比较长，达成了一些共识形成共同语言，过了一个月，发现不太适用了，会跟团队明确，概念术语更新了，以后大家这样表达。
交流通畅了，但交付限期还是有压力的，代码即模型，代码即文档的目标就麻烦了，所以有时会以旧实现去套新的统一语言</div>2021-07-31</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erD8CwHKGGIia1HwRBxy5GxMLTfGGzOeLjrmZ6ich9Ng7bbPia89iaSibbldnV4uiaKNXFcO2vQ3ztibCrDw/132" width="30px"><span>Williamleelol</span> 👍（0） 💬（1）<div>课后题观点：
领域驱动设计是一种软件设计的模式，不同于从前研发只负责系统设计和实现，业务只负责需求输出。领域驱动需要多方在统一语言下表述需求和模型。核心概念模型，对上影响业务，对下影响实现。多方角色间突破原工作内容边界共同维护模型，保证模型体现真是业务含义。</div>2021-07-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/8a/5a/b67a82e3.jpg" width="30px"><span>shen</span> 👍（0） 💬（1）<div>我觉得可以结合产品需求评审来理解统一语言。产品经理引入一个新的概念，开发人员接受并完成了对应的模型设计，这种概念一般不会修改，一旦修改那么对应的模型也会跟着修改。</div>2021-07-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/bd/266c13c2.jpg" width="30px"><span>Wang Zhen</span> 👍（0） 💬（2）<div>关于统一语言，不仅仅是需要统一关于统一语言是不是可以补充下开发上也需要统一语言，一般来讲在DDD和微服务的组合是比较好的一种实践，对于不同领域模型构建开发时，模型之间如果选择不同的开发语言，交互是没问题的，但是在管理维护上就要疯了，如果发生人员更迭，维护上是个大难题，比如一个java程序员去让他维护一个.net程序，这会大大增加项目的复杂程度</div>2021-07-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/c9/e6/af1a23b4.jpg" width="30px"><span>小毛球</span> 👍（0） 💬（1）<div>重新看了之后理解一下，引入统一语言有好处，不好的地方是不是怎么保证统一需要和模型保证表达或者包含的是一致的信息？</div>2021-07-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/d8/e5/327949c6.jpg" width="30px"><span>娟娟</span> 👍（0） 💬（1）<div>有个问题需要请教下老师，正如文中所说，模型是已知需求中总结提炼的知识，而统一语言是从模型中提炼的，那从已知确定的模型中提炼的，怎么会含有模糊的不确定性呢，感觉有点矛盾。
还有就是，为什么要从模型中提炼统一语言呢</div>2021-07-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg" width="30px"><span>webmin</span> 👍（0） 💬（2）<div>领域驱动设计 - 从业务人员掌握话语权，技术人员掌握代码权，变为业务与技术拥有同等的话语权与代码权。</div>2021-06-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/c2/0b/57b6c3ff.jpg" width="30px"><span>fzhichao</span> 👍（5） 💬（0）<div>我在实践中认为统一语言必须使用双语（中文和英文）。业务人员可以使用统一语言写story卡，技术人员也可以使用统一语言写代码。</div>2021-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a7/da/f057374c.jpg" width="30px"><span>DeenJun</span> 👍（2） 💬（0）<div>有个很关键的问题: 业务方为什么要参与进来呢？如果我是业务方，我提完需求就行了，至于开发那是你们的事情。如果排期过长，我会找你们老板，然后你们自己去加班。至于模型不合理，那是你们设计有问题，侧面反应你们团队技术不行，你们自己加班证明自己吧。
为什么要陪着你们玩什么统一语言和模型？我说我的，你听不懂是你理解能力有问题。
说白了，站在业务方的角度来说，把DDD嵌入自己的工作流程对自己有任何好处吗</div>2022-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/c2/0b/57b6c3ff.jpg" width="30px"><span>fzhichao</span> 👍（2） 💬（0）<div>技术重构代码（其实应该不是重构第二版描述的重构了，即便有测试覆盖，很大程度都是重写了），重新抽象模型，从而推动统一语言甚至需求解决的变化，这个在工作中深有体会。好的技术人员应该做到这一点。</div>2021-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a4/cb/407d9a81.jpg" width="30px"><span>.benxiaohai52</span> 👍（1） 💬（0）<div>什么是统一语言，统一语言是不是就是对需求中的概念大家形成统一的认知，有明确的释义。</div>2021-11-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/57/f0/f6155d5f.jpg" width="30px"><span>新生\</span> 👍（0） 💬（0）<div>我来了</div>2024-08-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/fd/58/1af629c7.jpg" width="30px"><span>6点无痛早起学习的和尚</span> 👍（0） 💬（0）<div>2023年12月14日10:04:46，根据文中的例子，用统一语言实践了工作内容
实体：
● 客户
● 客户添加的受益人
业务逻辑：
● 客户可以添加多个受益人，并指定比例
添加
修改</div>2023-12-14</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/kFuWg0sRPIT94SGU5Ciaic1LXlHpMkAf4vC0GlCURVFZczUnL0sMhf3TBombsTxReicxl7VhafI5uHyoShUpwoHOg/132" width="30px"><span>Geek_有心</span> 👍（0） 💬（0）<div>统一语言可以极大的可以减少沟通成本，让需求方和实现方快速沟通</div>2023-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f2/52/99e91f0b.jpg" width="30px"><span>法兰克</span> 👍（0） 💬（0）<div>课后作业:硬软件的存在都是为了解决上游的需求，这个上游可以是测试，开发，产品，业务。业务系统是为了更直接有效的解决业务问题，所以这里面参与的角色众多，大家对于需求转化成系统的过程所用的认知和实现路径均有所差异，然而这种差异势必会引入分歧，反复，趋于失真。那么DDD的出现，它所提及的领域，聚合根，大泥球等概念是一种新的方法论集合，这种方法论出现是为了统一认知，共同参与，降低失真，萃取知识，提取模型，转化代码。说白了就行端到端拉通认知和实现。</div>2022-11-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c4/03/f753fda7.jpg" width="30px"><span>JianXu</span> 👍（0） 💬（0）<div>我们公司流量管理正在演进，运维人员和开发人员需要使用同一种语言，我们需要构建一个环境以使得可以一期迭代到统一语言。</div>2022-09-24</li><br/>
</ul>