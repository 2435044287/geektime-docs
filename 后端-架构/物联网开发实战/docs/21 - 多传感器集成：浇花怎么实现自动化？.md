你好，我是郭朝斌。

在前几讲的实战中，我们已经完整地实现了一个智能家居的照明场景。你不但可以用手机小程序控制智能电灯的开关、亮度和颜色，也能让智能电灯根据光照强度自动地打开和关闭，甚至你还可以语音来操控它。

在这个过程中，你应该已经掌握了基于硬件开发板快速地开发智能硬件的方法。这一讲中，我们就围绕**自动浇花**，做一个新的智能家居场景解决方案，同时也巩固一下你在前几讲学习到的硬件开发知识（如有需要，你可以根据[这份文档](https://shimo.im/sheets/D3VVPdwcYRhhQRXh/MODOC)自行采购相关硬件）。

## 研究场景需求

在设计物联网产品的时候，我们需要先研究场景需求，明确监控指标，再根据这些指标安排合适的传感器。

比如自动浇花这个场景，很明显是为了自动控制水泵，及时给植物补充**水分**。毕竟水不仅是植物体的主要成分，支撑着细胞、维持着植物形态，而且也是传输营养物质的重要载体。所以，我们要监控的最重要的指标就是**土壤湿度**。

不过，用户的目的并不只是浇水而已，他们真正想要的，是看到自己养的植物健康地生长，所以我们最好把其他相关的数据也提供给他们。现在很多智能体重秤都会同时检测你的体脂率等其他反映身体健康的指标，也是一样的道理。

那么，植物生长还需要什么条件呢？

![](https://static001.geekbang.org/resource/image/12/38/125935bdc5a8f747884871d6f7fd5c38.jpg?wh=2700%2A1059)

首先是**环境温湿度条件**，热带的植物无法忍受低温和干燥的环境条件，而温带植物遇到高温，也可能出现热衰竭的现象，所以环境的**温度**和**湿度**最好也能监控。
<div><strong>精选留言（7）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/78/21/e2b4c90c.jpg" width="30px"><span>978!6</span> 👍（19） 💬（1）<div>提一些可能性的方案 不考虑低功耗 设计寿命 安装难度等因素
连通器原理，在密壁的空间中安装一浮漂 
1. 利用浮漂驱动一些微动开关 磁敏等
2. 顶端使用超声波等测距传感器 检测浮漂距离顶端的距离
3. 水箱顶端安装两个电极 浇花的水很难做到不导电 所以在水中导通，空气中短路
4. 激光和光敏 有水的时候会产生折射 无法触发 没水的时候直线传播 或者是有水的时候照浮漂有阻碍，无水的时候直接出发到光敏
5. 摄像头 定期拍照 机器学习算法 区分出无水 缺水 和满水的图片
6. 简单粗暴，水箱下面加个压力传感器 轻了就是没水
7. 纯靠软件算法，加流量计，启动泵之后计算出排水量 每次水箱上水之后手动复位，当前的水量=总量-消耗的 
要考虑一定时间蒸发的经验数据，流量计不转了就是严重缺水了
先想这么多 抛砖引玉一下</div>2020-12-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/eb/ae/e4752b7e.jpg" width="30px"><span>Allen5g</span> 👍（5） 💬（2）<div>请问示意电路图是什么软件，看着很漂亮</div>2020-12-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/da/54/835d24f3.jpg" width="30px"><span>评分家</span> 👍（0） 💬（1）<div>再加一个压力计？哈哈</div>2021-01-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e4/0a/07c114ed.jpg" width="30px"><span>小人物</span> 👍（7） 💬（1）<div>希望老师能把配套硬件的官方技术文档地址给一下，比如温度传感器，配套有两种，引脚的作用不是很懂，小白不知道怎么去找资料看</div>2020-12-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/9e/78/7663ed26.jpg" width="30px"><span>Nior</span> 👍（3） 💬（0）<div>直接利用现有的土壤湿度传感器，打开水泵后，土壤湿度没有发生比较明显的变化就是没水了</div>2020-12-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/38/47/3f/51708649.jpg" width="30px"><span>Blow</span> 👍（0） 💬（0）<div>跟着这个做，可以实现自动浇花嘛？</div>2024-07-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/37/4b/c9/3c38210b.jpg" width="30px"><span>向北-Summer</span> 👍（0） 💬（0）<div>老师，您好，麻烦问下设备电路图是用什么画的啊？</div>2024-04-24</li><br/>
</ul>