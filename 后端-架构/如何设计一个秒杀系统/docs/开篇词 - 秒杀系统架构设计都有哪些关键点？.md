你好，我是许令波，花名“君山”。说起来我的职业生涯算是比较简单，2009年大学毕业后就进入了淘宝，一直工作了七年多。这七年多的时间里，我有幸看到了淘宝业务的快速增长，并且以开发者的身份参与其中。

说实话，作为一名程序员，我的技术能力也在公司业务的快速增长过程中得到了历练，并积累了一些大流量高并发网站架构设计和优化的经验，尤其是针对“秒杀”这个场景。因为我确信，那个时候我们肯定是对系统做了足够多的极致优化，才能扛住当时洪峰般的流量请求。

记得早期的时候，淘宝商品详情系统的PV还差不多是1亿的样子，但是到2016年差不多已经升至50亿了。尤其是2012年到2014年那个时间段，“秒杀”活动特别流行，用户的参与热情一浪高过一浪，系统要面对的流量也是成倍增长。

而每一次的秒杀活动对技术团队来说都是一次考验。现在想起来，那个时候我们整个团队，无所畏惧，逐步迭代创新，然后解决一个个难题的过程，也是极具挑战性和成就感的事情。

记得有一年，为了应对“双十一”，我们整个商品详情团队对系统做了很多优化，我们自认为已经是整个公司最牛的系统了，性能也已经是“业界之巅”。

但是那年“双十一”的晚上，我们的系统还是遇到了瓶颈。当时老大就跑过来盯着我们，问我们什么时候能够恢复，我们整个团队都承担着巨大的心理压力。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/44/19/28074c40.jpg" width="30px"><span>小盖</span> 👍（41） 💬（0）<div>一共7篇，10月1日正式更新，每天一篇。详细的介绍大家可以在专栏简介页面了解。</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4f/7d/dd852b04.jpg" width="30px"><span>chon</span> 👍（32） 💬（2）<div>建议增加如何用啥样的工具发现某个地方存在瓶颈。很多人不知道如何定位，即使学了，也不知道如何发现，定位和量化自己项目中问题</div>2018-09-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/5e/44/520d293a.jpg" width="30px"><span>彭正聪</span> 👍（10） 💬（2）<div>问一个问题，存不存在2个请求完全同时的情况。这样先后顺序怎么区分?</div>2018-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/5a/a8/f25ec64c.jpg" width="30px"><span>long.mr</span> 👍（8） 💬（2）<div>问一哈，秒杀系统，判断先后顺序的依据是请求到达的时间戳吗？ 会不会有一个服务器存在串行的请求的情况，这样的话会在一定程度上影响公平性吗？</div>2018-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg" width="30px"><span>云学</span> 👍（7） 💬（1）<div>如何发现瓶颈点，怎么判断某个地方是否有优化的空间，有哪些推荐的工具，请作者分享一下</div>2018-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/69/02/ff0d94f6.jpg" width="30px"><span>ds.Yang™️</span> 👍（6） 💬（1）<div>相见恨晚，最近也在读许老师的web技术内幕，很不错</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c4/19/cc33dc52.jpg" width="30px"><span>倪</span> 👍（2） 💬（1）<div>lua.脚本操作redis秒杀，后同步数据库</div>2018-10-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/25/0c/d507fa18.jpg" width="30px"><span>过河卒子</span> 👍（2） 💬（1）<div>怎么没有看到具体课程介绍呀！</div>2018-09-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/16/2d/2753369a.jpg" width="30px"><span>Geek_58ezrw</span> 👍（1） 💬（1）<div>@null

5秒一个请求，写太长了吧，体验太差了。
我以前做的秒杀是静态资源用阿里云的cdn,用redis计数限流。库存也是用redis的hash结构来存储，进行库存的减操作。效果也不是很好，压力也在redis这边。</div>2018-10-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/6a/96/92c85a12.jpg" width="30px"><span>罗</span> 👍（1） 💬（1）<div>居然不是开了 是开场白啊，还是点个赞吧！</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/20/81/75f3c11d.jpg" width="30px"><span>追云的帆</span> 👍（1） 💬（1）<div>君山 老师写的书和文章一定要好好看看</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/fa/3b/f129b12a.jpg" width="30px"><span>朱晓磊</span> 👍（1） 💬（1）<div>记得第一次实习面试的时候，小组讨论就是关于 秒杀的问题 </div>2018-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/01/5e/95f7d928.jpg" width="30px"><span>Hidden</span> 👍（1） 💬（1）<div>面试官经常问 如何设计一个秒杀系统，不知从哪些角度 回答，一脸懵</div>2018-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg" width="30px"><span>雪飞鸿</span> 👍（0） 💬（1）<div>每个节点都会产生一个socket连接，怎样复用这些连接呢？</div>2019-05-12</li><br/><li><img src="" width="30px"><span>Geek__sunchi</span> 👍（0） 💬（1）<div>看到老师的名字，立马下单了。之前看过老师的Java Web技术内幕，当时就一个感受，老师真的很厉害，讲的很清楚透彻。还有，没想到老师的声音也很好听。</div>2019-03-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f4/45/f9a0cbbf.jpg" width="30px"><span>金葫芦</span> 👍（0） 💬（1）<div>老师：PHP可以设计秒杀系统么？和java的区别在哪里？</div>2019-02-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/b4/c1/73df153f.jpg" width="30px"><span>Jun</span> 👍（0） 💬（1）<div>想要支持10W，100Wqps，这套方案集群数量要多少？</div>2018-11-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg" width="30px"><span>落叶飞逝的恋</span> 👍（0） 💬（1）<div>文章总结：设计秒杀系统需要解决两个问题：如何并发读？如何并发写？</div>2018-11-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/fc/a1/eee0240e.jpg" width="30px"><span>松风水月</span> 👍（0） 💬（1）<div>把maven实战作者看成君山了。。。哈哈哈哈哈哈</div>2018-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a9/bf/69e26321.jpg" width="30px"><span>Geek_28jntf</span> 👍（0） 💬（1）<div>君山变化好大啊，感觉和以前判若两人....</div>2018-10-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/9a/d3/aeedbfc2.jpg" width="30px"><span>Geek_n5ge3l</span> 👍（0） 💬（1）<div>果断买，支持</div>2018-10-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/7b/9e/37d69ff0.jpg" width="30px"><span>balancer</span> 👍（0） 💬（1）<div>老师多讲点，秒杀设计里面的技术选型，将透彻些；</div>2018-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/03/aa/1429ee49.jpg" width="30px"><span>James</span> 👍（0） 💬（1）<div>秒杀的库存是放redis吗？</div>2018-09-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ed/3a/e61ba233.jpg" width="30px"><span>mike</span> 👍（0） 💬（1）<div>其他需要也通用吗，类似php？</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/15/f3/dbbdad25.jpg" width="30px"><span>Mr.xi</span> 👍（0） 💬（1）<div>以前写过一个抢购的，但是太low了，这次学习学习</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/23/02/4971ecd9.jpg" width="30px"><span>🏹Mr.Lee</span> 👍（0） 💬（1）<div>第一章：声音很好听。</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/22/9b/ef08cfe0.jpg" width="30px"><span>XIANFENG SOONG</span> 👍（0） 💬（1）<div>最近正打算从秒杀开始学习性能优化</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/5f/5d/63010e32.jpg" width="30px"><span>有匪君子</span> 👍（0） 💬（1）<div>高性能，高并发，高可用。。这不全都是redis的特性吗？😂</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/59/35/b967e113.jpg" width="30px"><span>okJohn</span> 👍（0） 💬（1）<div>期待许神</div>2018-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/28/32/c99aaa80.jpg" width="30px"><span>杰</span> 👍（157） 💬（1）<div>知识无价，你可能小赚，但我永远不亏。</div>2018-09-27</li><br/>
</ul>