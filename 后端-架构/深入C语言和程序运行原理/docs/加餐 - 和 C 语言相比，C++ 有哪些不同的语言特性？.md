你好，我是于航。

在之前的[春节策划三](https://time.geekbang.org/column/article/484465)里，我为你介绍了如何使用 C++ 语言来实现一个简单的 JIT 编译器，你能够从中大致感受到 C 和 C++ 这两种语言在使用上的差异。那么这次的加餐，我就用专门的一讲，来为你介绍 C++ 与 C 相比究竟有何不同。

C 语言的语法简单，且贴近底层硬件。使用它，我们能在最大程度上为程序提供较高的运行时性能。但在 C 语言诞生的几年后，它开始逐渐无法满足人们在构建应用程序时对编码范式的需求。而一门基于 C 语言构建的，名为 C++ 的语言便由此诞生。作为一个 C 语言使用者，也许你还在犹豫要不要把 C++ 作为下一门继续学习的编程语言，那么相信在学习完这一讲后，你会有进一步的思考。

在具体比较 C 和 C++ 之前，我们先来看看 C++ 的发展历史和应用场景，从整体视角对它有一个了解。

## C++ 发展简史

丹麦计算机科学家 Bjarne Stroustrup（下面简称 BS）从 1979 年开始研发 C++ 这门编程语言。BS 于 1979 年从剑桥大学取得博士学位，在撰写博士论文的过程中，他发现 Simula 语言（该语言被认为是第一个面向对象的编程语言）的某些特性对大型软件的开发十分有帮助，但遗憾的是，该语言本身的执行效率却并不高。

毕业之后，他前往位于美国新泽西州的贝尔实验室，以研究员的身份开始了职业生涯。在工作期间，为了解决遇到的一个棘手问题，BS 决定选择当时被广泛使用的，具备较高性能和兼容性的 C 语言作为基准语言，开始为其添加与 Simula 类似的，面向对象的相关特性。通过直接修改 C 编译器，包括类、继承、默认参数等在内的一系列新特性被“整合”到了 C 语言中，这一新语言在当时也被直观地称为 “C with Classes”。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg" width="30px"><span>LDxy</span> 👍（3） 💬（3）<div>1，C++在调用C写的函数时感到很困惑，有的人说要在C函数前加上:: 有的人又说不用加可以直接调。2，在C++中包含处理C字符串的头文件，有人说包含string.h就行，有人说要包含cstring。3，智能指针是可以在频繁创建对象且对程序性能有要求的场合用吗？4，源文件的后缀名也很糊涂，命名为*.cpp, *.cc, *.hpp, *.hh, *.h的都有，到底该用哪种？5，std::this_thread::sleep_for(std::chrono::milliseconds(50))和Sleep(50)是等价的吗？</div>2022-03-14</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epDpMJ1onECmHCzwCV8ULMqnocLC2ZRXtp0LqktWUaAIvOwrTQeavZnaFMMeZAKOAxPhsIZhOuHTw/132" width="30px"><span>ahack</span> 👍（1） 💬（1）<div>这一节课收获很大，印象最深刻的在于c++是c的内容的选择并增添了类的特性，除此之外还针对频繁的内存管理生产出了智能指针，再就是性能这里有封装有优化就会有性能开销，所以在某些极致的场景下没有添加任何额外开销的c性能更优秀，我这才懂了为啥马斯克说我支持rust</div>2022-03-15</li><br/>
</ul>