我相信，很多程序员都已经意识到基础知识的重要性，觉得要夯实基础，才能走得更远，但同时对于如何将基础知识转化成开发“生产力”仍然有些疑惑。所以，你可能看了很多基础的书籍，比如操作系统、组成原理、编译原理等，但还是觉得很迷茫，觉得在开发中用不上，起码在平时的CRUD业务开发中用不上。实际上，这些基础的知识确实很难直接转化成开发“生产力”。但是，它能潜移默化地、间接地提高你对技术的理解。

不过，我觉得，设计模式和操作系统、组成原理、编译原理等这些基础学科是不一样的。它虽然也算是一门基础知识，但是它和数据结构、算法更像是一道儿的，相比那些更加基础的学科，设计模式能更直接地提高你的开发能力。我在开篇词里也说了，如果说数据结构和算法是教你如何写出高效代码，那设计模式讲的是如何写出可扩展、可读、可维护的高质量代码，所以，它们跟平时的编码会有直接的关系，也会直接影响到你的开发能力。

不过，你可能还是会觉得设计模式是把屠龙刀，看起来很厉害，但平时的开发根本用不上。基于这种观点，接下来，我们就具体地聊一聊，我们为什么要学习设计模式？

## 1. 应对面试中的设计模式相关问题

学习设计模式和算法一样，最功利、最直接的目的，可能就是应对面试了。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/0b/9f/788b964e.jpg" width="30px"><span>仰望星空</span> 👍（21） 💬（4）<div>老师能不能讲讲函数式编程思想，设计模式都是基于面向对象的，而现在更流行函数式编程。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/87/f5/c6d1ffed.jpg" width="30px"><span>时光之刃</span> 👍（13） 💬（1）<div>希望老师能举一些开源代码中的设计模式，比如netty或者ES等</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/86/20/e71b5585.jpg" width="30px"><span>蓝二哥哥我才是无羡啊👻</span> 👍（6） 💬（1）<div>  做服务端开发相关工作，对于一个初入职场的小白来说，什么工厂模式单例模式，只有简单的知道概念，看项目都不能明白他们的体现，但最近发现了单例模式在装饰器方面的应用是真的让人印象深刻，从中体会到了编程的乐趣，所以下定决心要好好学习设计模式！
  还有老师说的：“你以为你读懂了别人的代码，其实你可能还未领悟到其中的精髓！”我思考一阵，发现好像真的是这样，最近在学习前辈的代码阶段，好像只是懂了代码实现的业务逻辑，并不十分明白为什么要这样去实现，好处在哪，所以想问问老师，怎么才能领悟到别人代码的精髓呢</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg" width="30px"><span>mgs2002</span> 👍（4） 💬（2）<div>30多了还来得及吗。。</div>2020-11-29</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/6gic9ib9c9865ec0rKEPZJtvbj2yINgrGtjibr95luMEZdJ0oBV0hJUbE7iaeia4B802CibweG3yicJSCo5c93MeCSxMg/132" width="30px"><span>Geek_5a5d9a</span> 👍（2） 💬（1）<div>移动端开发:
常用的设计模式: 单例模式, 代理模式, 观察者模式, 适配器模式, 还有用到一些策略模式</div>2020-11-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/21/4a/05c36143.jpg" width="30px"><span>闪耀之作r</span> 👍（1） 💬（1）<div>设计模式什么时候学最好？需要什么基础，有先后顺序分吗？数据结构与算法怎么和设计模式相结合，设计模式不只是java才有，其他的也有，其他的都需要单独学习吗</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/db/5f/c5791954.jpg" width="30px"><span>李奇峰</span> 👍（0） 💬（1）<div>设计模式在大学的时候通过《Head First 设计模式》这本书学过一段时间，但是工作之后就忘掉了。好像都只是能把业务逻辑完成就可以了，很少用到设计模式的思想去编写代码。</div>2020-11-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/c3/45/c80bea83.jpg" width="30px"><span>高崇波</span> 👍（0） 💬（1）<div>我是做嵌入式开发的主要是用C语言，C语言语法结构上不支持面向对象，但是在思想可以实现面向对象，对这边了解的太少，代码的架构能力太薄弱，每次做项目都是考虑实现功能，没有对代码的扩展性，可维护性等做太多的考虑。希望学习设计模式能够带我提升一个档次</div>2020-11-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg" width="30px"><span>峰</span> 👍（0） 💬（1）<div>设计模式是组织代码的艺术，怎么让接盘侠研究代码的时候能专注于一个更小的上下文，怎么面对不断变化的需求，隔离变化，能做可扩展的修改，或者尽量小范围修改。
还记得，那是一个查询路由的东东，对不同查询类型，都会走一溜烟的处理链条，而在链条的每一环，都要判断查询的类型是什么要不要跳过，或者进行特殊化的处理。这样对新增一个查询类型，就意味着要改整个链条。我做的修改是，把查询类型和查询链条做了接耦，为每一种查询装配一种独特的处理链。</div>2020-11-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg" width="30px"><span>斐波那契</span> 👍（0） 💬（1）<div>设计模式的重要性不用多说 自己体会就好 但是烂代码真的很神烦 老师 现在刚接触一个项目 我个人感觉写的蛮烂的 开发起来各种坑 迭代时间紧 请问 怎么破</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/c4/d4/5c8fb1cb.jpg" width="30px"><span>肖大妞</span> 👍（0） 💬（1）<div>设计模式用过一些，单例，代理，责任链，装饰者模式等，但是一直没有get到设计模式的优点，难道就只是为了方便代码扩展，让人容易看懂？</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg" width="30px"><span>而立斋</span> 👍（0） 💬（1）<div>理不清楚面向对象设计7个原则之间关系，好像每条说的都很有道理，24种设计模式是对这个7个原则的从不同方面给出的解决方案吗？</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/b7/ba/ae4cabd8.jpg" width="30px"><span>仙道</span> 👍（0） 💬（2）<div>TMD公司是哪几个公司</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg" width="30px"><span>丁丁历险记</span> 👍（279） 💬（26）<div>笔记：
1 作者反复解释了下学好dp 的重要性。
映像深刻的：
基本功不够，把一台战斗机放你面前，你都不知道如何欣赏和品味。
其它职能：
1 面试所需（适当的区分度）
2 告别烂代码，让实现优雅起来。老司机后，要参与指导菜鸟，也要会。
3 show me the code ,你牛不牛，终归还需要代码的展现，把框架说得头头是道又如何，技术看技术，硬核不行，外表的东西白搭。没法成为别人心中的大牛的。

作业：聊看法。
一句话，简直太tmd 的重要了。

以前重构过一个p2p 客户投资后奖励活动【放心，平台未跑路，老板是用心做事的人】。  刚开始，他们真的是 if eles 的去写每一个活动。
我去了后。主要就是参考yii 框架的实现方法。
做了以下解藕，把购买后的奖励分为四块。
通过配置 rules 来确认是否有奖励资格。    【首次，】
清算出奖多少，奖给谁（通常会带上推荐人）【固定额，阶梯算法，比例值，vip 等级等】
创建出奖励执行类， （红包，现金，抽奖券 ， 积分等） 并执行奖励
发送通知  （站内信，短信，微信，邮件 ， ） （通知会在通知里挂接广告）
离开那公司时特意查了一下，公司共发布了1700 条个奖励项，给客户返利约900 万。
</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/88/2c/87861bb1.jpg" width="30px"><span>嚴脂红.*</span> 👍（137） 💬（8）<div>做游戏开发相关的工作，日常用到非常多的设计模式，比如:

对于游戏的设置，ui和scene等等各种manager管理类都要用到单例模式。
创建游戏中各种角色的各种工厂模式还有对象池。
处理游戏角色的各种状态的有限状态机要用到状态模式。
在优化复杂游戏场景时会用到享元模式。
还有游戏引擎本身就用到的组件模式。
......</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/fe/de/2019f370.jpg" width="30px"><span>jony</span> 👍（116） 💬（1）<div>设计模式，两眼一抹黑，从0开始</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/03/e8/4c943503.jpg" width="30px"><span>乐</span> 👍（90） 💬（2）<div>个人认为设计模式主要解决的是扩展和耦合问题

日常使用：

使用代理模式进行共性化处理，比如说 AOP 思想，将非业务功能和业务功能解耦

* 事务的处理@Translation
* 系统间上下文的传递 ThreadLocal + restTemplate#intercept 等等

使用工厂 + 策略

* 不同优惠种类的计算
* 定制化功能的解耦

观察者模式：这个模式的思想，我觉得非常的重要，你可以在许多中间件（mq、zookeeper、netty 等等）乃至生活中都能看到它的影子

* 通过领域事件解耦业务
* 理解 eventloop、epoll 等等
* 通过 watch 实现动态配置、HA 等等

责任链模式：pipeline 思想

* filter
* 理解 netty 中的各种 handler</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/ec/b1/d790b927.jpg" width="30px"><span>摸爬滚打三十年</span> 👍（85） 💬（5）<div>关于为什么早学设计模式我很有发言权，我们公司的食堂有一道名菜:肥牛金针菇，去的早的吃肥牛，去的晚的吃金针菇。</div>2019-11-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/35/f9/7a682fc1.jpg" width="30px"><span>梁军</span> 👍（50） 💬（0）<div>个人感觉，设计模式和数据结构算法结合，再去读源码或者框架，很清晰，一个招式一个内功</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/4f/c9/9f51fd27.jpg" width="30px"><span>编程界的小学生</span> 👍（47） 💬（5）<div>1.设计模式很主要，很主要，很主要。他是一个能够长久迭代开发的必要条件，也是一个提高开发效率的必要条件。当我第一次用设计模式的时候我激动的一晚上没睡好，反反复复去看我的代码，喜欢的不得了。我会对照我的代码思考需求变更我的代码应该改什么，那种解耦合，可扩展的架构真的喜欢！！！

2.单例、工厂、模板、策略
基本的套路就是：单例的工厂类负责创建策略类，但是每个策略类都有共同特性，所以用到了模板模式。
类关系就是每个策略类实现策略接口并继承模板类。交由单例的工厂来管理。
也有人说这就是模板。跟策略没关，但我认为确实也是策略。
场景:医疗系统，药品分为中药，西药，医疗器械等等不同类别，每种类别计算价格方式由相同的算法和不同的算法组成，所以我用了模板和策略。👀
补充：其实最后我发现spring有依赖搜索，直接注入map就行了。完全不用自己写工厂管理😂😂😂</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/e3/d8/bc70f34a.jpg" width="30px"><span>谭棋钊</span> 👍（34） 💬（0）<div>只用过单例</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/2e/df/59725073.jpg" width="30px"><span>吉吉</span> 👍（27） 💬（0）<div>1、设计模式的重要性看法：
(1)可以使得代码编写更优雅
(2)对学习一些开源框架有很大帮助
(3)程序的可扩展性、维护性更好，系统解耦
2、基于上面的看法结合实际项目说明：
(1)在新老系统接割的项目中，进行数据回写，用到了策略模式，根据不同的接口码值，进行不同的策略回写。
(2)在银行前置系统中，用到了模板设计模式，对接不同的三方通道，在模板中定义某些特定的步骤，并加上hook，具体步骤子类实现。
(3)责任链模式，在网关系统中用到的filter就是责任链模式，把一个请求依次的在过滤器链上进行传输
(4)装饰器模式，在普通的微服务提供的restful接口中，在请求返回的时给对象添加一些额外的职责
(5)门面设计模式，对外提供统一的接口，例如在springcloud中提供统一的feinclient接口，所有外部系统都通过feinclient接口进行接入，从而不关心内部接口的调用实现。
(6)还有命令设计模式，原来在看工作流的时候不知道这个模式，看的云里雾里，后来才知道原来整个框架用到了命令设计模式，一下子就明朗了很多。所以学习设计模式很重要。
还有单例模式、工厂模式等，以上大概就是在工作中用到的设计模式，分享一下，如有不对请指正。</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/30/34/9c/05708466.jpg" width="30px"><span>后其身而身先</span> 👍（21） 💬（0）<div>我相信，有很多程序员和我一样，并不是软件相关专业科班出身的。
对于我们这些非科班出身的程序员来讲，很多时候，都是在摸着石头过河。因为没有系统性和体系化的知识结构基础，在做程序设计和程序开发的时候，都只能凭经验或直觉来做。
经验丰富之后，可能写出的代码也比较漂亮；但是在带新人的时候，却不能够讲解清楚什么是好代码，怎么避免掉入烂代码的坑里，结果导致自己的“弟子”们，要么无法理解自己所讲授的内容，要么，就学的似是而非，画虎类犬。耽误了别人的前程，同时，也阻碍了自己的进步
回头来学习这些，是为了“补课”，把自己的经验理论化，将这些理论知识和自己的实践相互印证，建立坚实的知识结构体系。在这样的体系基础之上，也更易于向别人传播自己的知识和经验，只有基础牢固，才能建成真正屹立不倒的摩天大楼</div>2022-08-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/49/8e/e6eaf434.jpg" width="30px"><span>大王拍我去巡山</span> 👍（16） 💬（0）<div>CRUD写的太多了， 通过设计模式也能简化业务代码，释放生产力。期望能多有些代码场景的演练，跟随学习</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg" width="30px"><span>汤小高</span> 👍（15） 💬（0）<div>课后讨论：我的看法
1.聊一聊你对设计模式相关知识的重要性的看法；
（1）设计模式能让程序员编写出可读性高，易维护，易拓展的代码，避免烂代码。
（2）利用好设计模式能让复杂功能的设计的代码可复用性，可拓展性，可维护性，可读性更高。达到高内聚、低耦合的目的。
（3）设计模式能提高程序员的自我修养

2.在你过往的项目开发中，有没有用过某种设计模式？是在什么场景下应用的？解决了什么问题？
用到过模板模式，单例模式。
2.1）模板模式应用场景：在一个项目的规则引擎中，一个规则引擎有一系列规则过滤，这个过滤步骤基本上是确定的，只是某些步骤在不同的场景下需要相互替换，模板方法定义了方法调用顺序，需要用到一个钩子，让子类去实现这个方法。
模板模式解决问题：解决了以后可拓展的问题，如果以后需要在新场景下新增规则方法，只需新增一个类，实现钩子方法即可，不需改动既有代码。
2.2）单例模式应用场景：用于加载项目中需要的配置文件的资源类。
单例模式解决问题：解决了资源共用，避免创建出大量资源对象，节省了JVM内存资源。
</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/54/d0/4e1fc664.jpg" width="30px"><span>帆大肚子</span> 👍（14） 💬（0）<div>我是做iOS开发的，之前一直有了解过设计模式，也在自己的一个框架中应用了组合模式。

重要性那就更不用说了，上个坑是一个专门定制ERP的公司，需要从APP上录入很多信息。我接手的时候，准备一根绳子随时准备上吊。我就连类似于把姓名输入项和性别输入项换一个位置，都要换一个上午。
学习了设计模式之后，我对应公司的开发场景，应用组合等模式把公司的iOS开发组件化（最快的时候一天写了20个表单页面）。
虽然自己有学过，但是如王争老师所说的，自学的效果真的有些不尽人意，并缺少反馈。
熟悉OC的同学可以去看看我的作品，希望大家给予指点
https:&#47;&#47;github.com&#47;xiefans&#47;FFormLib
但是因为自己比较懒，没有给文档补全。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/6e/4d/22de9c0e.jpg" width="30px"><span>SweetyTang</span> 👍（12） 💬（6）<div>用的最多的是观察者模式，其它模式都不了解，有些太失败了😭😭😭</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/5e/7c/94af3f5e.jpg" width="30px"><span>条</span> 👍（9） 💬（1）<div>1.个人觉得设计模式就是对一些写比较好的代码的总结，其实代码看的写的多了，也能写出自己的设计模式。
2.最近重构了一块生成excel的代码，因为相似的代码很多，就用到了简单工厂模式和策略模式，工厂模式让对象的创建更加明确，策略模式让代码的逻辑看起来更加清晰、也解决一些代码重复的问题。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/64/2e/e70a317a.jpg" width="30px"><span>学好习，做好人</span> 👍（8） 💬（1）<div>第一个问题：之所以称为设计模式而不是设计模型，我觉得模式只是提供了一个解决某类问题的思路，不是一成不变的，要根据具体的场景来应用，而不是当作一个模型来生搬硬套，还有还有就是过多的套用设计模式有时候反而是问题变得复杂，所以设计模式很重要，他提供给我们解决某种问题的一个好的解决思路和方法，但是也要具体情况具体分析
第二个问题：模板模式和策略模式用的比较多，曾经解决过一个场景，入参是一样的，要根据参数中type字段不同的值解决不同的业务场景，源代码中充斥着大量的if..else.新增一种业务场景，需要修改源代码，明显不符合开闭原则，解决办法：使用策略模式解决，不同的type对应一个具体的策略，新增一个场景的时候，新增一个具体的策略类即可，不需要修改源代码了</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/01/56/03fb63d9.jpg" width="30px"><span>于留月</span> 👍（8） 💬（1）<div>设计模式的重要性：
1、提高设计和开发能力，从更高层次考虑问题：可读性、可维护性、可扩展性、模块化、组件化；
2、读源码、学框架，深有体会，Android源码到处充斥着各式各样的设计模式和设计原则；
3、职场发展，个人希望能够在架构和技术leader方面深入发展；
4、高质量代码，避免坏代码，不想被同行嘲笑，不想被同事鄙视，不想被后期维护的人吐槽，想被人称赞；
5、作为专业话术，更方便同行业间交流，更容易跟领导解释清楚，更轻松带领团队完成任务；

使用经验：

策略模式：
解决开发、测试、预发布、生产环境不同的数据来源、不同的数据处理方式，以及不同的图片加载方式

建造者模式：
网络通信协议，非常规意义上的http请求，更多是Socket通信，需要处理大量的参数传递，包装，解析

</div>2019-11-05</li><br/>
</ul>