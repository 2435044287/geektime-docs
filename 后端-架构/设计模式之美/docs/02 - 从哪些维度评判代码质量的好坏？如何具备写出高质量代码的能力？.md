在我的工作经历中，每当同事评论起项目代码质量的时候，听到的最多的评语就是：“代码写得很烂”或者“代码写得很好”。用“好”“烂”这样的字眼来描述，非常地笼统。当我具体问到底如何烂、如何好的时候，尽管大部分同事都能简单地罗列上几个点，但往往都不够全面、非常零碎，也切不中要害。

当然，也有一些工程师对如何评价代码质量有所认识，比如，好代码是易扩展、易读、简单、易维护的等等，但他们对于这些评价的理解往往只停留在表面概念上，对于诸多更深入的问题，比如，“怎么才算可读性好？什么样的代码才算易扩展、易维护？可读、可扩展与可维护之间有什么关系？可维护中‘维护’两字该如何理解？”等等，并没有太清晰的认识。

对于程序员来说，辨别代码写得“好”还是“烂”，是一个非常重要的能力。这也是我们写出好代码的前提。毕竟，如果我们连什么是好代码、什么是烂代码，都分辨不清，又谈何写出好代码呢？

所以，今天我们就聊一聊关于代码质量评判的相关问题，希望你在学完今天的内容之后，对代码质量的评判有个更加清晰、更加透彻的认识和理解。

## 如何评价代码质量的高低？

实际上，咱们平时嘴中常说的“好”和“烂”，是对代码质量的一种描述。“好”笼统地表示代码质量高，“烂”笼统地表示代码质量低。对于代码质量的描述，除了“好”“烂”这样比较简单粗暴的描述方式之外，我们也经常会听到很多其他的描述方式。这些描述方法语义更丰富、更专业、更细化。我搜集整理了一下，罗列在了下面。这些几乎涵盖我们所能听到的描述代码质量的所有常用词汇，你可以看一看。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/ba/4d/7ba09ff0.jpg" width="30px"><span>郑童文</span> 👍（52） 💬（3）<div>个人感觉，有的时候为了提高代码的可扩展性和可复用性 就会抽象出好多的接口，类和方法。 然后代码的简洁性和可读性就降低了。不知道我这样的感觉对不对？请问老师如何看待这个问题？</div>2019-11-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg" width="30px"><span>xiong</span> 👍（24） 💬（5）<div>所在的公司也很少有code review 的流程，所以有时候都无法评估自己写的代码是好还是坏。这种情况该如何去提高自己的code 水平呢？</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/6e/4d/22de9c0e.jpg" width="30px"><span>SweetyTang</span> 👍（16） 💬（3）<div>争哥，好的代码是不是也得考虑错误处理</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/bc/6d/f6f0a442.jpg" width="30px"><span>汤小高</span> 👍（15） 💬（1）<div>老师，怎么感觉您说的可维护性和可拓展性是同一个东西，都是让未来修改某个功能，某个bug或者新增功能需求更简单？
是不是维护性更针对于现有功能的维护修改，拓展性更针对与未来新增需求的修改？</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/9a/f9/6d55ee0b.jpg" width="30px"><span>Tiger</span> 👍（9） 💬（1）<div>一直有个疑问，很多人都说一开始写代码尽量不要用设计模式，避免过度设计。要根据业务的发展和当前的场景进行重构代码时再考虑用设计模式。真是这样的吗？</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/88/c8/6af6d27e.jpg" width="30px"><span>Y024</span> 👍（8） 💬（4）<div>Day003 02
收获金句：“思从深而行从简”。
比较遗憾的是，开头讲了好代码的标准太过泛泛而谈，以为会有量化的标准，结果还是没有。</div>2019-11-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/44/26ac883e.jpg" width="30px"><span>桃翁</span> 👍（3） 💬（3）<div>老师，对于更好的写出可测试性的代码TDD我觉得是一种非常好的方式，测试在前必然写出来的代码易于测试，但是写测试用例往往会占用很多的时间，请问老师你是如何看待TDD的？</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg" width="30px"><span>木子00</span> 👍（2） 💬（2）<div>这一篇老师讲的太好了，老师讲的一些自己的问题。我现在也是处于这个阶段。
让我写一个从无到有到系统，或者独立的模块。都不知道从何下手。也看过设计模式，也看过框架源码，知道这么写的，但是让我写就是写不出来，没有一点思路。
学完设计模式之美能改变现在的状况吗？
(能说说老师怎么脱离这样的状况吗？）</div>2019-11-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/7a/f2/6770d0a9.jpg" width="30px"><span>张驰</span> 👍（2） 💬（1）<div>老师是否可以提供下，您日常工作中CR环节的一些标准呢。目前团队内对代码质量的把控能力一般，CR环节也是最近开始强制执行的，以前都没有，但是整个CR过程有点生搬硬套一些标准了，比如单测覆盖率、编码规范等，这些都比较初级，想了解下google都是如何做CR的。</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg" width="30px"><span>Coding小先</span> 👍（0） 💬（1）<div>代码质量，我觉得首先最重要的是代码规范，还有一个就是代码注释，起码要让自己过段时间后，还有同事能够一眼明白你的代码的作用是什么。另外在架构 代码设计上，扩展性也是非常重要的。有些不好的设计和架构，要添加一个功能得修改很多的代码才行</div>2020-11-16</li><br/><li><img src="" width="30px"><span>面向工资编程</span> 👍（0） 💬（2）<div>为什么 KISS 中最后一个 S 代表 Stupid 而不是 Smart 呢？</div>2020-06-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/db/26/3c8d68fb.jpg" width="30px"><span>天使梦泪</span> 👍（0） 💬（1）<div>老师好，如果可以帮助分析下jdk和spring源码就更好了。</div>2019-11-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg" width="30px"><span>洛奇</span> 👍（0） 💬（1）<div>单元测试真的很重要吗？以前都没重视</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/46/19/8497686b.jpg" width="30px"><span>HarmonyChang</span> 👍（0） 💬（2）<div>写足够的注释算个标准吗？</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/64/9b/d1ab239e.jpg" width="30px"><span>J.Smile</span> 👍（0） 💬（1）<div>争哥总结能力很强</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/40/5a/e65e8c40.jpg" width="30px"><span>wl</span> 👍（0） 💬（1）<div>老师， Simplicity 和 Extensibility 建议都改下哦</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/15/27/c5e4ec99.jpg" width="30px"><span>哇哦</span> 👍（0） 💬（1）<div>感觉列出的七个标准有一定重合部分。。比如说感觉灵活性，可拓展性，可复用。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg" width="30px"><span>丁丁历险记</span> 👍（367） 💬（15）<div>笔记：
个人理解，代码质量评判
1  机器的运行效率 （往往还和可读性相冲突，但又非绝对冲突） ， 有时候算法在没优化好的时候，时间空间是可以一起省下来的。
2  代码可管理行数。 好的代码，层次分明，职能分明，让人感受到代码品味。
  
2  最常用的评价标准。
    这块我一直没细分好，经常和同事开玩笑说“代码品味”（尊重大脑的特性，写出可便于维护的代码。程序 = 数据结构+算法   算法分control 相关和logic  相关。  合理的把control 相关与logic 相关进行分离就是非常好的套路 ，时间久了，看到违和感重的代码就很敏感了，主要是要求别把代码写死写散， 像dry 等基础原则都没遵守的，烂用全局变量的，创建对象没用框架的createObj 的，没支持依赖注入的，直接code review 时会指出 ）
如何才能写出高质量的代码？
    做中学。 我只说我自己，我在每完成一份工作后，都要拿出很大一部分时间来优化重构，自己改自己的代码。 【主要套路来源，代码整洁之道，重构-改善即有代码设计】  这算是我自律的一部分，我很珍惜工作中的开发实践。纯理论的东西学多了，人会飘飘乎乎的，需要实操来落地。
 </div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a3/eb/d26459ae.jpg" width="30px"><span>时光勿念</span> 👍（276） 💬（19）<div>好看的代码千篇一律，垃圾的代码花样百出</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg" width="30px"><span>西南偏北</span> 👍（183） 💬（7）<div>“思从深而行从简，真正的高手能云淡风轻地用最简单的方法解决最复杂的问题。” —— 这句话是写代码的精髓</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/bd/c0/57b06721.jpg" width="30px"><span>深藏Blue</span> 👍（168） 💬（7）<div>我理解的好代码：
1. 当你读我代码的时候，我已经不在了，但你依然能够清楚清晰的明白我要传递的信息
2. 当程序出错时，一方面我汇报的错误信息能够帮你找出你的错误在哪; 另一方面，你能准确告诉我，我到底错哪了，而不是说：&quot;xx接口报错了，你看下怎么回事&quot;
3. 当你需要造个轮子的时候，我的代码能够作为现成的轮毂，你只需要再配上其他的组装一下就行</div>2019-11-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ercic1LB9N9P1kArjS1f3hOo641elcwFGHWrxeYF4yZjfwiaydLwVeM4ZJEmVkib66GtJoE0cr6Dviauw/132" width="30px"><span>小北</span> 👍（92） 💬（7）<div>除了小争哥提到的七个评价标准，我认为还有一个评价标准：易debug。在日常工作中，经常要追查各种线上case，代码是否易于debug，会非常影响工程师的追查效率。比如是否有打印详细的日志，是否有debug干涉点可以在debug模式下打印详细的线上请求信息便于快速定位问题。当然，这一点也可以放在可维护性中。</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/c3/dd/a9ff98e7.jpg" width="30px"><span>burning ‍微信超級會員</span> 👍（41） 💬（8）<div>稳定性很重要 尤其在前后端分离开发时。说好了按约定的接口规则开发 可联调时各种出错 甚至接口崩溃报异常。前端成测试了</div>2019-11-04</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/hg9Tsg2iaBeG6Q5mxiczjw1ph0OvhKziblEIiaOxg4gwQ0Dgia7Fw7pDQ0mM8AL5SJAm2Yavk1RmBJrFd9jKPBQRkOw/132" width="30px"><span>小毅</span> 👍（33） 💬（4）<div>借用clean code中的标准，code review时WTF&#47;min是最好的评判指标😏
个人理解好代码最重要的标准就是可读性，相对于可扩展和灵活，由于很多项目一开始并不清楚后续迭代的方向，过早引入过多的设计，反而会让项目臃肿，可读性特别差，后续反而更不好维护～
另外，对于一个team来说，我觉得好代码有一个非常重要的标准就是风格一致性，代码写的像一个人写的那这个team就是真的很厉害</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg" width="30px"><span>斐波那契</span> 👍（24） 💬（4）<div>在上一家公司提到一个标准 就是写的单元测试不能依赖于环境 不能在你的机子上能跑换到别的机子上就不能跑了 当时项目中跑测试的时候都是直接在内存中创建需要的表 然后把测试用到的数据插入进去然后在一条一条跑</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3b/47/f6c772a1.jpg" width="30px"><span>Jackey</span> 👍（24） 💬（9）<div>大道至简，一次面试中，我写了半页纸的代码被面试官3行实现的事对我打击很大…</div>2019-11-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/QFE00aXGzaS6ibbfJSJsDrpIkqs0OrIYjzZv6L9vZmMhOlut2j24iaeZb0MCQazToE6FRXN960nNiaTrsmw09YjGw/132" width="30px"><span>岁月如歌</span> 👍（19） 💬（1）<div>我对好代码理解：
1、具备统一的代码规范：类、方法、变量命名达意；代码核心逻辑注释清晰；(可以遵循《阿里巴巴 Java开发手册》）
2、代码模块分层清晰：类似框架层面controller、service、handler、mapper各司其职。 而在单独的业务开发中也应该借鉴，如争哥说的高内聚、低耦合的特点。
3、每个方法代码不易过长，复杂的业务逻辑应该拆分成多个职责单一对方法，进而降低难度，也即保证可读性和灵活性。
4、详尽的wiki文档 和 业务主流程图。很多互联网公司最流行的就是“口口相传”，对刚接锅的兄弟简直是场灾难，只能一点点啃代码，极大降低工作效率。
5、单元测试junit test。高质量代码必备，该点与第2、第3点是息息相关。个人觉得能写出好的junit test case 才能真正显示码代码功力。
</div>2019-11-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/d4/a1/8bc8e7e1.jpg" width="30px"><span>赌神很低调</span> 👍（17） 💬（1）<div>好代码就像一篇好文章，层次分明，用词贴切，简洁素雅，形象化抽象，脉络化复杂，而且有趣，吸引你通宵看完，然后合上书本，意犹未尽。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/47/10/c23b2457.jpg" width="30px"><span>Michael</span> 👍（16） 💬（1）<div>高质量的代码就好比讲了一个好故事，编程的本质是沟通。
编程是给未来的未知人讲故事，你无法知道将来这个人是谁，他都懂什么，他经历过什么，这个系统将来已经是什么样子了。我们需要在这种无知，缺乏信息的情况下做决定，从千万种把这件事做出来的方法里，选出你觉得最能把这个故事给讲好的那种方式，把故事写下来。编程是一种沟通，沟通是一种艺术，用程序沟通则是一门非常有意思的艺术。 coding is all about the art of communication！</div>2019-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e7/bb/18eb89fd.jpg" width="30px"><span>开发小能手</span> 👍（14） 💬（0）<div>我听过最牛逼的一句话：“什么样的代码都能写、这不是工期太紧吗？” 然后旁边的小领导乐呵呵的来一句：“对”。</div>2019-11-05</li><br/>
</ul>