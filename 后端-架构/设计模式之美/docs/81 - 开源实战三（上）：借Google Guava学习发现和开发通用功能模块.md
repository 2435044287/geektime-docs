上几节课，我们拿Unix这个超级大型开源软件的开发作为引子，从代码设计编写和研发管理两个角度，讲了如何应对大型复杂项目的开发。接下来，我们再讲一下Google开源的Java开发库Google Guava。

Google Guava是一个非常成功、非常受欢迎的开源项目。它在GitHub上由近3.7万的stars。在Java项目开发中应用很广泛。当然，我们并不会讲解其中的每个类、接口如何使用，而是重点讲解其背后蕴含的设计思想、使用的设计模式。内容比较多，我分三节课来讲解。

- 第一节课，我们对Google Guava做一个简单介绍，并借此讲一下如何开发一个通用的功能模块。
- 第二节课，我们讲Google Guava中用到的几种设计模式，会补充讲解之前没有讲到的Immutable模式。
- 第三节课，我们借Google Guava补充讲解三大编程范式中的最后一个：函数式编程。

话不多说，让我们正式开始今天的学习吧！

## Google Guava介绍

考虑到你可能不熟悉Google Guava，我先对它做下简单的介绍。

Google Guava是Google公司内部Java开发工具库的开源版本。Google内部的很多Java项目都在使用它。它提供了一些JDK没有提供的功能，以及对JDK已有功能的增强功能。其中就包括：集合（Collections）、缓存（Caching）、原生类型支持（Primitives Support）、并发库（Concurrency Libraries）、通用注解（Common Annotation）、字符串处理（Strings Processing）、数学计算（Math）、I/O、事件总线（EventBus）等等。
<div><strong>精选留言（21）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/8a/02/828938c9.jpg" width="30px"><span>Frank</span> 👍（2） 💬（1）<div>如何开发通用模块是不是可以对应到专栏之前讲过的“如何做需求分析与设计“中的非业务系统的开发那部分？</div>2020-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg" width="30px"><span>djfhchdh</span> 👍（52） 💬（23）<div>立个flag，阅读guava，记下笔记</div>2020-05-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg" width="30px"><span>宁悦</span> 👍（21） 💬（0）<div>附上Guava的github地址

https:&#47;&#47;github.com&#47;google&#47;guava</div>2020-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3b/47/f6c772a1.jpg" width="30px"><span>Jackey</span> 👍（8） 💬（0）<div>let’s go guava </div>2020-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/13/80/2c9da1b1.jpg" width="30px"><span>L🚲🐱</span> 👍（6） 💬（3）<div>权限系统可以独立出来, 几乎所有的项目都可以用一套权限系统</div>2020-05-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/e4/ae/7b310c2d.jpg" width="30px"><span>呦呦鹿鸣</span> 👍（6） 💬（0）<div>沙发！开始翻guava源码</div>2020-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg" width="30px"><span>Monday</span> 👍（5） 💬（0）<div>google guava ，I&#39;m coming!</div>2020-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/4a/8a/c1069412.jpg" width="30px"><span>makermade</span> 👍（5） 💬（0）<div>分布式id生成器，可以抽象成一个独立的服务</div>2020-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg" width="30px"><span>Heaven</span> 👍（4） 💬（1）<div>现在正在编写一个项目的告警模块,支持用户的自定义规则,进行解析后,多次到达一定额度,进行触发报警事件,这就可以抽取出来,但是现在越开发越和现有的业务代码耦合度深,所以在考虑将最开始的基本版本进行完善,形成一个框架暴露出去
顺便一提,其实大家可以根据自己的项目,抽取出一个脚手架,做到尽可能的通用,作为一个框架暴露出去</div>2020-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg" width="30px"><span>龙猫</span> 👍（3） 💬（1）<div>我们公司就有一些通用的组件:异步通信中心（多种渠道钉钉、微信、邮件等通知），缓存中心，文件上传导入中心，多数据源动态配置（基于spring api开发的动态数据源）等等，还是比较有意思的。</div>2020-09-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg" width="30px"><span>javaadu</span> 👍（2） 💬（0）<div>我的项目中，有一个功能模块是做数据同步的：将db数据同步到运行时的内存或缓存中。我考虑，这个功能可以作为一个通用的框架来维护，主要功能包括：接入模块、数据同步模块、数据同步健康检查模块、数据主动同步模块</div>2020-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/74/14/ea854bfc.jpg" width="30px"><span>wakaka</span> 👍（2） 💬（0）<div>平时用的比较多，用起来很方便，期待后面的两章，再对比源码看看。</div>2020-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg" width="30px"><span>👽</span> 👍（1） 💬（0）<div>业务编号生成器：在实际工作过程中，经常会需要生成业务编号。类似于课程的课程编号，工单的工单编号。很多安全性要求不高的编号其实也是可以复用的，至少我们团队内是这样。编号需要包含最基本的业务比如日期。所以，大多编号生存规则就是 日期+6位数字。我认为，这种业务，就可以抽离成组件。接收多种模式的前缀。例如：时间戳前缀，date前缀，datetime前缀等。后面的业务代码位数也允许变动，默认6位，也可以支持到更高的位数。</div>2020-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg" width="30px"><span>GeekAmI</span> 👍（1） 💬（0）<div>审批流、用户鉴权、风控等  都可以抽象出通用模块</div>2020-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/50/2b/2344cdaa.jpg" width="30px"><span>第一装甲集群司令克莱斯特</span> 👍（0） 💬（0）<div>guava的确吊</div>2022-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg" width="30px"><span>我是曾经那个少年</span> 👍（0） 💬（0）<div>在业务开发中可以尝试
1：第三方平台例如微信和支付宝通用的请求可以封装成统一的模块，方便其他的业务使用。
2：常用的工具类的抽取和封装，例如HTTP Client的封装，方便自己快速使用。</div>2021-12-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ac/96/46b13896.jpg" width="30px"><span>williamcai</span> 👍（0） 💬（0）<div>记录操作日志，参数检验</div>2021-08-11</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132" width="30px"><span>M</span> 👍（0） 💬（0）<div>目前接触的项目大多数都是和业务沾边的，能复用的也仅仅只能抽象成函数而已</div>2021-03-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/5b/a5/7c079c73.jpg" width="30px"><span>董大大</span> 👍（0） 💬（0）<div>可能是项目不大 我觉得熟练即可 不必深究吧</div>2020-05-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg" width="30px"><span>岁月</span> 👍（0） 💬（0）<div>不看了. 如果有swift或者oc的著名类库推荐可以看看.</div>2020-05-20</li><br/><li><img src="" width="30px"><span>Geek_3b1096</span> 👍（0） 💬（0）<div>学习开发通用功能模块</div>2020-05-15</li><br/>
</ul>