你好，我是彭旭。

今天我们课程的内容是编码与压缩。在设计一个优秀的数据库时，存储空间、性能以及资源占用无疑是必须深入考虑的关键因素。这些因素直接关联到数据库的效率、成本以及用户的体验。这里面，编码与压缩也是至关重要的一环。

通过这节课的学习，你一定能熟练掌握压缩和编码的常用算法，在使用数据库的时候根据自己的数据表和数据列选择合适的编码格式，优化数据存储结构，节省存储空间，提高数据的读取和查询性能。

如果你是要设计一个存储系统，不管是大量的冷数据存储，分布式场景下大量数据副本占用存储空间，还是有大量IoT设备的心跳数据、时序数据存储，都可以在这节课找到对应的启发。

我们先来看一下数据编码。

## 什么是编码？

我们工作中经常要将图片转成BASE64格式方便传输与存储，又或者需要处理音视频减少文件大小，从而提升传输效率，有的时候还会加密数据保障安全。其实，这些都是编码。

维基百科对编码的定义是这样的：编码是信息从一种形式或格式转换为另一种形式的过程；解码则是编码的逆过程。

这种信息转化的过程，一般都会伴随着空间的减少。比如，使用数据字典将一个城市字符串“Zhu Hai”编码映射成11，存储空间可能就减少了一半。又因为在数据的扫描处理上，字符串的处理时间可能是数字的2-3倍以上，所以，如果要对比字段或者给字段排序，那使用数字的性能也全面优于使用字符串，查询性能能够得到较大的提升。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/15/6f/65/26f998b2.jpg" width="30px"><span>zheng</span> 👍（4） 💬（1）<div>编码压缩其实是时间换空间。实际使用中就要看什么时候空间相对重要。一般是IO（网络和磁盘）和内存不足，后者可能还需要流式解压。</div>2024-06-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg" width="30px"><span>密码123456</span> 👍（2） 💬（2）<div>编码的话，但是见过。比如base64。服务器设置post大小是10m。正常图片是小于10m的，但是经过base64编码他就超过10m了。压缩的话，还是没遇到过。应该就是太吃cpu性能吧，影响服务器的吞吐量。</div>2024-06-26</li><br/>
</ul>