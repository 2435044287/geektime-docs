我在阿里巴巴工作的头一年，坐在我对面的同事负责开发一个公司统一的运维系统。他对这个系统经过谨慎的调研和认真的思考，花费了半年多的时间开发，终于开发完了。然后邀请各个部门的相关同事做发布评审，如果大家没什么意见就发布上线，全公司范围统一推广使用。

结果在这个发布会上，几乎所有部门的同事都提出了不同的意见：虽然这个功能是我们需要的，但是那个特性却是不能接受的，我们以往不是这样的……

最糟糕的是，不同部门的这个功能和那个特性又几乎不相同。最终讨论的结果是，这个系统不发布推广，需要重新设计。

这个同事又花了几个月的时间尝试满足所有部门的不同的需求，最终发现无法统一这些功能需求，于是辞职了……

他离职后，有次会上我们又讨论起这个项目为什么会失败，其中有个同事的话让我印象深刻，他的话的大意是：如果你对自己要开发的业务领域没有清晰的定义和边界，**没有设计系统的领域模型**，而仅仅跟着所谓的需求不断开发功能，一旦需求来自多个方面，就可能发生需求冲突，或者随着时间的推移，前后功能也会发生冲突，这时你越是试图弥补这些冲突，就越是陷入更大的冲突之中。

回想一下我经历的各种项目，似乎确实如此。用户或者产品经理的需求零零散散，不断变更。工程师在各处代码中寻找可以实现这些需求变更的代码，修修补补。软件只有需求分析，并没有真正的设计，系统没有一个统一的领域模型维持其内在的逻辑一致性。功能特性并不是按照领域模型内在的逻辑设计，而是按照各色人等自己的主观想象设计。项目时间一长，各种困难重重，需求不断延期，线上bug不断，管理者考虑是不是要推到重来，而程序员则考虑是不是要跑路。
<div><strong>精选留言（19）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/14/e1/ee5705a2.jpg" width="30px"><span>Zend</span> 👍（19） 💬（2）<div>记得在老师的一篇文章中说好的程序员的工作效率是一般程序员的10倍甚至更多。好的程序员不仅代码写的漂亮，可维护性强 ，面对需求变动时能更从容面对。那如何做一个好的程序员 我想对领域的理解，对需求的理解 ，具有一定的前瞻性思考，适时提出自己的建设性建议，通过代码让公司的业务系统可持续发展，推动公司业务的增长。</div>2020-01-08</li><br/><li><img src="" width="30px"><span>Paul Shan</span> 👍（15） 💬（2）<div>事务脚本模式的特点在于状态都在数据库里，业务逻辑在service层，业务逻辑与状态完全分离。
领域对象模型，特点是聚合状态和操作，提供相对独立的模块和类。领域的模型的对象之一是实体，有唯一标识，实体被销毁前标识不变，能通过标识获得，实体的状态会变化。领域的另外一种对象是值对象，状态在生命周期内不变，因而更简单。领域对象因为有状态可以表达更为丰富的关系。但是设计好的领域对象依靠的主要不是技术而是对业务的理解。大龄程序员选择的业务领域的余地还是越来越小的，可能人老了就是这样。
</div>2020-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/61/3a/a259c187.jpg" width="30px"><span>山猫</span> 👍（11） 💬（1）<div>第一次听到DDD这个东西还是在一年前，仔细了解后发现，其实这个早在学习软件工程的时候就被提及。简单地说，就是针对某个领域，从功能或者组件的角度去进行对象的设计。

另外关于 35 岁的问题，我认为除了要保持学习能力外，还需要有系统架构能力和丰富的经验，同时还需要了解经济、历史、政治，锻炼自己的社交和口才。</div>2020-01-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg" width="30px"><span>苗</span> 👍（2） 💬（1）<div>个人从传统mvc转到领域驱动的主要动力是，领域驱动的代码模型中使用设计模式提高对需求的响应能力很方便，比如校验做成责任链，加个策略实现，模板。</div>2020-08-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/95/a3/744995c1.jpg" width="30px"><span>LeonHan</span> 👍（60） 💬（0）<div>公司是不需要程序员的，公司只需要能创造价值的人。大龄程序员的优势是他不仅仅是一个程序员了，他更是在某一业务、某一领域内的领域专家，而且知道如何用技术去解决实际问题，创造价值。</div>2020-01-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/d8/c6/2b2a58cf.jpg" width="30px"><span>搞怪者😘 😒 😏 👿</span> 👍（19） 💬（1）<div>老师可以提供一下领域模型的例子吗，光看这个有点不懂</div>2020-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg" width="30px"><span>escray</span> 👍（12） 💬（1）<div>算是领域驱动设计的入门篇吧，如果想要深入学习，估计还得去隔壁的专栏看看，另外更重要的是如何在项目中落地。

有一个疑惑，关于实体，在面向对象分析的时候，似乎也是强调要找到业务领域、找到实体，当然可能不像领域驱动设计这么有针对性。

大龄程序员有什么优势？

先说劣势，比年轻人更贵，但是对工作的投入程度可能不如年轻人，如果不持续学习的话，那么技术也可能落伍，综合起来就是性价比太低。

优势呢，可能比年轻人成熟稳定一些，一般情况下不敢删库跑路，毕竟还要养家糊口。如果单写 CRUD 估计写不过年轻小伙子，但是如果是复杂一点的业务逻辑，经验可能还是会有一些作用。

对于大龄程序员在业务领域的积累，我有一点怀疑。其实这个和学习新技术一样，如果你不去学习和思考，那么就不会有什么积累。

最后，作为一个不必面对“35岁问题”的大龄程序员（因为我已经 40+ 了），仍然希望自己能去做技术，可是“留给中国队的时间不多了”。</div>2020-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/49/10/af49fa20.jpg" width="30px"><span>左耳朵狮子</span> 👍（5） 💬（3）<div>大龄人的优势，会学习和学习方向的效率是没有经验的人无法比的。 （比如，有经验的用google search 较没经验的用google search，可能就是两种完全不同的工具）。或者通俗来讲，学习某一方面，你不知道你不知道什么。有经验的，打一枪可能就学会了。没经验的打10枪才学会。（有人可能说，年轻的是个快枪手，那35岁怎么定的界限？心老了，18岁就已经是81岁了。这里不杠，34.5岁就年轻了？36.2岁就年老了？）</div>2020-05-30</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYLPAlGUWic4yAqsGtEYBSRR7gDjyg9yiaJicNhMwiaNw4rMKQ5DHTfp7gmic0gpqEwCZaou8G6CdHKCg/132" width="30px"><span>ant</span> 👍（4） 💬（2）<div>这一章，真的是感受到了理解层面的难度，或许当我对某一领域有了完全充分的理解，并参与了类似的模型设计，才能更好的理解理论层面！</div>2020-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg" width="30px"><span>而立斋</span> 👍（3） 💬（0）<div>最大的优势就是耐操</div>2020-06-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/d4/9c/030e80d3.jpg" width="30px"><span>java小霸王</span> 👍（1） 💬（0）<div>优势应该是 深度和广度的积累，学习新技术的速度，看问题的本质，在某个领域的权威，同时具有一定的创造性</div>2022-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg" width="30px"><span>探索无止境</span> 👍（1） 💬（0）<div>老师能否加餐再通过一个案例讲讲DDD？老师总能把复杂的东西讲得清晰明了</div>2020-03-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg" width="30px"><span>靠人品去赢</span> 👍（1） 💬（0）<div>其实这个贫血模型，应该指的是Dao一类的吧，就是一个存值取值的一个东西，没啥逻辑。最后都是交给service处理，不关心业务逻辑，扩展会导致增加service，万一要做什么新的扩展关于dao导致别的service也要考虑。
这个Service只管逻辑的也是贫血模型吗？充血模型有什么比较好的最佳实践吗？</div>2020-01-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/61/bc/a656bee7.jpg" width="30px"><span>唐二毛</span> 👍（1） 💬（5）<div>老师，我在DDD 的实践过程中，遇到两个问题: 1. 业务逻辑包含在Aggregate A中，而业务逻辑往往需要查询多个其他aggregate , 但是 Aggregate 又不能用 @Autowired 的方式来注入service&#47;repository, 所以我的做法是首先将依赖的aggregate 查询出来，再作为参数传入到处理业务的aggtegate A中，感觉这种做法并不是很好，因为查询aggregate B 的参数也是业务逻辑的一部分，所以无法真正将业务逻辑收在 Aggregate A 里面， 希望老师指点一下! 
2. 我们的aggregate 关联链条很长，A -&gt; B-&gt; ... -&gt; G , 并且，业务逻辑中往往需要用到这些关联的数据，如果用@ManyToMany的方式，就会使得 Aggregate 特别大，查询效率也很慢，还有就是循环依赖的问题，以前的做法都是用一个中间关联表来记录，但是这样好像是面向表编程，按照DDD，应该怎么设计呢？ 如何在Aggregate 中来实现这些业务逻辑呢？</div>2020-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/55/a9/5282a560.jpg" width="30px"><span>yic</span> 👍（0） 💬（0）<div>&quot;领域模型最核心的还是领域模型本身，通过领域实体及其交互完成业务逻辑处理才是 DDD 的核心目标。至于是不是用了 CQRS，是不是事件驱动，有没有事件溯源，并不是 DDD 的核心&quot;

领域模型的东西最近也是看了不少，发现老师的观点和我不谋而合 哈哈。 </div>2023-03-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/bb/88/2d4b475c.jpg" width="30px"><span>黄老板</span> 👍（0） 💬（1）<div>老师下面这段话说的很有道理，但是实际开发过程中就是存在各种伪需求客户要求实现，领导、产品不管什么设计模型不管合理性，就是霸王硬上弓就是要开发就算各种写死把代码弄的一团糟也要快速实现，这是很多中小企业目前为了生成而面临的现状，完全就是客户说啥就是啥，所以做开发越来越累了，各种无脑加班

上文原话如下：
在需求变更过程中，如果一个需求和领域模型有冲突，和模型的定义以及模型间的交互逻辑不一致，那么很有可能这个需求本身就是伪需求。很多看似合理的需求其实和业务的内在逻辑是有冲突的，这样的需求也不会带来业务的价值，通过领域模型分析，可以识别出这样的伪需求，使系统更好地保持一致性，也可以使开发资源投入到更有价值的地方去。</div>2021-06-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/93/ec/985675c8.jpg" width="30px"><span>小高</span> 👍（0） 💬（0）<div>在工作中也要努力提升作为一个程序员的编程技能和软实力。</div>2020-05-19</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/UuOV8OrMeRGuibY76OXzuBwOoL4Eru5VcFlctXlBDauibRUD0rXSsG1ibogBasmeDTbXdJOD4NGjTI2u5HAQK2bWg/132" width="30px"><span>X.L.</span> 👍（0） 💬（0）<div>如果能做一个项目从需求到拆解领域模型，到伪代码开发，并且有例子规范各个子域的互相调用方式就更好了</div>2020-03-23</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq8qpSvBoZz89u3BhGXWLibs2OibCkZl8bx74aLSJ58f467bR8anNaTiccJklcqjBdhfvvJpvLVmYesA/132" width="30px"><span>Haan</span> 👍（0） 💬（0）<div>大龄程序员 除了基本的技能之外，需要扎根于某一特定的领域。right？</div>2020-01-14</li><br/>
</ul>