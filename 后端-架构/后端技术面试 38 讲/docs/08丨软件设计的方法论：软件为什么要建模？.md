我们开发的绝大多数软件都是用来解决现实问题的。通过计算机软件，可以用高效、自动化的方式去解决现实中低效的、手工的业务过程。

因此软件开发的本质就是在计算机的虚拟空间中根据现实需求创建一个新世界。阿里的工程师在创造一个“500平方公里”的交易市场，百度的工程师在创造一个“一万层楼”的图书馆，新浪微博的工程师在创造“两亿份报纸”，腾讯的工程师在创造“数10亿个聊天茶室和棋牌室”。

现实世界纷繁复杂，庞大的软件系统也需要很多人合作，开发出众多的模块和代码。如何使软件系统准确反映现实世界的业务逻辑和需求？庞大的软件系统如何能在开发之初就使各个相关方对未来的软件蓝图有清晰的认知和认可，以便在开发过程中使不同工程师们能够有效合作，能够让软件的各个模块边界清晰、易于维护和部署？

这个由软件工程师创造出来的虚拟世界，是一个恢弘大气的罗马都城，还是一片垃圾遍地的棚户区，就看软件工程师如何设计它了，而软件设计的主要过程就是软件建模。

## 软件建模

所谓软件建模，就是为要开发的软件建造模型。模型是对客观存在的抽象，我们常说的数学建模，就是用数学公式作为模型，抽象表达事务的本质规律，比如著名的$E=mc^2$，就是质量能量转换的物理规律的数学模型。除了数学公式是模型，还有一些东西也是模型，比如地图，就是对地理空间的建模。各种图纸，机械装置的图纸、电子电路的图纸、建筑设计的图纸，也是对物理实体的建模。而软件，也可以通过各种图进行建模。
<div><strong>精选留言（23）</strong></div><ul>
<li><img src="" width="30px"><span>Paul Shan</span> 👍（10） 💬（1）<div>我想问一下李老师，像unix ，linux，等超大型的软件系统有没有这样的4+1的建模文档，多谢！</div>2019-12-06</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIibDIDT8fER3rKSjuPvVoUwFbrxftdVRr2g6NwD6eHnibof93eUngsTaf7EE8dYT4AaNBWXGcicEvZA/132" width="30px"><span>小鱼</span> 👍（0） 💬（2）<div>“在机械制图领域，一个立体的零件进行制图设计，必须要画三视图，即正视图、侧视图、俯视图”，老师，这点并不是哦，机械制图中，立体零件设计，一般只包含两个视图就够了，然后加上一些剖视图。极少数情况绘画三视图的。</div>2021-02-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg" width="30px"><span>小伟</span> 👍（29） 💬（6）<div>一个合格的架构师必须是一个合格的产品经理、一个合格的研发、一个合格的测试，架构师的职责就是基于公司的战略和资源定位产品的核心价值、基于业务做技术选型、规范和指导研发、构建各维度的测试。
如果我刚刚称为公司的架构师，我会和决策层统一公司的核心价值，并以PPT的形式体现承载价值的核心功能。达成一致后，召集全体研发、测试(如有)开会统一思想，包括产品功能、性能指标、版本管理、部署上线、交付时间等，都必须是可量化的。期间，可以发动群众集思广益，收集有建设性建议并和决策层讨论并最终定版，以产品功能说明书作为交付物。之后，基于终版功能及指标，做技术架构选择，以架构部署图作为交付物，并召集资深开会讨论，查缺补漏。之后，召集全体开发、测试(如有)开会，以使每个人都清楚自己的交付物和指标。之后，就可以开始功能迭代过程了。
综上，核心价值确定第一位，统一思想第二位，技术选型第三位，其他都可以见招拆招，或直接水到渠成了。</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/21/30/8ecce1e1.jpg" width="30px"><span>北天魔狼</span> 👍（16） 💬（0）<div>组织头脑风暴列出所有用户故事，根据用户故事业务关联划分领域模型，随后创建代码模型。这是我的理解结果，希望老师能予以点评</div>2019-12-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg" width="30px"><span>escray</span> 👍（6） 💬（0）<div>工作了很多年，有时候真的会忘记初心，就是通过计算机软件高效、自动的解决现实中低效、手工的业务问题。

在留言里面有同学提到，敏捷开发已经不需要建模和 UML 了，我之前也是这么想的，不过看了专栏的内容之后，我觉的软件建模和 UML 还是有必要的。

敏捷开发把软件建模的过程变得简单、轻量级了一些，在敏捷开发中也会提到“隐喻”，这本身也是一种模型。而 UML 在敏捷中其实也是有用到的，只不过不在追求画图时候的精细和准确，更注重沟通，比如不是用软件，而是用白板来画图（拍照存档）。

4+1 视图模型仍然是软件开发中不可或缺的方法，也许不那么明显，有时候可能没有形成文档，但是在架构师或者程序员的脑子里，应该是有的。

我觉的场景视图可能是 4+1 模型的核心，也可以看做是用例，或者敏捷开发中的用户故事。当然这一部分可能不是架构师的主要职责，而是产品经理或这是需求工程师的工作，但是架构师无疑是要理解用例场景的。

UML 的主要功能适用于沟通和思考。之前经历的一些项目，可能过于看重 UML 的精确程度，以至于花费了不少时间在画图上，而不是沟通和思考上。我感觉一张密密麻麻的 UML 图，其实很难做到“一图胜千言”的作用。

如果公司安排我做架构师，我会先了解一下用户故事或者是用例场景，然后根据公司现有的人员、技术和资源，罗列一下可能的技术选型和架构设计，形成一份用以讨论的架构设计文档，呈现给领导或者客户，当然这两份文档是不一样的。

面向开发团队的设计方案可能会更加细致一些，里面当然会有用 UML 绘制的 4+1 视图，但是估计会比较简单，能够沟通就可以了。</div>2020-09-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f3/a0/a693e561.jpg" width="30px"><span>魔曦</span> 👍（4） 💬（0）<div>架构师是介于实际问题与模型之间的一个角色，把客户需求转化为模型，然后把模型讲给开发，测试等。我理解产出需要按照纬度不同给出不同的图，比如面对客户让客户明白自己需求如何去解决落地，面对开发转化为工程设计如何落地，面对上级关注各方面进度等。沟通方向不一样，需要提供不同的视图。</div>2020-03-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/68/ed/b5a41e95.jpg" width="30px"><span>张明云</span> 👍（4） 💬（0）<div>① 和产品一起梳理产品需求，明确产品功能和目标
② 梳理框架图，抽象划分层次和模块
③ 梳理核心流程图将框架中各层的各模块串起来
④ 针对核心流程中关键的技术点做技术方案设计，包括技术方案验证、技术方案选型等，期间不定期共享技术方案给团队
⑤ 基于方案设计，梳理出各技术点理论上能做到的指标
⑥ 和开发人员一起落地技术方案，达成技术指标</div>2020-03-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/bb/88/2d4b475c.jpg" width="30px"><span>黄老板</span> 👍（4） 💬（2）<div>李老师，感觉这篇说的理论性的东西太理想化，现实开发中，一般就是写个功能需求文档，用rp原型软件画个界面原型，流程在说明一下，开发的几个人在一起碰一下，决定整体架构，功能划分下，带头的把大框架搭好，大家就开始干起来了，大部分都是这种情况，都是用敏捷开发的思路，最快的做出一个东西来，对领导也好交差，因为领导或者说客户他们一开始的时候常常也不知道自己需要的是什么，说了一堆也说不到重点，当你快速做了个东西后呈现在客户面前，这时候客户看着实物才会渐渐明确自己需要的是什么，他就会提很多修改的东西，然后开发小组根据客户反馈进行系统的迭代开发，当然这样会造成返工，但这几乎是不可避免的过程。</div>2020-03-07</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJPNsfvnqsB8eTbKgzwIOhcKkzCTUSoAyujl8MtiazpP07zUfboOaWJaZK2jfRVH6S2ibXEc7WIibufA/132" width="30px"><span>vega</span> 👍（4） 💬（1）<div>关键是公司或者客户自己都不知道要什么吧……</div>2019-12-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/84/4b/e4738ba8.jpg" width="30px"><span>delete is create</span> 👍（2） 💬（0）<div>希望老师举个具体的案例 来阐述建模，比如自己在开发什么软件什么功能的时候用到了建模这个方法  用了比不用强在哪里等等，太形而上的东西像我这样刚入行的菜鸟领悟不了0.0</div>2019-12-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg" width="30px"><span>丁丁历险记</span> 👍（1） 💬（1）<div>这些东西不能乱搞，很容易的就设计过度了。</div>2020-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/2e/8b/32a8c5a0.jpg" width="30px"><span>卡特</span> 👍（1） 💬（0）<div>软件建模理论
软件是为了解决问题领域而设计的软件系统
uml图是基本的建模方法
4+1视图
场景视图
逻辑视图
物理视图
开发视图
过程视图
是架构师输出的第一份工作成果</div>2020-02-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg" width="30px"><span>靠人品去赢</span> 👍（1） 💬（1）<div>首先是技术选型，微服务，分布式，分流控制都要考虑，保证以后面对更多的挑战。
第二是业务分析，不要陷入当前的业务，在更高的一个高度进行抽象，保证以后业务的可扩展性，现在不流行DDD吗
第三架构设计，确定大体的结构
最后是技代码设计，做到服务之间解耦</div>2019-12-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg" width="30px"><span>许童童</span> 👍（1） 💬（3）<div>现在公司都采用敏捷开发，很少画UML画了，我们都知道这样不好，但却没有人站出来，可能是缺少一个架构师这样的角色吧。</div>2019-12-06</li><br/><li><img src="" width="30px"><span>Geek_9b9530</span> 👍（0） 💬（0）<div>把握需求边界，定义领悟模型，业务视图开发视图展示要完成的工作。</div>2020-12-13</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epGhcTibyH7n2cj8y92kI3B6htwZHQaia7mBVEdC8MsOxShUcLODbwCJYIRwehbsmXzBicPdU4N0mW7Q/132" width="30px"><span>Geek_9f12f8</span> 👍（0） 💬（0）<div>UML能称为语言还有一个比较重要的特征，就是语言需要具备语言元素和约束元素的语法。UML的设计也依赖于此。</div>2020-06-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f5/b9/888fe350.jpg" width="30px"><span>不记年</span> 👍（0） 💬（0）<div>理解需求后先出一份系统概要设计，向领导呈现技术选型和软件粗略的架构设计，
然后是系统的详细设计，向同事呈现软件的详细接口设计，模块划分等
</div>2020-01-31</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAK6F4BFT5ewhJEeZrjmRx5HxP8tvnNpJcpLlotHiadp0s6aL3d7LfMHEuQP6tibu80wUy8micVu4oQ/132" width="30px"><span>InfoQ_e077cb303519</span> 👍（0） 💬（0）<div>老师，架构设计和流程设计的工具一般都用什么</div>2020-01-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3b/36/2d61e080.jpg" width="30px"><span>行者</span> 👍（0） 💬（0）<div>4 + 1视图模型法真赞；希望老师能在加餐中来一个完整的建模案例，相信对大家很有帮助。</div>2019-12-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg" width="30px"><span>堵车</span> 👍（0） 💬（1）<div>终于看到我想要看的东西，画图。做了5年的开发，还不知道怎么画图，要画哪些图。现在还在头疼，一个架构师要输出多少文档？接口文档，整体设计文档。。。</div>2019-12-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/20/5d/69170b96.jpg" width="30px"><span>灰灰</span> 👍（0） 💬（0）<div>打卡</div>2019-12-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/14/e1/ee5705a2.jpg" width="30px"><span>Zend</span> 👍（0） 💬（0）<div>没有统一的沟通语言，在软件设计的初期勾勒出软件模型，在开发的过程中真的扯皮比较多，真的很缺架构师，但为什么公司就没有这样一个角色，有时候出现连产品经理都没有，只有技术总监几句话，参照一下竞品，这样团队合作起来真的很麻烦</div>2019-12-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg" width="30px"><span>探索无止境</span> 👍（0） 💬（0）<div>感觉可以两篇的内容放在一篇来讲解</div>2019-12-07</li><br/>
</ul>