你好，我是海纳。

到目前为止，我们已经实现了 Python 虚拟机中最重要的四个基本类型，也就是整数、字符串、列表和字典。为了实现这些基本类型，我们已经完成了很多类和对象的相关机制。其中包括打印、比较等常规的通用操作，也包括对数据元素的增删查改，以及排序、遍历等操作。

接下来的三节课，我们准备实现完备的对象系统，从而实现面向对象编程的大部分能力。前边的课程，每一段代码都能实现一个具体的功能，但从这一节课开始，内容会变得有点抽象。如果你学一遍不能理解的话，也不用灰心，可以静下心来多读几遍，想一想如果这个特性让你自己设计还有没有更好方法。慢慢的你就能理解了。

面向对象编程这一部分包括自定义类型、运行时判断对象类型、继承、函数和操作符重载等特性。这一节课我们先从类型说起。

## 实现类型对象

从刚开始学习编程的时候，我们就一直在和类型打交道。例如，我们说一个整型变量，其实就是指某个变量，它的类型是整型。

不同语言对于类型的处理非常不一样。有的语言是静态编译阶段决定的，运行时不能再修改，有的语言则支持运行时修改变量的类型。有的语言不需要程序员指定变量类型，还有的语言有复杂的类型推断系统帮助程序员简化开发。总之，每种语言对自己的类型系统都有独到的设计。那 Python 中的类型是如何设计的呢？
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/05/92/b609f7e3.jpg" width="30px"><span>骨汤鸡蛋面</span> 👍（2） 💬（1）<div>是不是可以认为
1. 从c++视角出发实现一个“编程语言（解释器）”的业务，该如何抽象？一般面向对象，所有对象都有一个公共父类（比如叫object），因为在上层使用看来，即便一个python对象没有数据和方法，但是c++解释执行的时候，对应的c++对象要有一些解释执行时会用到的数据、方法。 
2. 如果编程语言只支持int&#47;str&#47;list&#47;dict等基本类型，则使用Kclass&#47;HiObject抽象就够用了，代码里声明一个int，解释器就对应创建一个HiInteger 就行了。只支持基本类型肯定不够，得允许用户扩展，但也不可能让用户直接定义Kclass&#47;HiObject，于是放开给用户定义TypeKlass，再支持根据TypeKlass 生成HiTypeObject（将类型作为函数调用来创建对象），HiTypeObject再作为 Klass 的成员。 </div>2024-06-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/3b/59/44/727b90a8.jpg" width="30px"><span>冯某</span> 👍（0） 💬（0）<div>记录一下</div>2024-12-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>学习打卡</div>2024-11-02</li><br/>
</ul>