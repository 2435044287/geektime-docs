你好，我是海纳，一个热爱钻研编程的技术老兵。欢迎你加入这个专栏，和我一起探究Python虚拟机的底层奥秘。

屈指算来，我从事编程语言虚拟机和编译器的开发工作已经十余年了。特别是在华为的这些年，我的主要工作就是开发和维护各种动态语言虚拟机，其中包括Python 虚拟机、JavaScript 虚拟机和 Java 语言虚拟机 Hotspot等等。最近一段时间因为AI的大火，我又开始转战网络设备中的静态编译器以及 AI 编译器的开发。

因为在这个领域钻研的时间比较久，很多相关的知识也就自然而然地沉淀下来了。所以我也有幸把这些知识凝结成了文字，出版了《自己动手写 Python 虚拟机》一书，并在极客时间上撰写了专栏[《编程高手必学的内存知识》](https://time.geekbang.org/column/intro/100094901?utm_campaign=geektime_search&utm_content=geektime_search&utm_medium=geektime_search&utm_source=geektime_search&utm_term=geektime_search&tab=catalog)。可以说这些都是我多年经验的一个精华版，我在华为带新人的时候，就是通过这些知识帮助一个又一个的新员工快速融入编译器开发团队的。

## 我们为什么要手写Python虚拟机？

其实我之前一直在想怎样才能又快又扎实地掌握编译器、虚拟机这些底层的核心技术，也尝试过很多方法，后来经过反复试验我发现**自己动手写一个虚拟机是学习编译器最好，也是最直接的方法**。

### 传统高校课程与工业级编译器的鸿沟

但恰恰这也是传统教育中缺失的一块内容，**现在高校传统课堂中的编译器课程和工业界真正可商用的编译器还有非常大的差距**。编译器开发涉及到中间代码生成与优化、目标代码生成以及与具体硬件平台相关的存储管理、指令集架构等知识，内容复杂且技术细节多样化。高校课程很难在短时间内把这么多内容都教授给学生。
<div><strong>精选留言（17）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/ec/3e/885ec1d2.jpg" width="30px"><span>宋不肥</span> 👍（8） 💬（1）<div>《从零开始写Linux内核》会开专栏嘛！</div>2024-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a2/57/219503c1.jpg" width="30px"><span>xiaoq</span> 👍（4） 💬（1）<div>从内存专栏过来的，干货多质量高，每篇都可以细读好几遍，kernel也期待一波。</div>2024-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2a/29/ab/59a6e437.jpg" width="30px"><span>Kevin</span> 👍（4） 💬（1）<div>新书《从零开始写Linux内核》啥时候上市呀？好想来一发真的。</div>2024-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4a/5a/c9e70aec.jpg" width="30px"><span>yeyuliunian</span> 👍（3） 💬（7）<div>c++语言实现？</div>2024-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg" width="30px"><span>浩仔是程序员</span> 👍（3） 💬（1）<div>非常期待！</div>2024-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/30/ec/58/7948ea79.jpg" width="30px"><span>胡歌衡阳分歌</span> 👍（3） 💬（1）<div>这个课多久更一节哇！</div>2024-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/86/73/5190bbde.jpg" width="30px"><span>苏果果</span> 👍（3） 💬（1）<div>哇噻！这个带劲！追更追更！</div>2024-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/61/b8/7b23f8cb.jpg" width="30px"><span>本来是亚</span> 👍（2） 💬（1）<div>又到了学习时刻</div>2024-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/70/e7/82cd831d.jpg" width="30px"><span>Timothy</span> 👍（1） 💬（1）<div>第一次也是第一门从刚开始更便加入的专栏课程，今晚被海纳老师的专业能力所吸引，也跟老师有一些相似经历，果断在直播期间就购买上车，也立个flag，势必要把这门课的知识内容好好消化完，在老师带领下写自己的第一个Python虚拟机......</div>2024-05-15</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKw8ictgYcqf6vA0VtY9iabwS2nuZ4b46RvTW8FTe9VdjouiarROhqzxdia7H65tUw65tkibyeu8a4AHDw/132" width="30px"><span>Geek_b0e84e</span> 👍（0） 💬（1）<div>AI编译器会有加餐介绍吗</div>2024-06-12</li><br/><li><img src="" width="30px"><span>Geek_415e82</span> 👍（0） 💬（1）<div>请问课程微信群在哪里</div>2024-06-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg" width="30px"><span>神经旷野舞者</span> 👍（0） 💬（1）<div>AI编译器和传统编译器的差别较大吧，只有编译流程差不多，但是AI编译器的优化及种种并行矩阵计算，这个传统编译开发也不一定能技能迁移？</div>2024-05-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/04/0d/3dc5683a.jpg" width="30px"><span>柯察金</span> 👍（0） 💬（1）<div>会从前端开始讲起吗</div>2024-05-13</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIofiaCAziajdQnbvrfpEkpCKVFgO62y6zicamhjF1BAWZSRcCVaTBXLIerLsGeZCic7XS7KOEkTN4fRg/132" width="30px"><span>zahi</span> 👍（0） 💬（1）<div>是不是任何语言都可以实现虚拟机，区别只是性能问题？</div>2024-05-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c5/52/63008fc7.jpg" width="30px"><span>xuwei</span> 👍（0） 💬（0）<div>之前在知乎上关注到海纳老师的，没想到在极客时间看到了老师课程。拿下学习。</div>2024-11-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>学习打卡，非常期待</div>2024-10-12</li><br/><li><img src="" width="30px"><span>Geek_722279</span> 👍（0） 💬（0）<div>微信群怎么加</div>2024-09-23</li><br/>
</ul>