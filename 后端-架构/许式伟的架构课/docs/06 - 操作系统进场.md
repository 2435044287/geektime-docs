你好，我是七牛云许式伟。

在编程语言出现后，软件生产效率得到了大幅度的提升。随着越来越多软件的出现，自然而然就诞生了多个软件如何共处，也就是软件治理的需求。比如下面的这些需求场景。

- 多个软件如何同时运行（多任务的需求）？
- 多个软件如何共同使用计算机上的存储空间（内存管理、文件系统的需求）？
- 多个软件如何共同使用同一个外部设备（设备管理的需求）？
- 多个软件如何相互通讯，如何进行数据交换（进程间通讯、共享内存的需求）？
- 病毒、恶意软件如何治理（安全管理的需求）？

如果没有一个中间的协调方，软件与软件之间并不知道彼此的存在，你不难想象出，这种没有统一规则约束下的场面，会有多么凌乱。

于是，操作系统就出现了。对于软件而言，它像一个大法官，制定规则并据此约束大家的行为。

## 操作系统的启动过程

操作系统是怎么获得执行权的？

这是计算机主板ROM上的启动程序（BIOS）交给它的。

计算机加电启动后，中央处理器（CPU）会从一个固定的存储地址加载指令序列执行。通常，这个固定的存储地址指向计算机主板的ROM上的一段启动程序（BIOS）。这段启动程序通常包含以下这些内容。

- 存储设备的驱动程序，用以识别常规的外置存储设备，比如硬盘、光驱、U盘。
- 基础外部设备的驱动程序，比如键盘、鼠标、显示器。
- 设备和启动配置的基础管理能力。
- 支持执行外置存储中引导区的机器代码程序。
- 跳转到外置存储引导区的固定地址，把执行权交给该地址上的引导程序。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/15/5b/79/d55044ac.jpg" width="30px"><span>coder</span> 👍（80） 💬（7）<div>许老师，您好，虽然自己是科班出身，但是对于下面这个问题困扰了我很久：
1. 一般来说程序的运行需要OS的支撑，那么在BIOS之前，选择运行哪个操作系统那一段程序是怎么运行的？再问一句，编译器可以独立于操作系统运行吗？
2. 可以用C语言去实现很多其他的语言，比如说python, go等，那在C语言之前，这么一直追寻下去，会衍生成鸡生蛋的问题。但是编程语言又具有自举的功能，那自举是怎么实现的？e.g. 目前版本的go核心实现中，很多是用go本身实现的，它是怎么做到自己编译自己的？</div>2019-05-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a0/27/bdc6307d.jpg" width="30px"><span>晓凉</span> 👍（39） 💬（3）<div>隐隐感觉到架构的主要难点在于对需求的前瞻性判断，这要求的不仅仅是技术能力。目前几乎所有的架构课程，都是基于确定的需求来讲技术架构，例如秒杀系统怎么做高可用高并发。能听到许老师这么高视角讲架构，实在幸运。</div>2019-05-04</li><br/><li><img src="" width="30px"><span>gbfa</span> 👍（23） 💬（1）<div>这种对需求的前瞻性探索挺重要，但同时感觉也是最难的，应该如何培养呢～</div>2019-05-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/ff/8c/a6a2b26b.jpg" width="30px"><span>Cordova</span> 👍（14） 💬（2）<div>根据老师的理论过程来看，个人觉得操作系统它是一个没有明确边界的，只有放在历史（时间）的维度上它才有边界的表现，其实也不需要去深究其边界、在pc时代互联网的出现的确让人感觉浏览器赋予了不同反响的历史使命，以后将发挥更大的价值，移动时代发现我们所需要的内容不仅仅可以在浏览器上才能获取到，在不同的内容平台也能获取到自己想要的内容，而现在正是如此、要说操作系统的下一次演进、我想只有两个方向：更具有便携性、个性化的硬件产品出现了，这会进一步催生… 历史好像就是这样的，但实际是软件反推动硬件（第二个方向）：信息数据格式和渲染出现了新的表现形式。浏览器就让他一直停在pc时代随着pc演进吧、app就让他跟着移动端的脚步继续前进吧。至于以后，微系统-多联网、也许是下一步吧、这又将催生出怎样的新生态～ 拭目以待！</div>2019-05-09</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKn6UQ5EdibhbhFiauWKZQiae4jgmm0g6DwS99RibcdqbZp0LMrIXCbOLS0eTKy5tYj83icbTGStAStGCQ/132" width="30px"><span>frostawn</span> 👍（12） 💬（3）<div>许老师，小白请教个很困惑的问题。
为什么pc可以有兼容机，让操作系统windows收费或者linux免费各占半壁江山，但是手机不能有兼容机呢，而说手机是个性化产品，不能标准化，他们再怎么个性，也脱离不了前面讲过的冯诺依曼体系吧。而且现在现实也是有安卓和ios两大阵营。所以并不是技术上没做到兼容，而是商业盈利模式的区别，ios可以利用支付闭环将流量变现，安卓拿不到支付系统的控制权无法做生意盈利。
请您指教。谢谢！</div>2019-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/d3/93/bef5a186.jpg" width="30px"><span>苟范儿</span> 👍（12） 💬（1）<div>老师现在主要提到的是终端（PC&#47;Mobile）类的操作系统. 当前的云计算底层的系统，以及未来 IoT 边缘系统会有什么特殊之处么？</div>2019-05-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg" width="30px"><span>Smallfly</span> 👍（7） 💬（1）<div>许老师，我今天重新回顾了一遍这篇文章，以需求为出发点的写法，给读者的印象更加深刻，也更好理解，非常赞。但是我有两个问题想请教：

1、
对于六大系统的划分，文件和内存被统一为存储管理，为什么不把输入输出合并为设备管理呢？后面也都只是放一篇文章讲的。

2、
如何理解 PC 兼容机？是指 PC 能运行 Windows 和 Linux 么？而像三星小米只能运行 Android，iPhone 只能运行 iOS，所以不是兼容机？ </div>2019-06-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/3d/77/45e5e06d.jpg" width="30px"><span>胡鹏</span> 👍（6） 💬（1）<div>老师: 大概两个月前听到这篇文章, 期间在做spark相关的需求, 从中了解到程序开发的时候, 很多情况下需要花大把的精力来考虑分布式的问题

操作系统的出校是为了治理软件:   分布式系统的出现, 是为了解决单个机器无法完成的超大存储或者运算.

现在确实已经出现了相应的软件, 比如spark就是分布式计算, 区块链就是分布式存储.

同是目前在学习k8s, 发现k8s也是为了治理分布式软件的.   

但是目前却没有一款 操作系统 能够把分布式计算和分布式存储统一起来, 封装在底层,
 从而使软件开发更多就需要关心业务, 而不用太多的考虑分布式问题

我认为 分布式操作系统 大有可为, 但是目前还没有发展到这个层面还是说很多人都考虑到了,  但是有什么技术限制之类的?</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/cd/f6/ee383eab.jpg" width="30px"><span>apk</span> 👍（4） 💬（1）<div>对于“PC无法摆脱操作系统控制但是手机厂商可以摆脱Google的控制形成自己的商业闭环”这一点不是明白？
Pad、一体机这些能不能也形成自己的商业闭环呢？</div>2019-05-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/d1/b0/09134acd.jpg" width="30px"><span>crazier.huang</span> 👍（3） 💬（1）<div>操作系统软件服务的治理，那到底治理的是什么。像现有Spring的架构他事实上也提高了治理。但两者治理是截然不同的，那么治理最核心的概念又是什么</div>2019-08-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/6b/76/357291e1.jpg" width="30px"><span>冰块</span> 👍（3） 💬（2）<div>操作系统会因为浏览器退出历史舞台吗</div>2019-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/aa/08/f8d63206.jpg" width="30px"><span>Geek_f26a61</span> 👍（3） 💬（1）<div>老师写的不错，例子也恰当，只是花的篇幅有点儿多。</div>2019-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3a/d3/c273ee50.jpg" width="30px"><span>程序员Artist</span> 👍（2） 💬（4）<div>想到一个问题，希望老师解答。在pc互联网时期，操作系统被浏览器屏蔽了，然后搜索引擎把浏览器又屏蔽了，为什么到移动互联网的时候，都改用直接打开app了，不怎么用浏览器或搜索作为入口了。本质原因到底是啥？是屏幕大小、os和应用厂故意、还是延时和安全有更高的要求...</div>2020-06-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/2e/2c/b721f00c.jpg" width="30px"><span>Chris 彭慧娇</span> 👍（1） 💬（1）<div>许老师您好，作为没有开发背景的人员，想成为架构师，该如何开始呢</div>2021-04-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/fc/34/c733b116.jpg" width="30px"><span>何磊</span> 👍（1） 💬（1）<div>老师的课程收益很多，感谢
不过这里说是软件治理，我觉得叫进程治理是否更贴切？</div>2020-07-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg" width="30px"><span>escray</span> 👍（0） 💬（1）<div>这一篇看起来似乎要轻松一点，有点微言大义的味道，那个“人形”示意图也很有意思。

操作系统解决了软件治理（进程、存储、输入、输出、网络、安全）和基础编程接口的问题。

早期 Windows 的操作系统是付费的，而 MacOS 似乎不用付费，因为是和硬件绑定的。现在感觉似乎 Windows 也大多是预装的，费用也并不高。

估计没有人能够预料到支付会成为操作系统的核心子系统，主要是以前的网络和硬件上没有办法支持支付功能。其实我觉的现在可能也不完全算是操作系统的一部分，比如是微信或者支付宝的核心功能。

假设没有类似 App Store 或者 Android Play 类似的软件分发系统，但是仍然可以从软件开发商哪里付费购买，就是账号加支付，弱化应用市场，似乎也是可以的。

对于思考题，操作系统对于一般用户来说，只是应用和底层硬件的中间层，几乎可以忽略不计，而浏览器其实也可以起到类似的作用，不论是 Windows、Mac OS 或者是其他操作系统，如果只在浏览器内操作，几乎可以将浏览器和操作系统视作一体。

搜索引擎是网络上页面的检索工具，类似于操作系统上的资源管理器。

移动时代的浏览器，变成了各家相对独立的应用，并且还不能使用统一的搜索工具，其实我不是特别认可。但是在手机上，微信似乎已经成为了新的“操作系统”。</div>2021-10-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/77/a5/c5ae871d.jpg" width="30px"><span>zenk</span> 👍（0） 💬（2）<div>“其次，iOS 操作系统引入的 “账号 - 支付 - 应用市场” 的收税模式，受益方是硬件（手机）厂商，而非操作系统厂商。”

这个不理解，收益方为什么是硬件厂商，求解答</div>2019-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg" width="30px"><span>Eternal</span> 👍（0） 💬（1）<div>老师可以讲讲华为最近推出的 鸿蒙操作系统吗？如果5G时代网络io不再是数据传输的瓶颈，云计算拓宽了终端的算力，是不是当前的苹果安卓系统都会被颠覆？如果量子计算机未来真的应用成功了，我们计算机领域的所有体系结构都要重写一遍？期待老师的回答😄😄😄😄</div>2019-06-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c3/fc/791d0f5e.jpg" width="30px"><span>杨寅冬</span> 👍（0） 💬（1）<div>老师，请问最新的微软升级版本，沙盒技术，是一种容器技术还是嵌套虚拟化技术，微软和Linux走的越来越近，可以在后面章节讲讲微软和Linux系统，以及未来的操作系统发展趋势或者技术演变趋势吗？</div>2019-06-03</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ervibq6rGbag7xQuiaBUMaSwThic1bCr2AIDVQvRwYbBhhhOdpNq9HZQiaSfKejRTkoN1NWpee9MYXoRQ/132" width="30px"><span>枯荣</span> 👍（0） 💬（1）<div>不知是否受已有知识的影响，觉得现在这种软件架构分层挺好的，各司其职，驱动负责外设与操作系统的传话人，操作系统拥有硬件资源的控制权，应用程序只是操作系统的租户，可以存在上面但要守规则，如果操作系统要侵入业务，我觉得只是商业上的操作，增加一些特定业务领域的能力提供给应用方，但应该不影响现有架构？</div>2019-05-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ba/cb/f1355b40.jpg" width="30px"><span>川</span> 👍（0） 💬（1）<div>「操作系统不涉足互联网内容？这是不可能的。应用市场（AppStore）其实就是典型的互联网内容；」
AppStore应该不算OS的一部分，而且OS在出厂自带的一个app。</div>2019-05-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/21/c0/38816c31.jpg" width="30px"><span>春之绿野</span> 👍（0） 💬（1）<div>操作系统管理本地软件，浏览器管理互联网内容，搜索引擎是互联网内容的入口。到移动互联网时代，生态以应用为主，浏览器和搜索引擎的作用都弱化了。</div>2019-05-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/96/0f/d9d878f8.jpg" width="30px"><span>leros</span> 👍（0） 💬（1）<div>Chromebook上浏览器即操作系统，连管道的机会都不留，但受制于网络环境，很多个性化需求还是无法得到满足，高端市场占有率有较低，不知5G的普及能否助其一臂之力</div>2019-05-12</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYfcUOVhf3vhEBUNGHgtIcw8ujMZnkabicLzzjn3xwdeeic2PJSe7ibJgMx2UjF0d7L4B4gsRpaqe2A/132" width="30px"><span>郭小菜</span> 👍（107） 💬（0）<div>老师，请收下我的膝盖</div>2019-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/12/1f/798b1642.jpg" width="30px"><span>Jiayp</span> 👍（68） 💬（1）<div>这才是从需求出发，以前学操作系统，上来就讲有哪些操作系统，操作系统的实现，从来没有考虑过，操作系统到底要实现哪些需求</div>2019-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg" width="30px"><span>公号-技术夜未眠</span> 👍（27） 💬（4）<div>1 操作系统、浏览器和互联网搜索引擎的关系是什么？
随着技术的更迭，Web应用程序已经成为主流的软件形态，而浏览器是运行web应用程序的容器（传统的二进制应用程序也已被支持）；因此，浏览器已然成为PC时代的访问入口，从分层的技术架构上来看，操作系统已成为浏览器的底层，而浏览器已成为操作系统的入口，用户甚至无法感知操作系统的存在，所以从未来的发展趋势来看浏览器完全可以取代操作系统。
搜索引擎是浏览器上杀手级的高频应用。在PC时代，已然成为流量的漩涡。

2 移动时代的浏览器会是什么样的？它和操作系统的关系又是如何？
移动时代，浏览器就是操作系统上的一个普通App，其重要性较之PC时代已经下降不少；因为浏览器的部分作用已被各类垂直化的应用App所代替。App在移动时代较之浏览器一个突出优点就是用户体验更好。随着5G时代的来临，个人愚见是移动浏览器会焕发新一春。</div>2019-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/f6/08/ecf5d724.jpg" width="30px"><span>Enthusiasm</span> 👍（19） 💬（0）<div>关于操作系统，浏览器，搜索引擎，可以归结为平台产品。我并不认为每个架构师都有机会做出一款平台产品，而且，我认为平台产品还是类似于基础服务，并不能带来很高的收益，获得收益关键是如何形成一个商业闭环，让钱乖乖流进来。操作系统已然形成不了技术壁垒，也就起不到商业壁垒的目的。未来能形成商业壁垒的，我认为是产品差异化，物联网时代想方设法做出新产品的机会还是蛮多的。微信小程序想让所有程序都集成到微信里，我只想呵呵。微信直接开发个操作系统卖微信手机得了，互联网的流量思维，割韭菜，羊毛出在狗身上猪来买单的思维，我认为是一种浮躁。过去的3q大战，IE和网景大战，共享单车，打车补贴大战，谁真正称得上商业成功？百度成了莆田系的帮凶，谷歌当初要不及时悬崖勒马也晚节难保。踏踏实实做一个良心企业，这样的成功才称得上真正的成功。</div>2019-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg" width="30px"><span>好好学习</span> 👍（16） 💬（0）<div>k8s正在接管集群操作系统的角色，服务治理是它根本停不下来</div>2019-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/f6/08/ecf5d724.jpg" width="30px"><span>Enthusiasm</span> 👍（16） 💬（1）<div>老师您的意思是让我们一上来就多考虑一下系统的“收费需求”或者“商业模式”。嗯，很好。总结一下各个公司的成功途径，就是先要满足大量刚需或者打破现有商业壁垒，然后靠技术、工艺和法律形成新的商业壁垒迅速崛起，最后依靠积累的用户基数和粘性，获得规模效应，开发新产品以获得更高的溢价等等。
做硬件和做软件要相结合，只做上游服务并不能形成良好的商业闭环，所以IoT+人工智能我认为很有发展前景。非常希望NAS存储能走进千家万户，360网盘停止服务，百度网盘的限速，内容失效，且网盘内容无法保证隐私性，我妈妈的手机内存很小，经常需要清理内存，如果每天回到家都能自动把照片视频备份到私有云盘就好了。这些让我觉得，每个家庭有一块属于自己的私有云盘，是将来的刚需。现在NAS用起来没有那么智能和方便，我认为IoT+人工智能可以去做出个像样的可扩展迭代的NAS品牌。
我想做的还有很多，平时想起一个就把它记在OneNote里，将来有天想创业了，刚好是个项目。只不过，现在要从技术上朝着架构师方向努力！</div>2019-05-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg" width="30px"><span>Eternal</span> 👍（7） 💬（0）<div>老师最后的思考题我有这样的思考：从资源的使用方式来看。1.当互联网还不发达的时候，用户在操作系统上只能通过客户端软件与外界交互，剩下的只能做本地操作，使用的资源少，资源的表现形式少，用户与外界交互少。2.当万维网出现，用户可以用浏览器这个载体使用到更多的资源，资源表现形式更丰富，交互也增多，这个时候浏览器适新形式下用户对资源的使用。3.当互联网发现一定阶段后，网民数量暴增，资源多得用户只通过人力就可以先到想要的资源是不可能的了，这个时候搜索引擎是给用户进入整个网络，使用巨量资源的新的当时，现在如果上网你不用搜索引擎你怎么查资料？所以总结，我认为是资源的数量，资源表现形式的变化，人与计算机，人与网络的交互方式更加多样导致操作系统演化出浏览器，当资源庞大后才有了搜索引擎。

其实还可以换个角度
1.全球人口的增大，全球经济的增长，导致网民数量增大，使用网络的需求指数级增大，催生了信息技术的发展。
2.人是社会群里动物，有天生的沟通交流的需求，互联网和移动互联网突破了大自然的屋里空间和时间空间的限制
3.当前人工智能又在改变更多的基础限制，正在突破人脑的智力极限</div>2019-07-20</li><br/>
</ul>