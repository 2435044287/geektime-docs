你好，我是七牛云许式伟。

前面我们多次提到过，架构的第一步是需求分析。那么，为什么要做需求分析？如何做好需求分析？

今天让我们一起聊一聊需求分析这个话题。

## 关于需求分析的那些事

为何要做需求分析？

**首先**，当然是因为我们做软件本身就是为了满足用户需求。那么，用户需求到底为何，我们需要清楚定义。

**其次**，需求边界定义的需要。用户需求理清楚了，不代表产品理清楚了。用户需求的满足一定会有行业分工，我们做什么，合作伙伴做什么，需要厘清大家的边界。

**最后**，架构设计的需要。架构需要切分子系统，需要我们梳理并对用户需求进行归纳与抽象。架构还需要防止过度设计，把简单的事情复杂化。

但什么是过度设计？不会发生的事情你考虑了并且为它做足了准备，就是过度设计。所以判断是不是过度设计是很困难的，需要对需求未来演化有很强的判断力。

从这几个维度来看，需求分析过程必然会涉及以下这些内容。

- 我们要面向的核心用户人群是谁？
- 用户原始需求是什么？最核心问题是哪几个？
- 已经有哪些玩家在里面？上下游有哪些类型的公司，在我们之前，用户是怎么解决他们的问题的？我们的替换方案又是怎样的？
- 进而，我们的产品创造的价值点是什么？用户最关注的核心指标是什么？
- 用户需求潜在的变化在哪些地方？区分出需求的变化点和稳定点。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2EN4oqKlaehjAYibbVjk52wBF8CXcLquwIZAAFLrGfLAaoicKeRnibcVrZDW3hwiafVuoT1lrdibpfAA/132" width="30px"><span>Geek_dxm</span> 👍（79） 💬（1）<div>架构的设计是宏观的，但是要落到实处是微观的，在考虑架构的时候，我觉得还要装着目前团队的资源、战略、技术结构等，要看是否需要变化，从宏观来设计，从微观来验证，反复循环，才能落到实处。我和同事经常说的一句话，没有落到实处的架构设计，就相当于没有设计。</div>2019-06-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/ff/8c/a6a2b26b.jpg" width="30px"><span>Cordova</span> 👍（43） 💬（1）<div>产品的一体两面很赞同！另外我也觉得产品和架构方面负责人都有责任让自己的团队去知道产品当前的定位、上下游关系、产品边界、功能边界、帮助团队每一位成员理清楚稳定需求、扩展需求、和未来可扩展需求的方向，理清楚满足这些需求已使用技术方案、和可使用技术条件，这样，我们每个成员都能思考这个产品是什么，做什么，会成什么样，以及我该有怎样的技术储备，而不是上班简单完成任务，下班随意学习这样一个状态。谢谢许老师的分享！</div>2019-06-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/08/f6/76285598.jpg" width="30px"><span>小风</span> 👍（16） 💬（2）<div>对这章内容深有同感，我们团队通过几年的实践和反复总结也逐渐认识到需求分析的重要性。对于常规的业务应用系统，需求&#47;产品人员往往按照用户提出的需求做出原型，设计&#47;开发人员基于界面原型完成接口设计和开发。实际上，需求人员并没有真正去分析用户需求背后隐含的根源需求，而设计人员也没有意识到他所谓的接口只是和界面耦合的实现，完全体现不出稳定通用的业务内核。导致的直接结果就是界面层次的频繁变动连带后台服务的不断修改。究其一点原因，现在很多开发人员入门的时候(很多需求人员也是从开发转过去的)，面对的就是mvc,orm等各个层次成熟的框架和组件，设计开发系统就是熟练运用这些框架和组件实现功能，逐渐逐渐也就潜意识地认为设计就是组合使用这些框架和组件，去从框架的角度做需求和设计来迎合框架的使用，从而也就忽视了或没有意识到真正的需求分析和设计应该是什么。</div>2019-09-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/cf/97/fcd8957d.jpg" width="30px"><span>82</span> 👍（6） 💬（1）<div>老师好，以下是我的理解。
感觉需求分析的过程就是架构产品的过程。抽象最核心最根本想解决的问题点，围绕它构建产品模型。

技术设计感觉像是根据产品模型构建领域模型，将大的问题分解成小的领域模型处理的过程。

另外，以前在设计时总是脑补可能的未来场景，想着如何兼容拓展，进而带出一堆暂时用不上的设计。这种过度设计也许就是对产品需求理解的不深吧。

我想也许是宏观上的架构一定要考虑长远发展，相对具体的业务要结合具体需求设计，切记避免过度设计。</div>2019-06-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/b9/8d/00bded19.jpg" width="30px"><span>不温暖啊不纯良</span> 👍（5） 💬（1）<div>需求分析是架构设计的前置条件，所以作为一个开发人员，一定要想办法接触业务，进一步接触需求，更进一步接触用户。

就算是写代码，也是需要设计的，记得自己有一次在准备做一个新功能的时候，在没深入了解需求之间前，我的关注点在如何写代码上，后来又了解了一遍需求，回来之后就把自己写到一半的代码删了，因为我发现要满足这个新需求，根本不需要重新写一个新功能，只需要稍微改一下页面的交互方式就能够满足，在正确理解需求的前提下，就算你的效率低，你的进度也是一直往前的，最可怕的事情不是你做的慢，而是因为你干脆就做错事情了，在错误的方向上效率越高不就越糟糕嘛。

总结一下老师的分析需求的方法论。

第一，你要不断让自己更靠近需求的源头。

第二，在收到需求之后要分析这个需求是原汁原味的需求，还是已经被加工了的需求，如果是后者，那就要继续追问，寻求最根源上的需求。

第三，归纳整理收集到的需求，然后，选择你所要服务的人群，找到自己产品的核心。

第四，预测需求日后的变化，提前在这些地方做出可扩展性的设计。</div>2021-04-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/d2/a9/96a4b321.jpg" width="30px"><span>peter</span> 👍（4） 💬（1）<div>老许，我最近在写c，对.h文件中函数的申明，认为自己做的一直不满意。但又找不到好的需求分析模板或方法。您今天说的需求分析比较庞大，我的问题相对小一点。我的理解，编写.h头文件，本质是在将需求分析翻译成代码的过程。希望关于这个点，能听听您的建议。</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/a2/5e/3871ff79.jpg" width="30px"><span>迷途书童</span> 👍（2） 💬（2）<div>许老师： 你把产品，需求，技术三者的关系 形容成 产品是一座桥连接了技术和需求，这个比喻不太好，会给人感觉产品就像一个媒婆， 连接了男方和女方。 实际上产品是最终的一个输出或者目标，技术是一个手段， 按照需求的定义 用来实现这个目标的。 桥这个这个比喻无法直观体现手段与目的这个关系</div>2019-06-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/dc/e5/d07c38fa.jpg" width="30px"><span>panqing</span> 👍（1） 💬（1）<div>请问老师，&quot;我们要避免把行业方案视作产品的一部分。&quot;的意思是说 产品本身作为一层，然后再加上一层，这一层把产品整合到企业的行业方案，是这个意思吗？</div>2019-09-30</li><br/><li><img src="" width="30px"><span>Geek_88604f</span> 👍（1） 💬（1）<div>注意的是，在讨论需求的变化点和稳定点的时候，我们需要有明确参考的坐标系。在不同视角下，稳定点和变化点的判断是完全不同的。老师能不能举个例子？</div>2019-06-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/62/4a/96b8544f.jpg" width="30px"><span>在路上</span> 👍（1） 💬（1）<div>关于需求分析那些事儿中的[其次]部门
[用户需求的满足一定会有行业分工，我们做什么，合作伙伴做什么，需要厘清大家的边界。]
厘清应该为理清吧。</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/65/70/7e137498.jpg" width="30px"><span>FOCUS</span> 👍（0） 💬（1）<div>看了那多篇课程，一直都未能理解稳定点，到底是什么来着。
从产品的角度去看，那就应该是价值观？例如，冯诺依曼的计算体系，稳定点就是「计算」？</div>2022-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/d3/93/bef5a186.jpg" width="30px"><span>苟范儿</span> 👍（21） 💬（1）<div>”产品是桥，它一端连接了用户需求，一端连接了先进的技术“，老师这句话对技术、产品、需求关系的描述太精辟了～</div>2019-06-12</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eop9WylZJicLQ5wib49kcMPqCTRT1aThh6mMAVl6qseLwbVOLhicVLjZCxCoyQd5CrrHHibs2CVPaoK3g/132" width="30px"><span>ljf10000</span> 👍（16） 💬（1）<div>产品经理和架构师是一体两面，这句总结得牛</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/4e/85/d425c99f.jpg" width="30px"><span>潘华引Simon Pan</span> 👍（11） 💬（0）<div>用思考的方式去记忆</div>2019-06-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/96/78/eb86673c.jpg" width="30px"><span>我在你的视线里</span> 👍（11） 💬（0）<div>架构更多的是宏观的东西。看未来远不如看过去清楚。心里装着用户。最好的架构应该是符合人的本能。</div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg" width="30px"><span>李二木</span> 👍（4） 💬（0）<div>为何要做需求分析
1)    因为我们做软件本身就是为了满足用户需求。用户需求到底为何，我们需要清楚定义。
2)    需求边界定义的需要。用户需求理清楚了，不代表产品理清楚了。用户需求的满足一定会有行业分工，我们做什么，合作伙伴做什么，需要厘清大家的边界。
3)    架构设计的需要。架构需要切分子系统，需要我们梳理并对用户需求进行归纳与抽象。架构还需要防止过度设计，把简单的事情复杂化。

需求分析过程必然会涉及以下这些内容
1)  我们要面向的核心用户人群是谁？
2)  用户原始需求是什么？最核心问题是哪几个？
3)  已经有哪些玩家在里面？上下游有哪些类型的公司，在我们之前，用户是怎么解决他们的问题的？我们的替换方案又是怎样的？
4)  进而，我们的产品创造的价值点是什么？用户最关注的核心指标是什么？
5)  用户需求潜在的变化在哪些地方？区分出需求的变化点和稳定点。

如果架构师只是被动地接受产品需求不利原因在于两点
1)  用户需求的深层理解是很难传递的
2)  产品设计过程需要架构师的深度参与，而不是单向的信息传递。产品经理非常需要来自架构师的建设性意见

怎么做需求分析
1) 心态第一，心里得装着用户
2) 对问题刨根究底，找到根源需求
3) 在理清楚需求后，要对需求进行归纳整理
需要明确的一点是，当我们说需求的变化点和稳定点时，这是站在我们要设计的产品角度来说的。

产品定义
1) 需要明确产品中有哪些元素，或者叫资源，以及这些资源的各类操作方式
2) 需要对产品如何满足用户需求进行确认
3) 产品定义还需要考虑市场策略，我们的产品如何进入市场，和既有市场格局中的其他主流解决方案的关系是什么样的。

为何架构课从基础平台开始
1） “基础平台” 是我们所依赖的环境，是我们应用的业务架构的一部分。越了解我们所处的环境，我们就越能够运用自如。
2）架构的探讨容易过度抽象</div>2021-02-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/b4/63/59bb487d.jpg" width="30px"><span>eletarior</span> 👍（4） 💬（0）<div>看了两遍,不得不感慨需求分析确实是一件很难的事情,在实际开发中有一个问题就是,有时我们根本不知道现有的技术栈能不能实现某个需求,调研是必不可少的,也可能做着做着,就不得不砍需求了;需求的临时变更是让人无语,架构的设计也可能因为某些个需求的加入或者删除而不得不变化.怎么把变化也考虑到架构中是一个很困难的事情,也可能有公司制度的问题,具体问题当然是要具体分析的,多思考总结,架构师都是野生的,需野蛮生长啊.</div>2019-06-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg" width="30px"><span>Aaron Cheung</span> 👍（3） 💬（0）<div>打卡17 目前感觉需求分析可能占六七成</div>2019-06-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/de/f0/ccf46294.jpg" width="30px"><span>忠厚</span> 👍（2） 💬（0）<div>&quot;用户需求的变化是缓慢的，真正改变的是需求的满足方式. &quot;  这段让我受益匪浅，一下子好像串通了好多事！</div>2022-03-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a8/b2/998448ca.jpg" width="30px"><span>悠游</span> 👍（2） 💬（0）<div>梁宁老师的产品思维课值得好好读一读</div>2020-06-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg" width="30px"><span>阿卡牛</span> 👍（2） 💬（0）<div>红绿色盲看到的都是绿点~~</div>2019-07-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a0/27/bdc6307d.jpg" width="30px"><span>晓凉</span> 👍（2） 💬（0）<div>需求分析确实太难了，平时说需求分析大多是分析客户需求，但要做出好产品，不只要分析客户的需求。产品的研发和运营的过程中，有大量的利益相关者，它们的需求可能都需要分析。还有大量技术或非技术的制约条件，不是一般人容易看清楚的。能在行业或社会尺度上搞清楚需求的，都已经成为大佬，或将会成为大佬。</div>2019-06-15</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20XxmrRrLkelN8yAsBk0ZcuremVN7lZp4U2kdABFULtEVmCgaFlJLh1TYia0kicPbvxeZQNg/132" width="30px"><span>Geek007</span> 👍（1） 💬（0）<div>“产品是桥，它一端连接了用户需求，一端连接了先进的技术”，切中要害</div>2019-12-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/7e/24/afb15de3.jpg" width="30px"><span>头发茂密</span> 👍（1） 💬（0）<div>金句：用思考的方式去记忆，而不是用记忆的方式去思考</div>2019-12-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ef/d4/a9d1b0de.jpg" width="30px"><span>HHFCodeRv</span> 👍（1） 💬（0）<div>终于进入正题了，豁然开朗，只有趟过坑才知道，这里面说的多务实</div>2019-09-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/97/abb7bfe3.jpg" width="30px"><span>CoolSummer</span> 👍（1） 💬（0）<div>产品就是满足用户需求或者市场策略的一种物品，技术方案只是如何优雅的实现产品的逻辑。</div>2019-06-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg" width="30px"><span>程序员小跃</span> 👍（1） 💬（0）<div>需求分析，在大公司工作的时候，这是第一步，而且是需要严格执行的，所以看到这部分特别有感触。好的需求分析，能带来一个产品往好的方向上走，如果来一个需求就做，那这个产品是做不好的</div>2019-06-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/f1/70/bca09d2d.jpg" width="30px"><span>觉</span> 👍（1） 💬（1）<div>一门深入 长时薰修 </div>2019-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>用思考的方式去记忆，而不是用记忆的方式去思考。
--记下来</div>2023-08-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/12/2a/31f12744.jpg" width="30px"><span>韩涛</span> 👍（0） 💬（0）<div>一体两面说的很精</div>2023-04-26</li><br/>
</ul>