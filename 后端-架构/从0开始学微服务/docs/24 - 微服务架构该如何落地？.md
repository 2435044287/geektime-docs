专栏前面的文章我给你讲解了微服务架构的各个组成部分，以及实践过程中可能遇到的问题和对应的解决方案，到这里你应该对微服务架构有了一个完整的认识。那么在实际项目中，如何让一个团队把我们所学的微服务架构落地呢？

今天我就结合自己的经验，定位在中小规模团队，谈谈微服务架构到底该如何落地。

## 组建合适的技术团队

经过我前面的讲解，你应该认识到微服务架构相比于单体应用来说复杂度提升了很多，这其中涉及很多组件，比如注册中心、配置中心、RPC框架、监控系统、追踪系统、服务治理等，每个组件都需要专门的人甚至专家把控才能hold住，不然微服务架构的落地就相当于空中楼阁，虚无缥缈。

所以想要落地微服务，首先需要合适的人，也就是组建一支合适的技术团队。你一定很容易想到，是不是只有架构师适合做微服务架构的开发？一定程度上，这是合理的，因为微服务架构所涉及的具体技术，比如CAP理论、底层网络可靠性保证、Netty高并发框架等，都对技术的深度要求比较高，一般有经验的架构师才能掌握，所以这个技术团队必须包含技术能力很强的架构师。但是还要考虑到微服务架构最后还是要落地到业务当中，既要满足业务的需求，也要防止一种情况的发生，那就是全部由架构人员组成技术团队，根据自己的设想，脱离了实际的业务场景，最后开发出来的架构中看不中用，业务无法实际落地，既打击了团队人员积极性，又对业务没有实际价值，劳民伤财。所以这支技术团队，也**必须包含做业务懂业务的开发人员**，只有他们了解业务的实际痛点以及落地过程中的难点，这样才能保证最后设计出的微服务架构是贴合业务实际的，并且最后是能够实际落地的。
<div><strong>精选留言（25）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/be/52/568e8c06.jpg" width="30px"><span>lvvp</span> 👍（5） 💬（2）<div>微博在做注册中心选型的时候，没有选取当时很火的 Zookeeper 的一个重要原因就是，它底层依赖的是 HBase 存储？？这句话不理解，zk和hbase怎么关联到一块了？</div>2018-11-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/3c/fa/e2990931.jpg" width="30px"><span>文敦复</span> 👍（1） 💬（2）<div>新浪微博不是挂了了，是上面讲到的限流和垄断。😏</div>2018-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/37/da/dbb5c47a.jpg" width="30px"><span>Dhy</span> 👍（38） 💬（2）<div>微博今天瘫的了</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/12/51/f309515c.jpg" width="30px"><span>冬末未末</span> 👍（24） 💬（0）<div>可以分享一下这次微博挂了之后你们的恢复流程么</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3a/db/791d0f5e.jpg" width="30px"><span>huizhou92</span> 👍（24） 💬（0）<div>老胡啊，微博又宕机了？哈哈哈</div>2018-10-16</li><br/><li><img src="" width="30px"><span>Geek_tfmbor</span> 👍（13） 💬（0）<div>微博今天又炸了啊</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/7d/da/780f149e.jpg" width="30px"><span>echo＿陈</span> 👍（13） 💬（0）<div>小型团队可能一开始就不愿意自研，甚至没有架构师，都是直接找一个开源框架，如dubbo，然后参考Demo迅速进入业务开发。自然而然的就形成了微服务的雏形，已经上线的了后台，可能一开始基础设施严重缺失，可能也没有监控，经常发生了问题就是黑盒子，往往是事后慢慢完善基础设施，但也是很漫长的和阵痛的过程</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/cc/73/8e546542.jpg" width="30px"><span>西夏一品堂</span> 👍（8） 💬（1）<div>微服务如何应对突发的流量（明星公布恋情）</div>2018-10-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e8/f4/6cca0aac.jpg" width="30px"><span>浩</span> 👍（5） 💬（0）<div>又宕机了 怎么落地微服务的啊</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/9a/a9/dfea2c50.jpg" width="30px"><span>张龙大骗子</span> 👍（4） 💬（0）<div>说好的8个明星并发出轨呢，单个明星结婚都挂了😂😂</div>2018-10-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/26/45/f3890282.jpg" width="30px"><span>飞呀飞</span> 👍（4） 💬（0）<div>测试环境需要和线上环境保持一致，这个时候需要docker。某一个业务进行测试的时候，就将它所依赖服务，更新到沙箱主机。
另外也需要进行单元测试，单元测试case尽可能的覆盖广泛。

没有实践过，希望可以得到忠伯的指导。</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/46/c0/106d98e7.jpg" width="30px"><span>Sam_Deep_Thinking</span> 👍（3） 💬（0）<div>好文，说到心坎上了。目前我是负责公司核心业务系统的从0到1的微服务重构。不过文中提到的，先以一个业务应用发布成微服务，并且把微服务配套的监控、运维手法等等都搞定后，才开始考虑垂直拆分其他业务应用的说法，应该是站在公司系统流量比较大的情况。像一些创业公司的应用，流量还不大，但又是单体应用，且开发人员越来越多，开发效率很低，越来越不能满足产品经理越来越多的需求，迭代效率很低。这个时候，多垂直拆分几个应用，发布成微服务，我觉得没问题。</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg" width="30px"><span>钱</span> 👍（2） 💬（0）<div>怎么测试？
这个就费劲了，假如一个项目涉及三个小组A&#47;B&#47;C
1：拉个群包括三个小组的相关开发、测试、产品，以及项目经理等人员
2：约定测试环境、测试用例、准备好测试数据
3：开测，测试的过程中出现问题在群里沟通，在群里解决，有逼在群里撕
4：如果顺利还挺快，否则就要拉相关小组负责人一起撕，还撕不好，就开会
5：沟通很重要，尤其是涉及的人员众多的时候，各自站在自己的立场上有些锅会飘来飘去的，经过几轮螺旋上升最终项目还是能上线的</div>2019-06-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7b/98/8f1aecf4.jpg" width="30px"><span>楼下小黑哥</span> 👍（1） 💬（0）<div>首先保证有一个完整的调用链的测试环境，然后使用这个环境注册中心，部署微服务，从而获取这个环境所有依赖服务。</div>2018-10-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/59/c9/f44cb7f3.jpg" width="30px"><span>爪哇夜未眠</span> 👍（1） 💬（0）<div>老师好，请问微服务系统下数据库被拆分成多个库，那做一些联表查询的时候怎么操作呢？</div>2018-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg" width="30px"><span>俯瞰风景.</span> 👍（0） 💬（0）<div>微服务架构的落地，第一需要考虑的就是技术团队，是否有“具备微服务大局观”的架构师，是否有理解业务的资深开发；第二需要考虑的就是对技术方案的取舍，能够结合当下的业务发展阶段进行合理的技术选型。第三需要考虑的是搭建DevOps工具，提高开发和运维效率。</div>2021-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4b/d4/b7719327.jpg" width="30px"><span>波波安</span> 👍（0） 💬（0）<div>每个业务的服务都将自己的服务发布到指定的注册中心，同时保证稳定性。这样做服务测试的时候，所有的依赖都订阅这个稳定的注册中心的服务来测试。</div>2018-11-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/6b/9e/82a4cbea.jpg" width="30px"><span>章鱼哥</span> 👍（0） 💬（0）<div>怎么做测试ne</div>2018-10-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a8/e2/f8e51df2.jpg" width="30px"><span>Li Shunduo</span> 👍（0） 💬（0）<div>思考题有没有参考回答？</div>2018-10-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/70/12/aa74da82.jpg" width="30px"><span>arebya</span> 👍（0） 💬（1）<div>zookeeper底层依赖hbase做存储？</div>2018-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a1/e6/50da1b2d.jpg" width="30px"><span>旭东(Frank)</span> 👍（0） 💬（0）<div>一个明星比好几个春晚都厉害😄</div>2018-10-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/3c/fa/e2990931.jpg" width="30px"><span>文敦复</span> 👍（0） 💬（0）<div>如果需要第三方的服务来进行支撑的话，最好通过Interceptor的形式在本地就返回，这样不依赖第三方进行测试。</div>2018-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4e/73/93e09e89.jpg" width="30px"><span>dengyu</span> 👍（0） 💬（0）<div>微博宕机是咋回事啊？P999还是有点距离</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/b7/49/fe2da25a.jpg" width="30px"><span>Jingslunt</span> 👍（0） 💬（0）<div>原来微博是用自研的motan mesh，不是用istio。今天微博又挂了，不明白是自己挂的还是为了营销造势导致的。老师能提供下微服务的流量图让我们看看吗？</div>2018-10-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg" width="30px"><span>拉欧</span> 👍（0） 💬（0）<div>我司才用Hudson，Jenkins来做集成部署</div>2018-10-16</li><br/>
</ul>