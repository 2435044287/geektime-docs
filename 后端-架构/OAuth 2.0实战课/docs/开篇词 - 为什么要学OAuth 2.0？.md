你好，我是王新栋，是京东的资深架构师，主要负责京东商家开放平台的架构工作。在接下来的时间里，我将带你一起学习OAuth 2.0这个授权协议。

我从2014年加入京东，便开始接触开放平台相关的技术，主要包括网关、授权两块的内容。在刚开始的几年时间里面，我一直都认为网关是开放平台的核心，起到 “中流砥柱” 的作用，毕竟网关要承载整个开放平台的调用量，同时还要有足够的系统容错能力。

但随着对开放平台理解的不断深入，我们要想在开放平台支持更多样的业务场景，我才发现网关和授权同样重要，相当于开放平台的 “两条腿”。

而对于授权 “这条腿”，它不仅要像网关一样要承载访问量，还要同时兼顾业务场景的发展。什么样的业务场景呢？类似的微信登录就是其中之一，越来越多的第三方应用都在向用户提供使用微信登录的解决方案，来减少用户注册的繁琐操作。而这个解决方案的背后原理，也是我们这门课要讲到的OAuth 2.0技术。

## OAuth 2.0是什么？

那，OAuth 2.0到底是什么呢？我们先从字面上来分析下。OAuth 2.0一词中的 “Auth” 表示 “授权”，字母 “O” 是Open的简称，表示 “开放” ，连在一起就表示 “开放授权”。这也是为什么我们使用OAuth的场景，通常发生在开放平台的环境下。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg" width="30px"><span>朱晔</span> 👍（66） 💬（9）<div>分享一个使用Spring Security实现OAuth2三角色+三模式完整例子 https:&#47;&#47;juejin.im&#47;post&#47;5bdc29e551882517121233f6</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/f8/ea/98738420.jpg" width="30px"><span>Jaswine</span> 👍（25） 💬（2）<div>哈哈哈，看了github上的代码，真的好原生啊，纯servlet和jsp写的，用多了springboot都不知道servlet怎么写了，哈哈哈哈哈</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/15/02/66f65388.jpg" width="30px"><span>雷霹雳的爸爸</span> 👍（11） 💬（1）<div>老师介绍的很实在啊，索性跟着这个课，把oauth2 in action读一遍吧，要不感觉也找不到借口读书…说这话感觉找打…</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/16/32/b0f4c44a.jpg" width="30px"><span>YeLuo</span> 👍（7） 💬（1）<div>希望作者最后能结合所授完成一份实战代码</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/fa/dd/f640711f.jpg" width="30px"><span>哈德韦</span> 👍（6） 💬（1）<div>使用 NodeJs 搭建一个OAuth Server 的话，相比使用 Java，有什么优缺点吗？</div>2020-07-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f7/03/f67ef964.jpg" width="30px"><span>刘文印@登录易</span> 👍（4） 💬（3）<div>谢谢王老师分享，第一时间入手了。我们“登录易”也用了类似的思想，但不是第三方登录，希望王老师帮审核一下有没有漏洞，我邮箱liuwy@gdut.edu.cn，多谢了。</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/05/02/52a52265.jpg" width="30px"><span>gavin</span> 👍（3） 💬（2）<div>感谢老师的分享，用OAuth2.0很久了，一直是基于Spring Security使用password和client模式，来做内部用户（包括app和web端）和第三方用户的身份认证，登录后的访问权限进一步基于身份对应的角色，基于RBAC进行控制，这次跟老师学习一下，看看怎么完善一下，更加符合标准。</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg" width="30px"><span>Geek_zbvt62</span> 👍（1） 💬（1）<div>希望详细解析一下授权的每一个步骤，如果没有这一步会被如何利用漏洞</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/08/df/866ed645.jpg" width="30px"><span>xuyd</span> 👍（1） 💬（1）<div>用没有基于spring oauth2的一个例子</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f6/c9/61791bd2.jpg" width="30px"><span>数字Gannon</span> 👍（0） 💬（1）<div>用POSTMAN测试在AZURE ADAL模式下的API，每次都要手动更新token，想问下大神能否在Postman或客户端工具上模拟获取&#47;更新token？</div>2020-09-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/35/d1/12439914.jpg" width="30px"><span>树洞老人</span> 👍（0） 💬（1）<div>第二遍</div>2020-08-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/17/b6/ac21f221.jpg" width="30px"><span>Edison鹏</span> 👍（0） 💬（1）<div>在网上找些学习资料为公司将来的开放平台做技术储备，有幸看到王老师这篇课程如获珍宝，立刻收入囊中。开放平台最重要的两条腿一个网关一个授权，希望王老师能推荐 开放平台、网关相关的学习资料。目前已收入《架构修炼之道》</div>2020-08-02</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJman25D8JlricJVaeweYqr70vyp2acetStqbtaDnCnroGXvuJfgr1As9q47iacTCUUMK1eRUt4KImg/132" width="30px"><span>进阶的小孔</span> 👍（0） 💬（1）<div>能推荐几个好的开源项目看看吗，一起学下</div>2020-07-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/8a/a3/aee7ded7.jpg" width="30px"><span>在路上</span> 👍（0） 💬（1）<div>王老师，我所在的分公司所有的办公系统都是使用的单独登录方式，总部上了OAUTH2.0接下来分公司所有系统都需要基于统一身份认证改造，看到极客时间老师开的课，契合了学习OAuth2.0的机会，想深入了解，争取把OA2.0做好。今天正式开始学习，希望能赶上老师的进度，非常感谢,争取如文章所说，通过学习掌握2.0，加油!!!</div>2020-07-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg" width="30px"><span>慎独明强</span> 👍（0） 💬（1）<div>老师好，由于工作业务需要，需要熟悉用户认证这块，有看到这样的专栏，就来打个卡。没接触过这个东西，但是哪里需要就去学哪里。</div>2020-07-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/46/bf/87a57b8e.jpg" width="30px"><span>土豆</span> 👍（0） 💬（1）<div>老师，我现在在做oauth2，针对oauth内部的错误信息怎么汉化或者对应解析成汉子提示，这块百度的结果是做国际化，加入注解，注解并没有生效，这个有好的解决办法吗？针对错误信息汉化</div>2020-07-10</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoOGZ6lbHiboIZMN9USbeutnmCWBahVLtSlKlIENKvrZQCUQzpzeZQOxTntIkBUeDk6qZUPdqmfKrQ/132" width="30px"><span>宝宝太喜欢极客时间了</span> 👍（0） 💬（1）<div>项目中使用了 Spring Security，感觉内部使用得话根本用不到OAuth2，对这之间得关系没有搞清楚， Spring Security中得认证跟OAuth2中得认证没有区别吧？</div>2020-07-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/2c/9b/fdfbd741.jpg" width="30px"><span>就你能</span> 👍（0） 💬（1）<div>谢谢分享~~</div>2020-07-01</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ5Hnw1tL9EWGdzhibCw89hibKjibwcyUBCSJsQWaxxfGu5AkBibibV0anaKqw3nf3ZP0UWy5BaEYyw2Q/132" width="30px"><span>smilekaka</span> 👍（0） 💬（1）<div>老师您好，我最近在为公司做一个小程序的开放平台，登录之后里面挂了很多应用的链接，访问链接都是通过oauth2的授权码模式实现的，因为开放平台已经登录，那用oauth2的授权码模式访问其他应用如何实现静默登录呢？希望老师能指点一二</div>2020-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/fa/73/3b9cbc69.jpg" width="30px"><span>VictorWu</span> 👍（0） 💬（1）<div>微软实习生一枚，最近2天结合Azure ad做了authentication，要使用openID在做，感觉挺相似的。但是理解的不太深刻。希望跟着大佬学习:)</div>2020-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/50/1f/5563ddc2.jpg" width="30px"><span>蒋胜琳</span> 👍（0） 💬（1）<div>第一次接触OAuth...开拓眼界ing</div>2020-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/91/a8/6766847a.jpg" width="30px"><span>Blue</span> 👍（0） 💬（1）<div>老师您好，我前段时间学习OAuth2.0的痛点就是搞不清楚授权角色的作用，以及为何会产生固定url的交互，更迷糊就是无法有效的区分用户管理系统与OAuth授权中心的关系，在设计上，无法完好的去解耦用户管理系统，与认证授权系统的服务，希望老师能够在后续的课程中着重讲一下如何分离用户管理系统、认证中心、网关这三者之间的联系与区别！</div>2020-06-30</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkeOAC8k7aPMfQZ4ickiavpfR9mTQs1wGhGtIicotzAoszE5qkLfFTabkDU2E39ovSgoibJ1IiaLXtGicg/132" width="30px"><span>bigben</span> 👍（0） 💬（1）<div>公司内部微服务调用也需要oauth2吗？有没有更好的解决方法？</div>2020-06-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" width="30px"><span>奕</span> 👍（0） 💬（1）<div>OAuth 2 我之前一直认为是使用在第三方服务端应用接入某个平台的时候使用的。 这个难道还可以使用在 app  或者 Web 端 代替用户名密码直接去做认证的吗？ 这样的话不就把 appid 和 appsecret 给泄露出去了？</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/b0/2f/e2096905.jpg" width="30px"><span>马成</span> 👍（0） 💬（2）<div>正在着手准备开发一套基于oauth2和jwt机制的用户微服务</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/69/bf/58f70a2a.jpg" width="30px"><span>程序员花卷</span> 👍（2） 💬（0）<div>总结
1. OAuth表示的是 &quot;开放授权&quot;
2. OAuth1.0通过一套授权机制来应对所有的场景，比如APP场景、Web应用场景、官方应用场景等
3. OAuth2.0不再局限于一种授权机制，它扩充了四种授权模式：授权码模式、客户端模式、密码模式、简化模式，来分别应对不同的场景
4. 可看书籍《OAuth2.0 实战》

学习本课程的目的
掌握更多关于授权认证的知识，为未来可能遇到的问题提供更多的解决方案，自我提升</div>2023-02-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg" width="30px"><span>Monday</span> 👍（1） 💬（0）<div>二刷了</div>2023-11-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg" width="30px"><span>Monday</span> 👍（1） 💬（0）<div>要接手公司的open api工作内容，计划花2天看完</div>2023-07-15</li><br/><li><img src="" width="30px"><span>胡化敏</span> 👍（1） 💬（1）<div>jwt 能直接解析，讲讲jwe的实现把</div>2020-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg" width="30px"><span>Monday</span> 👍（0） 💬（0）<div>《OAuth 2 in Action》哪里可以买得到，</div>2024-05-15</li><br/>
</ul>