你好，我是丁威。

从这节课开始，我们将进入一个新的模块：定时调度中间件。

定时调度在业务开发领域的应用非常普遍，它通常会出现在数据清洗、批处理等应用场景中。我们这一模块总共分为三讲，首先，我们要来了解一下分布式定时调度框架的设计目标和未来，然后我会重点介绍一种基于ZooKeeper配置中心的编程模型，最后，我们会以一个实际场景串起分布式调度框架的要点。

定时调度框架要解决什么问题？市面上有哪些优秀的定时调度框架？定时调度未来的发展趋势又是什么？这节课我们就来聊聊这些问题。

## 定时调度功能需求

在大部分交易类场景下，比方说购物网站或者购票系统中，都会有一个特殊的业务规则：如果用户下单后超过指定时间未支付，平台将自动取消该订单。

### **定时延迟触发机制**

要想实现这个功能，第一个必须具备的就是**定时延迟触发机制**。目前在定时调度领域，触发器都是基于cron表达式来定义的。cron表达式支持按日历的概念来定义定时语义。例如，每周五上午10点，每个工作日上午10点等。我们这节课不会详细介绍怎么编写cron表达式，因为现在很多网站都支持快速生成cron表达式。如果有需要，你可以看看[这个网站](http://cron.ciding.cc/)。

一旦解决了定时任务的触发问题，要在用户没有支付时及时取消订单、释放库存的需求就变得比较简单了。我们只需要编写对应的订单超时逻辑，然后触发器就可以根据定义的cron表达式在指定的时间点调用业务执行器，完成业务逻辑。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/46/33/e5ee1842.jpg" width="30px"><span>酱紫的小白兔</span> 👍（2） 💬（0）<div>最近好多 powerjob 的宣传造势文章，拿 xxljob 作为垫脚石，老师觉得 powerjob 如何？</div>2022-12-08</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvUlicgrWtibbDzwhLw5cQrDSy2JuE1mVvmXq11KQIwpLicgDuWfpp9asE0VCN6HhibPDWn7wBc2lfmA/132" width="30px"><span>a、</span> 👍（1） 💬（1）<div>老师，你好，我想问下，xxljob如何做蓝绿发布？</div>2022-11-14</li><br/>
</ul>