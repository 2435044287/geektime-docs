你好，我是陈现麟。

通过上节课，我们掌握了在部署多数据中心的时候，可以用多主复制的方式，让用户直接读写离自己最近的数据中心的数据，减少用户与数据中心之间的网络延迟，提升用户体验。

当我们的业务面向全球的用户时，这个优点将会变得尤为重要，比如一个北京的用户，访问北京的数据中心，网络时延为毫秒级别，但是当他访问美国的数据中心时，网络时延就是百毫秒级别了，这是影响用户体验的关键点。所以，当极客时间启动全球业务的时候，多主复制是一个可以考虑的方案。

但不论是主从复制还是多主复制，所有的写入操作都必须依赖主节点，如果主节点出现故障，则必须再选举出一个新的主节点后，才能继续提供写服务，否则就将大大影响系统的可用性。那么是否有办法可以让单节点故障时，系统的可用性完全不受到影响呢？

我们可以这样思考一下，既然系统的可用性是由主节点的故障导致的，那么我们是否能去掉主节点和从节点的角色，也就是让系统中所有节点的角色都是对等的，这样是否可以解决问题呢？

其实这就是无主复制的数据复制方式，它确实可以解决由主节点故障，导致的系统可用性问题。虽然无主复制是“复制”系列课程的最后一节，但其实它才是最早出现的数据复制方式。**无主复制又称为去中心复制，只不过在关系数据库出现并且主导后，由于要确保各副本写入顺序的一致性，主从复制开始流行起来，无主复制被大家慢慢遗忘了**。
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="" width="30px"><span>小达</span> 👍（5） 💬（1）<div>w=6,r=2,写请求可以容忍一个节点写失败，但是这样读请求就可以容忍5个节点失败，这是不是违背了前提条件：读写都能容忍一个节点失败</div>2022-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/1a/17/9e925f61.jpg" width="30px"><span>雾都</span> 👍（1） 💬（1）<div>感谢老师写的这么有条理，这么清晰，每天像追剧一样等更新，能否一次多更新点啊</div>2022-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/97/d7/02bbaba5.jpg" width="30px"><span>飞鸿无痕</span> 👍（0） 💬（1）<div>通过这个方式，我们可以确保在数据读写时，系统只需要有任意 w 或 r 个节点可用，就能读写成功，这将大大提升系统的可用性。但是这也说明，即使系统的读写能满足仲裁条件 w + r &gt; n ，我们依然无法保证，一定能读取到最新的值，因为新值写入的节点并不包含在这 n 个节点之中。
---这段话没看明白，希望老师能帮解惑哈。既然w+r大于n，那新写入的值应该至少有一个能被读取到，为啥又说写入的值不一定能读取到，并且新写入的值可能并不包含在n个节点中？总副本数不是n么？</div>2022-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg" width="30px"><span>李二木</span> 👍（0） 💬（1）<div>可以用Gossip实现节点间的数据同步。</div>2022-03-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/21/e4/15/80bf9ee3.jpg" width="30px"><span>roman</span> 👍（0） 💬（0）<div>minio也是无主复制吧</div>2022-06-06</li><br/>
</ul>