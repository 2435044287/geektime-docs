你好，我是韩健。

在正式开始学习这门课之前，我想先和你聊一聊怎么学，因为掌握了学习路径、建立了全局观之后，你才能达到事半功倍的效果。

我们都知道，分布式协议和算法（为了不啰嗦，咱们下文都简称分布式算法）很实用、也很火，很多后端工程师在面试的时候，都会被问及分布式、高可用、一致性这些专业名词背后的算法原理和实现方式。

但是分布式算法也是比较新的，快速发展的。比如，1989年莱斯利·兰伯特（Leslie Lamport）提出了Paxos，2006年，谷歌研发团队让Paxos在生产环境中落地，但是Paxos缺乏编程实现的必须细节，最终的算法实现仍是建立在一个未证明的算法之上。再后来，也就是到了2013，斯坦福大学的迭戈·安加罗（Diego Ongaro）和约翰·奥斯特霍德（John Ousterhout）提出了Raft，但是2016年，Raft仍在解决成员变更的Bug。

正因为技术比较新，所以尚未能沉淀为书，很多同学都找不到分布式算法方面的经典书籍，再加上互联网上中文资料错误多，他们在学习相关的分布式算法的时候，会觉得吃力和困惑。

那么，如何才能掌握一个相对新、而且又在蓬勃快速发展的技术知识呢？这就是我这节课想要跟你分享的内容：**如何高效地学习和掌握分布式算法？**
<div><strong>精选留言（20）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/49/fc/5627215c.jpg" width="30px"><span>小何</span> 👍（20） 💬（5）<div>“一般而言，在需要系统状态的一致性时，你可以考虑采用二阶段提交协议、TCC。在需要数据访问是的强一致性时，你可考虑 Raft 算法。在可用性优先的系统，你可以采用 Gossip 协议来实现最终一致性，并实现 Quorum NWR 来提供强一致性。”
老师，能解释一下上文中的需要系统状态的一致性和数据访问的一致性？</div>2020-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/e9/b4/04683f82.jpg" width="30px"><span>返璞归真</span> 👍（1） 💬（2）<div>在四度空间的表格中，TCC应该是强一致性吧。在一致性标题下，还强调了强一致性的两种不用理解。前后有矛盾呀</div>2020-08-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg" width="30px"><span>密码123456</span> 👍（0） 💬（1）<div>😂😂在回头看的时候，发现自己只记得大概。正好复习下。</div>2020-07-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ec/d4/8f877895.jpg" width="30px"><span>Geek.Kwok</span> 👍（0） 💬（1）<div>老师的总结很棒，给我们指明了学习和实践的框架</div>2020-07-03</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/x3cpRvAjkpyCiaibTJlvhlaE6g5XUgDYH24ZISWzZUO5mDkfW0fPJJDWnwa8V6c3FYxnVasFMTGc4xqaoWkuXXsA/132" width="30px"><span>赵学习</span> 👍（13） 💬（3）<div>为什么大多数人都说zk是cp的，有说强一致的，又说顺序一致的，这里又说zab是最终一致的，希望后面阅读中能找到合适的答案！</div>2021-04-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/d7/88/7dcde249.jpg" width="30px"><span>庄周梦蝶</span> 👍（4） 💬（1）<div>老师分布式的脑裂问题、羊群问题能讲讲吗？面试中经常问到</div>2021-06-13</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/STqKg1kLgvRuduQfo0R2E2osYBian7XrQAjSWmOwL9nyZVhq7vyLPnlGcgvguFV4aV7ToWLFiauEMKy96KWHKBVg/132" width="30px"><span>离境”</span> 👍（4） 💬（0）<div>之前看其他文章，搞得自己云里雾里的，希望在这拨开云雾</div>2021-06-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/67/df/8b85d0d9.jpg" width="30px"><span>--</span> 👍（3） 💬（2）<div>我觉得线性一致性有点绕，所以补充一个线性一致性的说明：https:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Consistency_model#Sequential_consistency
线性一致性是属于强一致性的，但是它是“稍弱”的强一致性，因为在算法系统的内部，写操作的提交并不是所有的节点都是同时应用的。而系统状态的一致性，写操作的提交是同时应用的，所以它是“稍强”的一致性。之所以说它们都是强一致的，那是因为一致性是对外部系统访问算法系统而言，只有写操作提交之后，外部系统都能读取到最新的值。如有不正确之处，麻烦指教。</div>2020-08-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2c/1c/95/3d8920c9.jpg" width="30px"><span>abcdabcd999</span> 👍（1） 💬（0）<div>我觉得不应该把 2PC 和 Paxos、raft 这些放一起说，它们本质上是不同的，共识只是 log replication的，它和 2PC 完全不一样</div>2023-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e5/4f/731ef2c1.jpg" width="30px"><span>geektime_zpf</span> 👍（0） 💬（0）<div>“
首先，在埃里克·布鲁尔的猜想中，CAP 中的强一致性（也就是 C）是指 ACID 的 C，系统状态的一致性，而这种一致性，可以通过二阶段提交协议来实现。
其次，在 CAP 定理中，CAP 中的强一致性（也就是 C）是指原子一致性（也就是线性一致性）。其中，Paxos、Raft 能实现线性一致性，而 ZooKeeper 基于读性能的考虑，它通过 ZAB 协议提供的是最终一致性。一般而言，在需要系统状态的一致性时，你可以考虑采用二阶段提交协议、TCC。
在需要数据访问是的强一致性时，你可考虑 Raft 算法。在可用性优先的系统，你可以采用 Gossip 协议来实现最终一致性，并实现 Quorum NWR 来提供强一致性。
”
老师，数据访问一致性，和 原子一致性（线性一致性），是什么关系呢</div>2023-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e5/4f/731ef2c1.jpg" width="30px"><span>geektime_zpf</span> 👍（0） 💬（0）<div>&quot;在可用性优先的系统，你可以采用 Gossip 协议来实现最终一致性，并实现 Quorum NWR 来提供强一致性。&quot;
老师，可以解释下这句话吗？为什么实现最终一致性的系统还要用Quorum NWR 来提供强一致性？</div>2023-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2c/1c/95/3d8920c9.jpg" width="30px"><span>abcdabcd999</span> 👍（0） 💬（0）<div>”我们可以基于 Raft 实现强一致性系统“ 这样子的说法其实很不严谨，这也是模糊了 raft 和 2PC 差异导致的结果</div>2023-01-16</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLu3MgZBAyyiavX2CMF2KRib791j3bBGiaQDzuQwBF2k6AKHANV2uTAAss2vVaeC7xcSYYD8vjmibRpTQ/132" width="30px"><span>纵不朽</span> 👍（0） 💬（0）<div>现在，raft还有bug吗？</div>2022-08-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/75/0b/553d4ec4.jpg" width="30px"><span>逍遥</span> 👍（0） 💬（0）<div>读了两边，还是有点懵逼，但是觉得很有料。期待下个月重读的时候能有很深入的理解！</div>2022-05-30</li><br/><li><img src="" width="30px"><span>零零玲</span> 👍（0） 💬（0）<div>老师，是否可以理解为可用性高的协议性能也一定高？？</div>2021-12-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/de/69/113da382.jpg" width="30px"><span>宇飞</span> 👍（0） 💬（0）<div>棒棒的，系统整理各个算法区别和学习方法，收货多</div>2021-10-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/cd/57/94d49207.jpg" width="30px"><span>Dear。</span> 👍（0） 💬（0）<div>「CAP关注的是数据」这个说法成立吗</div>2021-06-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/be/d4/ff1c1319.jpg" width="30px"><span>金龟</span> 👍（0） 💬（0）<div>系统状态一致性是指原子性吧</div>2021-01-19</li><br/><li><img src="" width="30px"><span>任禹潼</span> 👍（0） 💬（0）<div>必须给个赞</div>2020-07-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg" width="30px"><span>宁悦</span> 👍（0） 💬（0）<div>老师，这个加餐点赞！</div>2020-07-02</li><br/>
</ul>