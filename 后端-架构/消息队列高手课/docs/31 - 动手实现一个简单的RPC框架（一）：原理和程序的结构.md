你好，我是李玥。

接下来的四节课，我们会一起实现一个RPC框架。你可能会问，为什么不实现一个消息队列，而要实现一个RPC框架呢？原因很简单，我们课程的目的是希望你能够学以致用举一反三，而不只是照猫画虎。在之前的课程中，我们一直在讲解消息队列的原理和实现消息队列的各种技术，那我们在实践篇如果再实现一个消息队列，不过是把之前课程中的内容重复实现一遍，意义不大。

消息队列和RPC框架是我们最常用的两种通信方式，虽然这两种中间系统的功能不一样，但是，**实现这两种中间件系统的过程中，有很多相似之处**，比如，它们都是分布式系统，都需要解决应用间通信的问题，都需要解决序列化的问题等等。

实现RPC框架用到的大部分底层技术，是和消息队列一样的，也都是我们在之前的课程中讲过的。所以，我们花四节课的时间来实现一个RPC框架，既可以检验你对进阶篇中学习到的底层技术掌握的是不是扎实，又可以学到RPC框架的实现原理，买一送一，很超值。

接下来的四节课，我们是这样安排的。本节课，我们先来学习RPC框架的实现原理，然后我们一起看一下如何来使用这个RPC框架，顺便给出整个项目的总体结构。第二节课中，一起来实现RPC框架的通信与序列化部分，最后的两节课，分别来实现客户端与服务端这两部分。
<div><strong>精选留言（20）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/77/4b/99d67d3d.jpg" width="30px"><span>oh..</span> 👍（13） 💬（1）<div>老师我想问下，这个RPC调用过程是不是所有流程都是同步的，等于从客户端开始调用服务端接口就会一直阻塞到等返回相应结果后，程序才会结束。就像直接调用HTTP请求一样，一来一回，还是会出现几次请求返回的。这个问题我有点疑惑</div>2019-10-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ef/86/12f95d66.jpg" width="30px"><span>FATMAN89</span> 👍（11） 💬（1）<div>老师能说一下，一个工业级别，生产级别的rpc，框架，比如说dubbo，在真正的实现上，与您的这个rpc框架，需要考虑哪些更多，更复杂的问题吗？多谢了！</div>2019-12-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/6b/f8/b4da7936.jpg" width="30px"><span>大魔王汪汪</span> 👍（9） 💬（1）<div>老师 桩的实现可在编译阶段和运行时阶段，在选择上除了语言本身特点外，性能上有没有差异，比如运行时阶段跑不掉使用代理反射，如果直接在编译时生成代理类，是不是可以减少这部分性能损耗</div>2019-10-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" width="30px"><span>奕</span> 👍（8） 💬（1）<div>不是做 java 的，对与 RPC 的调用方式 不是很理解
客户端去注册中心 找到对应的需要执行的方法，和通知服务端需要执行的方法，不还是要进行通讯的吗？这个通讯走的不是http了？</div>2019-10-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c8/34/fb871b2c.jpg" width="30px"><span>海罗沃德</span> 👍（3） 💬（1）<div>感覺老師講的這個跟EJB很像，name service和JNDI很像，求教是不是這樣？</div>2019-10-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/28/9c/73e76b19.jpg" width="30px"><span>姜戈</span> 👍（28） 💬（0）<div>太棒了，这是买一送一呀，这个专栏学到的绝不只是消息中间件知识~，还帮我们打通任督二脉，赞~</div>2019-10-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg" width="30px"><span>QQ怪</span> 👍（5） 💬（0）<div>牛逼，老师厉害了</div>2019-10-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d5/e1/a05a9e22.jpg" width="30px"><span>kyll</span> 👍（3） 💬（0）<div>看到这里， 突然想起了N年以前使用EJB时的 Stub，感慨一下。</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/33/b0/6b37f63d.jpg" width="30px"><span>cppby</span> 👍（2） 💬（0）<div>卧槽 这一篇 看完 对rpc理解茅塞顿开。。谢谢</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg" width="30px"><span>南山</span> 👍（2） 💬（0）<div>看得困意全无！</div>2019-10-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg" width="30px"><span>饭粒</span> 👍（1） 💬（0）<div>1.这样看 spring cloud 的 feign 不算 RPC 框架。。
2.stub 这个概念和远程代理 RMI 里的 stub，skeleton 蛮现实的。</div>2019-11-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg" width="30px"><span>每天晒白牙</span> 👍（1） 💬（0）<div>激动，太喜欢这个专栏了</div>2019-10-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ff/d0/402be1e9.jpg" width="30px"><span>VIC</span> 👍（0） 💬（0）<div>github地址，哪能看</div>2022-10-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg" width="30px"><span>Em</span> 👍（0） 💬（0）<div>不得不说  brpc功能挺强大的</div>2022-07-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c6/18/2a9c0ff6.jpg" width="30px"><span>子非鱼</span> 👍（0） 💬（0）<div>项目在mac，java8 下运行发现server，client启动正常，但client发送后一直没法收到响应</div>2022-04-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg" width="30px"><span>西门吹牛</span> 👍（0） 💬（0）<div>RPC 内部是异步的，在调用端看来是同步的，内部实现了异步到同步的转化，利用java的Future，现在java8 不是有了completefuture ，这样就能实现完全异步了吧，应该是这个意思吧</div>2021-05-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/50/2b/2344cdaa.jpg" width="30px"><span>第一装甲集群司令克莱斯特</span> 👍（0） 💬（0）<div>老师，请问RPC远程调用和HttpClient工具类调接口，都是调用其他机器上的服务，有什么不同点呢？</div>2020-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg" width="30px"><span>青鸟飞鱼</span> 👍（0） 💬（1）<div>老师你好，能说一说消息队列和RPC的区别吗？什么时候适合用消息队列，什么时候用RPC呢？</div>2020-08-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/11/c62a583d.jpg" width="30px"><span>333</span> 👍（0） 💬（0）<div>课程呢很早就买了，过了这么久再出发。</div>2020-08-12</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132" width="30px"><span>漏脚脖</span> 👍（0） 💬（2）<div>看了22节一直想看这节课，实在控制不住了，直接跳过来，看评论说老师讲的东西涉及广不深入，我觉得这种方式很好，掌握了很多知识点，有的甚至老师一句话的事就搞定了我一直没弄懂的东西，整体学完后再自己深入会有更好的效果，老师讲的再深入，自己不研究也是白费不是吗
很喜欢黄渤老师的课，和授教方式，能看出来老师对知识的融会贯通程度，那是相当的溜，心里肯定更有很多大鱿鱼，希望自己的鱿鱼也早日成型</div>2019-11-19</li><br/>
</ul>