你好，我是编辑小新。

今天是一节答疑课。我们的专栏已经步入尾声。除了紧跟更新节奏的第一批同学，也很开心看到有更多新朋友加入到这个专栏的学习中。

很多同学的留言也是这门课的亮丽风景，给专栏增色了不少。大部分的疑问，老师都在留言区里做了回复，期待更多同学在留言区里分享经验，提出问题或尝试解答他人的疑问，我们来共建一个共同学习、积极交流的良好氛围。

为了给你留下足够的思考和研究的时间，我们选择用加餐的方式，公布每节课的参考答案，也会精选一些优秀同学的答案展示出来。这里要提醒一下，建议你先做了自己的思考后，再核对答案。另外每节课都有超链接，方便你跳转回顾。

[第一节课](https://time.geekbang.org/column/article/595679)

Q：请你思考一下，用户邀请其他用户注册的记录，属于历史记录还是关系记录？

A：用户邀请其他用户注册的记录，我认为属于关系记录。

虽然这种记录有历史记录特征，但是被邀请注册的用户只能被邀请一次，所以总量是可控的。同时，这种表的用途很明确，表内记录的是关系记录，查询时会按邀请人或被邀请人uid进行查询。

留言区里也有不少精彩的答案，推荐你去看看。比如@移横为固的答案，这里我也复制过来：

> 一开始觉得注册邀请表应该作为历史表。思考了下作为关系表也是可以的。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/23/4f/b5/bd6140a5.jpg" width="30px"><span>ARM</span> 👍（1） 💬（1）<div>老师好第一次评论：针对该回答有疑问，A1：我们可以再设置一个 key，标注还有哪些 key 有库存。
访问压力问题：这个key每次调用都会访问到，是一个共享的高频key，每次访问库存前都要查询，访问压力不小吧？
存储结构问题：这个key用什么数据结构存储呢？hash？应该就可以了，删除指定key速度快。
补偿问题：这个库存为负数肯定会出现，所以还需要补偿吧。</div>2023-01-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/5a/d0/7e58f993.jpg" width="30px"><span>梓荣</span> 👍（0） 💬（1）<div>那个用json来存储用户信息的怎么是个优秀的想法呢，先不说空间问题，光是获取鉴权问题就会很头疼，这样极易造成用户信息泄漏</div>2024-01-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/8b/06/fb3be14a.jpg" width="30px"><span>TableBear</span> 👍（0） 💬（3）<div>弱弱问一句，徐老师不会是🐏了吧</div>2022-12-12</li><br/>
</ul>