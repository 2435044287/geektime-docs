你好，我是黄俊彬。上节课，我带你学习了提高遗留系统代码可测试性的方法，今天我们就正式进入到专栏的分析设计篇。

其实说到分析设计，这里有两个问题是我们必须要先思考清楚的。第一个问题是“从哪里来”，只有清楚了解目前架构设计的问题，才能更好地设计解决问题的方案。否则，我们怎么能保证新的设计可以解决问题呢？

第二个问题是“到哪里去”，很多时候我们都在谈重构和架构改造，却经常忽略我们到底要将原有的系统重构成什么样子。当然，这一步我们或许不用一点一滴从头开始，参考业内成熟的方案也许是更加可靠高效的方式。

所以这节课我会通过一个产品的架构演进，带你感受一下架构是如何跟随着业务来演进的。通过这节课的内容，你可以更清楚地了解遗留系统的问题和演进方向，这样在做分析设计时，你的目标会更加清晰，设计也会更加从容。

## Sharing1.0：单体架构

小菜作为架构师，刚加入到一个新的产品团队Sharing，Sharing目前采用的架构是单体架构。在项目初期，团队人员少，业务也相对简单，这种架构很好地支撑了业务的迭代。后面是Sharing1.0的架构图。

![](https://static001.geekbang.org/resource/image/06/15/06dbda8711f220855c915a76c2088015.jpg?wh=3500x2450)

单体架构是常见的架构模式之一。通常所有开发人员基于单个模块进行开发，所有业务功能都集成在一起打包发布。单体架构非常适合团队规模小、业务复杂度低的产品，在项目起始阶段能快速迭代进行验证。
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="" width="30px"><span>Geek_90e087</span> 👍（3） 💬（1）<div>我已经迫不及待了，快更</div>2023-02-17</li><br/><li><img src="" width="30px"><span>Geek_2b5326</span> 👍（1） 💬（1）<div>老师，请问我们常用的mvc mvp mvvm等架构，跟您说的单体，组件化，插件化有什么区别和联系？</div>2023-03-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/52/97/8f960ce9.jpg" width="30px"><span>xx鼠</span> 👍（0） 💬（1）<div>对于出海app，google不允许热更dex、so库，所以插件化热更、flutter热更都玩不转啊</div>2023-09-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f4/11/727ebf8d.jpg" width="30px"><span>刘军</span> 👍（0） 💬（2）<div>什么体量的App适合容器化？</div>2023-02-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（0）<div>请教老师几个问题：
Q1：复杂APP有多少人开发？按什么分配任务？
我只做过比较简单的APP，都是自己一个人完成的。老师您经历过的复杂一点的APP，会有多少开发人员？会超过五个人吗？如果是多人开发，按什么分配任务？按功能或者业务吗？
Q2：组件具体是什么？
组件是功能模块吗？好像不太可能。组件是一个独立的软件吗？ 比如是一个可执行文件或是库。更具体地讲，用AS开发时，组件是一个独立的module吗？
Q3：实例APP是组件化还是插件化架构？
本专栏采用的示例APP是什么架构？
Q4：容器化与特定语言有关吗？
从文中的介绍来看，容器化是由特定语言实现的，比如flutter。安卓、iOS自身都不支持容器化。这样理解对吗？</div>2023-02-17</li><br/>
</ul>