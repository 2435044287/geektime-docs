你好，我是黄俊彬。

不知不觉，课程接近尾声，感谢你的一路相伴。前面我们一起学习了如何通过自动化、系统化和工程化这三个关键方法来治理遗留系统，深入探讨了遗留系统的架构分析、架构设计、代码重构以及工程管理等诸多内容。

现在系统重构的学习之旅即将告一段落。今天，我还想和你分享三点“意识”层面的改变，这对于我们落地遗留系统改造同样重要。

## 自我要求

第一点是**自我要求**。所谓预防大于治疗，针对遗留系统道理也是如此。我们要充分利用好各种守护措施来保证代码合入前的质量，对自己编写的每一行代码足够重视。

就拿我之前参与改造的一个大型健康类App来说吧，代码规模在200W行左右，开发人员在100+左右，一次全量编译接近15分钟。代码人员规模庞大，代码耦合很严重，光靠加人已经无法推动产品快速响应迭代。

我们在业务上也听到了众多不同角色的反馈。

- 产品经理说：一个简单的特性适配一款设备需要4人月。
- 开发人员说：这个代码，改不动 …
- 运营人员说：工作效率较低，配置活动成本很高，难度大。

![](https://static001.geekbang.org/resource/image/19/ce/1993d510a4d538371yya36cce13d21ce.jpg?wh=2600x957 "某健康类App架构改造示意图")

对于这样的系统，只是对一个核心模块做重构打样，就花了接近3个人月的时间（因为前面花费接近1/3的时间做系统设计及分析）。不难发现，我们前期多点投入，代价要远比后期去偿还小很多。这也是我们常说的质量内建，因为缺陷发现得越晚，修复的成本就越高。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（1）<div>请教老师几个问题啊：
Q1：准备开发一个APP，持续集成方面，麻烦老师推荐一个方案。Github Action？or Jenkins?
Q2：安卓APP，通过wifi和外部设备通信，会有安全问题吗？是不是wifi这种无线方式不安全？
Q3：怎么知道AS所用的c++版本？AS4.2创建JNI项目，怎么知道编译所用的c++版本？
Q4：service不是一个线程，也不是一个进程。那么，service运行在哪里？是运行在主线程吗？
Q5：有开源的IM吗？类似微信一类的比较好的IM APP。</div>2023-04-12</li><br/>
</ul>