你好，我是黄俊彬。

上节课我们学习了组件化架构重构的5个步骤，这节课我们将按照这个方法改造Sharing项目。在第7节课中我们已经按照未来的架构设计，重新设计了代码的包结构**，这节课我们要将各个组件拆分到独立的模块工程中，最终将架构设计落地到代码中。**

组件化架构重构5个关键的步骤分别是设计、守护、解耦、移动、验收。其中设计及守护通常针对的是整个系统，解耦、移动及验收则是针对组件来进行。

前面设计阶段的工作已经完成，那么接下来，我们就来完成守护的步骤，为Sharing项目补充基本的功能自动化测试，作为重构的安全网。

## 补充自动化测试

补充自动化测试这一步，我们可以按照用户的核心使用场景来覆盖。以Sharing项目为例，用户的主要操作为登录系统，然后查看消息、文件以及个人账户的信息。

我们将这些主要的场景梳理成4个UI的大型测试，作为基本的冒烟测试。后面是4个用例。

1.用户打开应用，输入正确的账户密码登录成功。  
2.用户进入主页面，切换至到消息页面，能够正常显示消息列表信息。  
3.用户进入主页面，切换到文件页面，能够正常显示文件列表信息。  
4.用户进入主页面，切换到账户页面，能够正常显示登录的个人信息。

接下来，我们将这4个核心的用例变成自动化测试用例。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="" width="30px"><span>Geek_a8c1a2</span> 👍（1） 💬（1）<div>除了依赖注入，能否也讲讲SPI用于解耦的作用</div>2023-03-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（2）<div>请问：UI测试为什么是冒烟测试？
冒烟测试感觉是压力比较大的测试。UI测试只是基本的功能测试，似乎不像是冒烟测试啊。</div>2023-03-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ee/a8/9be86cdc.jpg" width="30px"><span>穿靴子的喵先生</span> 👍（0） 💬（0）<div>ui测试，有适用于composeui的ui测试框架吗？</div>2024-04-09</li><br/>
</ul>