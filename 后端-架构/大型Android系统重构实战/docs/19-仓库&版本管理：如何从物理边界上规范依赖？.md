你好，我是黄俊彬。

前面我们完成了Sharing项目的组件化架构改造，但是在仓库与版本管理上，依旧还是与改造前一致，采用的是单体仓库以及组件源码依赖的方式。

当代码以及团队达到一定的规模以后，这会给项目仓库和版本的管理带来诸多问题。我总结了一张常见问题的表格，你不妨“对号入座”，看看自己的项目有没有“中招”。

![](https://static001.geekbang.org/resource/image/a7/65/a7da9b7960ba6352ea62d4b583292165.jpg?wh=2900x1646)

那么怎么来解决上面这些问题呢？今天我们将一起来学习如何对组件做代码仓库管理以及二进制版本管理，让组件能更加独立地迭代演进，从物理上规范好组件之间的依赖。

## 仓库管理

首先，我们先了解一下代码仓库管理的模式，常见的有单仓模式和多仓模式。

### 单仓模式

**单仓模式指的是所有的组件代码统一在一个版本仓库中管理**，团队成员基于一个代码仓库来完成日常的开发活动，就像后面图里画得这样。

![](https://static001.geekbang.org/resource/image/e5/1a/e5byy1ab52cfe6788d552ea5b8a90f1a.jpg?wh=2900x1903)

这种仓库管理的方式的优点是简单，所有的代码在一起维护，团队所有成员能共享产品的所有代码。由于所有代码都在一个仓库，所以代码集成方便，也便于团队统一代码规范。团队之间能共享到所有人的代码，方便大家了解项目的整体代码情况以及学习其他组件架构及代码设计。

但单仓库的缺点就是当代码及团队规模庞大时，会带来后面的问题。

1.开发人员容易受到干扰，不能专注在自己所属的组件代码上。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/14/47/82/faf79264.jpg" width="30px"><span>我的video</span> 👍（0） 💬（1）<div>老师可以介绍一下monorepo吗</div>2023-04-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（1）<div>请教老师几个问题：
Q1：安卓APP现在可以接入chatGPT吗？市场上有APP使用chatGPT的案例吗？
Q2：屏幕适配问题，如果自己实现(不用框架)，字体用sp、距离用dp可以实现适配吗？（或者说，sp、dp会存在适配问题吗？）</div>2023-03-24</li><br/>
</ul>