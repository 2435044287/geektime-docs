你好，我是欧创新。

进入两千年后，随着互联网应用的快速发展，很多传统企业开始触网，建设自己的互联网电商平台。后来又随着微信和App等移动互联应用的兴起，又形成了新一轮的移动应用热潮。这些移动互联应用大多面向个人或者第三方，市场和需求变化快，需要以更敏捷的速度适应市场变化，为了保持快速响应能力和频繁发版的要求，很多时候这些移动互联网应用是独立于传统核心系统建设的，但两者承载的业务大部分又都是同质的，因此很容易出现业务能力重叠的问题。

阿里巴巴过去带动了传统企业向互联网电商转型。而如今又到了一个新的历史时期，在阿里巴巴提出中台战略后，很多企业又紧跟它的步伐，高举中台大旗，轰轰烈烈地开始了数字化转型之路。

那么传统企业在中台转型时，该如何从错综复杂的业务中构建中台业务模型呢？今天我就用一个传统企业中台建模的案例，带你一起用DDD的设计思想来构建中台业务模型。

## 传统企业应用分析

互联网电商平台和传统核心应用，两者面向的渠道和客户不一样，但销售的产品却很相似，它们之间的业务模型既有相同的地方，又有不同的地方。

现在我拿保险行业的互联网电商和传统核心应用来做个对比分析。我们看一下下面这张图，这两者在业务功能上会有很多相似和差异，这种相似和差异主要体现在四个方面。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/79/29/a90cf777.jpg" width="30px"><span>深山小书童</span> 👍（47） 💬（11）<div>接触ddd的概念也蛮多年了，确实如老师所说，微服务的兴起让大家有自然的想起了ddd。但是要将ddd落地，不知道在代码层面如何去分层是最让人困扰的。以java web开发为例，controller，dao，service怎么和应用服务，领域服务，聚合等对应起来呢？老师能不能展示一下框架里面怎么去组织这些概念，这样作为研发人员会比较好理解。ddd的经典三本书里面就是缺少这种东西，互联网小厂由于能力有限很难将其理解和落地。一直期待一门课从代码层面开始自底向上来讲解ddd，反而会更好理解。一直反复讲ddd的好处，感觉浮在表面。</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/4c/5b/5499d6e6.jpg" width="30px"><span>墨名次</span> 👍（27） 💬（3）<div>DDD是中台、微服务的产品经理</div>2019-11-09</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/hg9Tsg2iaBeG6Q5mxiczjw1ph0OvhKziblEIiaOxg4gwQ0Dgia7Fw7pDQ0mM8AL5SJAm2Yavk1RmBJrFd9jKPBQRkOw/132" width="30px"><span>小毅</span> 👍（22） 💬（1）<div>建议老师，多讲讲怎么做的领域、聚合根、实体的划分，讲讲实施层面怎么做的？而不是直接抛出你最终的结果，我觉得这才是要学DDD的精髓。看到现在知道了很多名词，但是依然并不知道DDD具体如何实施，具体场景下拿什么依据作为划分和聚类的参考~

建议对于文章中的例子，比如您举的保险类例子，可以多补充些业务背景，这样才能在战术层面搞明白实施和落地的流程，而不是悬浮在半空中~</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/6c/2f/8086c22a.jpg" width="30px"><span>蜗牛慢慢爬</span> 👍（13） 💬（1）<div>看了11个课程了，最大的疑问就是怎么划分？ 老师每次都拿出你已经划分好的领域，感觉很空泛，领会不到精髓</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/64/50/a54f0907.jpg" width="30px"><span>祥敏</span> 👍（4） 💬（2）<div>看来要公布Github的仓库了，要不怎么是实践篇@@@</div>2019-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/68/ec/eb0ebbb6.jpg" width="30px"><span>日月星辰</span> 👍（3） 💬（5）<div>感觉这里说的中台就是各个微服务嘛，之前一直觉得中台是一些通用业务的集合，是不会跟数据库直接交互的。那现在这样理解就是说中台也可以跟数据库直接交互了吗？</div>2020-05-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/e2/48/6c066714.jpg" width="30px"><span>信了</span> 👍（3） 💬（2）<div>前端个性能力归前端，后端管理能力归后台。建立前、中、后台边界清晰，融合协作的企业级可复用的业务模型。文中所说前端个性能力具体是什么？后端管理能力又是什么？前、中、后台边界清晰，这三个的边界怎么定义的？越来越模糊了，求解答？？</div>2020-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ea/19/14018371.jpg" width="30px"><span>瓜瓜</span> 👍（1） 💬（1）<div>聚合内的实体都是通过聚合根来进行访问的，这个有没有相关的例子，感谢老师</div>2019-11-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/ee/9c/abb7bfe3.jpg" width="30px"><span>abc-web</span> 👍（1） 💬（1）<div>欧老师好，我说下我对ddd在中台建设中所起作用的看法，不当之处请指点；ddd为中台所涉及到的领域模型梳理提供了方法指引，并对微服务的划分提供了参考标准；但有了这些对一个业务中台的建设还不是完备的；因为中台提供了业务能力服用层，也就是说抽象出了可服用的公共能力，但每个使用该能力的场景是不一样的，这样在该能力上的定制需求的满足是就出现了，这就需要中台有扩展能力，来适应这些需求；所以中台建设不单是微服务的合理拆分，可扩展能力的架构设计也是中台建设的关键；</div>2019-11-13</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKeqZb7U4s6SZHXz1Vv2u8iaHibZeZ9Ndgibr2nT9BS6Z4wiao3j8Ya5O8FK1SnxxyagDjvsMYaauWficA/132" width="30px"><span>若水</span> 👍（1） 💬（2）<div>老师好，我有两个疑问。①、按以上流程分析微服务的划分感觉粒度很小。一个微服务就是一个工程，项目粒度如何决定？②客户也是用户的一种，为什么客户和用户在两个微服务？</div>2019-11-10</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/pjRJ86Qvcu640Xe9zzRA2M9FFoxgaV5fCxIVlRJlzwBa3XSgicpECjyyyZj73br8hZF8cvZW8pX5M3ibj0dPGz7w/132" width="30px"><span>Geek_5233bb</span> 👍（0） 💬（1）<div>一个公司涉及的业务是跨领域的，中台是建设一套还是多套呢？比如电商和出行两个领域的订单中台，是沉淀出同一套还是按领域沉淀两套呢？</div>2020-12-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/58/ad/6abb57c4.jpg" width="30px"><span>有爱有波哥</span> 👍（0） 💬（2）<div>老师，例如，个人adress实体，和团队adress实体，需要构建两个实体吗？
</div>2020-12-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/6e/93/1ebfb1ca.jpg" width="30px"><span>古腪</span> 👍（0） 💬（1）<div>关于建模，有没有啥好的办法啊，感觉如果不了解业务的话很难建立一个好的模型</div>2020-05-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg" width="30px"><span>剑八</span> 👍（0） 💬（1）<div>个人客户与团体客户是否可以抽象成一个客户实体
这样对于客户我们维护一个实体就可以，并且对于订单上的下单客户我们也是从这个抽象实体做对应关系</div>2020-05-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c1/60/f5439f04.jpg" width="30px"><span>Geek_dn82ci</span> 👍（0） 💬（1）<div>关于中台和平台区别的问题，我想是否在一些场景下两者边界比较模糊，比如说企业要搞ai创新探索，基于视觉，语音等技术的业务全面接入云服务ai paas平台，那这个云供应商所提供这些能力对企业而言是否就意味着“ai中台”？因为它满足我前台的频繁试错需求，同时对于数据存放以及业务流程打通我都可以托管到云服务上，这个理解正确吗？</div>2020-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/e2/48/6c066714.jpg" width="30px"><span>信了</span> 👍（0） 💬（1）<div>老师，按照文章中说法，实体的方法会封装成领域服务， 而实体会通过聚合根访问的，那么封装领域服务的时候引用实体方法或者属性时是否一定要通过聚合根呢</div>2020-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/fd/0a/14948043.jpg" width="30px"><span>新新</span> 👍（0） 💬（1）<div>一直没有理解限界上下文的作用，今天实践的例子里，哪些子域是限界上下文呢？最后建好的模型里，没有发现限界上下文，难道限界上下文在建模的过程中是可选的？</div>2020-03-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/18/5a/a49a9353.jpg" width="30px"><span>see</span> 👍（0） 💬（2）<div>老师你好，根据你讲诉的微服务拆分，如果将用户及订单拆分为2个微服务，那么他们属于两个数据库的数据，，如果需要查找某用户的订单，需要在订单数据库上做一些用户数据保存，如果筛选条件更为复杂的权限查询的话，这样是不是会给开发带来难道，如果遇到这样的问题是怎么解决的，我现在设计的微服务就是碰到这样说我问题，谢谢</div>2020-02-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/fc/25/20ccf994.jpg" width="30px"><span>而立</span> 👍（0） 💬（1）<div>欧老师，新年好。
我有个问题，我们公司有电商、erp、crm等产品。
目前构建的服务，针对电商的不同端做支撑，可以很容易的实现复用，但是领导希望我们构建的服务可以为公司所有产品做支撑。
想请教下，为电商构建的服务有必要为erp、crm这类产品做准备吗？
erp、crm这类产品我们认为和电商的业务差距太大，基本不具备复用的可能。</div>2020-01-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4e/0f/c43745e7.jpg" width="30px"><span>hola</span> 👍（0） 💬（1）<div>那我又看懵了，我们也有订单服务，商品服务，用户服务等等，那我们这也是中台服务咯？</div>2020-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/62/a7/3e6fee86.jpg" width="30px"><span>K战神</span> 👍（0） 💬（4）<div>老师，我们也在做中台转型，进行探索中。

其实前面的业务分析边界划分，这个确实需要长时间积累和专业。

但是如果后面业务有变动，我们之前做的分析，比如各种图，各种表格，如何演进。是否有更好的演进方式。维护演进我有点摸不着。</div>2019-12-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/e3/d3/60abede7.jpg" width="30px"><span>学习使我快乐</span> 👍（0） 💬（2）<div>看到这一章，我突然有一个新的想法，但不知道对不对。中台和中间件类似，但不同的是，中间件是解决技术层面上的问题，中台是解决业务层面上的问题。比如说，中间件kafka用来提供异步、解耦、削峰功能；中台用户用来提供用户、权限、认证功能</div>2019-11-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/2b/85/961cf560.jpg" width="30px"><span>Geek_4de168</span> 👍（0） 💬（1）<div>老师，可不可以用代码示例一下，每集都听了几回，但还是不理解</div>2019-11-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3d/cd/6a15b522.jpg" width="30px"><span>ff</span> 👍（0） 💬（1）<div>转型的话，感觉自顶向下和自底向上都需要
自顶向下确定的是目标，但是整个推倒重来一般都是不现实的（而且大部分情况下还需要保证服务稳定和对用户不可见），只能逐步演进
自底向上是认清现实，找到一条通向目标的路</div>2019-11-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg" width="30px"><span>川杰</span> 👍（0） 💬（1）<div>对核心中台和通用中台有点疑惑，说下自己的理解：核心中台就是和业务强相关的，通用中台就是，即使不是保险业务，换成金融业务，也可以用；
请问是这个意思吗？</div>2019-11-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ea/19/14018371.jpg" width="30px"><span>瓜瓜</span> 👍（0） 💬（1）<div>划分清楚业务域，是战略设计中的核心，因为只有划分清楚业务域，才会构建出良好的领域对象、聚合、聚合根、限界上下文等，所以，划分清楚业务域是核心中的核心，望老师答复，是否正确</div>2019-11-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a6/38/55483b8c.jpg" width="30px"><span>。</span> 👍（0） 💬（1）<div>欧老师你好

领域类型中“命令”怎么理解？CreatePerson和GetPersonInfo是两个类？DDD提倡使用充血模型，那么Person实体（同样也是聚合根）里会有针对person的CURD方法。CreatePerson和GetPersonInfo里去调用Person里的相应方法？</div>2019-11-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/db/c3/e11adfe8.jpg" width="30px"><span>hunter</span> 👍（0） 💬（1）<div>中台是不是就是微服务之后的产物，之前的微服务太凌乱了，需要中台来聚合一下，是这个意思吗？</div>2019-11-11</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoOGZ6lbHiboIZMN9USbeutnmCWBahVLtSlKlIENKvrZQCUQzpzeZQOxTntIkBUeDk6qZUPdqmfKrQ/132" width="30px"><span>宝宝太喜欢极客时间了</span> 👍（0） 💬（1）<div>示例中是直接划分好的领域跟聚合，老师能不能讲一下领域划分确定的过程以及聚合划分确定的过程，为什么这样划分一个聚合是合理的</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg" width="30px"><span>Geek_zbvt62</span> 👍（0） 💬（1）<div>不太了解业务，所以有个疑问哈：
积分相关的业务原来属于互联网电商的个人领域模型，评级相关的业务则属于传统业务的个人领域模型。为什么二者可以合并成一个评级积分领域模型？是否存在一个应用层的服务，会对评级和积分两个聚合同时进行操作呢？这点从事件风暴中没体现出来啊？</div>2019-11-09</li><br/>
</ul>