你好，我是欧创新。

微服务架构通常采用前后端分离的设计方式。作为企业级的中台，在完成单体应用拆分和微服务建设后，前端项目团队会同时面对多个中台微服务项目团队，这时候的前端人员就犹如维修电工一样了。

面对如此多的微服务暴露出来的API服务，如何进行正确的连接和拼装，才能保证不出错？这显然不是一件很容易的事情。而当服务出现变更时，又如何通知所有受影响的项目团队，这里面的沟通成本相信也不小。

相应的，要从一定程度上解决上述问题，我们是不是可以考虑先有效降低前端集成的复杂度呢？先做到前端聚合，后端解耦——这是一个很有意思的话题。今天我们就一起来聊聊微前端（Micro Frontend）的设计思想，探讨一下中台微服务后，前后端的设计和集成方式。

## 单体前端的困境

传统企业在完成中台转型后，虽然后台的业务完成了微服务架构的升级，但前端仍然是单体模式，由一个团队创建并维护一个前端应用。随着时间推移和业务发展，前端会变得越来越臃肿，越来越难维护。而随着5G和移动互联技术的应用，企业业务活动将会进一步移动化和线上化。过去很多企业的做法是为不同的业务开发出独立的APP。但很显然用户并不想装那么多的APP！

为了提高用户体验，实现统一运营，很多企业开始缩减和整合APP，将企业内所有的业务能力都尽量集中到一个APP中。试想如果仍然沿用单体前端的设计模式。前端项目团队将面对多个中台微服务团队，需要集成成千上万的API服务，这就需要相当高的沟通成本和技术要求。这绝对会是一场灾难。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/79/29/a90cf777.jpg" width="30px"><span>深山小书童</span> 👍（24） 💬（2）<div>整个专栏反反复复听了好几遍，慢慢理解之后，确实感觉干货满满，谢谢老师。希望专栏结束之后会有一个github的demo项目进行升华一下，专栏就完美了。</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/2e/8c/75936ae2.jpg" width="30px"><span>lin yu</span> 👍（16） 💬（2）<div>看着看着就学了76%了，感觉不配合没有一个完整的demo讲，感觉还是云里雾里的，每篇都是点到即止，毕竟《实现领域驱动》这本书京东59也能买到，</div>2019-11-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ee/80/db52af6b.jpg" width="30px"><span>Justin</span> 👍（9） 💬（1）<div>独立业务单元是好想法，但微前端的组合拼装能力是前提，否则聚合业务场景将很难实施。</div>2020-01-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/68/ec/eb0ebbb6.jpg" width="30px"><span>日月星辰</span> 👍（5） 💬（1）<div>微前端怎么落地呢？理论我是看懂了，怎么实现每套业务有自己的一套前端页面呢？</div>2020-06-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg" width="30px"><span>南山</span> 👍（3） 💬（1）<div>一直都把自己的思维或者视野限制在了后端以及目前工作接触到的领域，看完之后有了一个整体的认识，以及抬头多看看多想想的念头~</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/88/a7/fb383ef7.jpg" width="30px"><span>MaLu</span> 👍（3） 💬（2）<div>前端微服务化，前端+后端构建业务服务组件，还是领域的划分与领域边界的划清。目标还是领域的自治及领域间的链接，从而达到分而治之的效果。建立在规范，一套游戏规则的基础之上，而能更好地集成与组合。前台+中台的都微化，形成一套彻底的解决机制，是很好的实现机制。
但是这里面还是有几个待探究的疑问：
1.集成主页面 - 与微服务的前端页面怎么集成 ？
2.业务单元的如何独善其身，做到真正的自治需要产品需求、前端实现、中台服务实现的顶层设计与边界区分。</div>2019-11-22</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/LalJD9ruYQI5zVM1GOCe4PjunIbbeeMiacFHC4TAj0DBVeialKt3vRCLs9dxn1vYXvfp8pgcyaeEQkh1nde1JoBQ/132" width="30px"><span>jun</span> 👍（2） 💬（1）<div>前端项目团队会同时面对多个中台微服务项目团队。目前资源能否胜任微服务改造了... ...重构系统改造成微服务模式，仅6人团队是不是不太适合了 ？ 个人感觉可能工作量会很大，技术方面是主要问题所在。</div>2020-07-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/68/3f/40d1cd7f.jpg" width="30px"><span>stubborn</span> 👍（2） 💬（1）<div>欧老师，现在类似微前端的商业框架有卖的吗？</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/7a/a4/79ffe77c.jpg" width="30px"><span>发飙的蜗牛</span> 👍（2） 💬（1）<div>我现在所参与的项目整体架构有点像这个微前端的设计，我们也是将整个项目划分为几个模块，每个模块由不同团队独立开发，也是前后端分离，独立开发部署，最终给到用户用就是一个整体的系统，只不过我们的前端主页没有那么复杂并不需要专门的团队去做，只是一个header navbar，footer一样而已</div>2020-03-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/b3/d0/ac3a1227.jpg" width="30px"><span>被秒</span> 👍（2） 💬（1）<div>对于微前端一直有些困惑，到底是独立页面，还是独立组件。独立页面就是一下放弃了SPA的各种优点，一下回到几年前。 而如果用组件，那其实又增加了开发的复杂度，而且版本发布时候又会有更多的兼容风险。 前端的变更明显比后端要频繁的多，究竟最佳实践是什么。</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ee/28/c04a0c83.jpg" width="30px"><span>小炭</span> 👍（1） 💬（1）<div>微前端的拆分的粒度过小，都是动态加载会不会造成有性能问题。不知道老师所采用的微前端方案是单编程语言还是多编程语言的。</div>2020-12-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/41/44/bc8bc7cf.jpg" width="30px"><span>小之</span> 👍（1） 💬（1）<div>老师真是干货满满，这篇文章让我  对 “大中台，小前端“ 的理解又深了一步！</div>2020-04-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/29/2e/e402c62d.jpg" width="30px"><span>波叽波叽啵😮一口盐汽水喷死你</span> 👍（0） 💬（1）<div>一个子系统，可以部署多个微服务吗？由于目前子系统已经非常多了，再单独拆分出微服务，不能让子系统更多了。</div>2020-12-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/a2/5e/3871ff79.jpg" width="30px"><span>迷途书童</span> 👍（0） 💬（3）<div>这片文章感觉有逻辑上的缺陷。我的观点很简单
1. 一个页面长什么样子，与后端是不是采用微服务没关系
2. 一个页面怎么拆成什么样的组件，也是与后端是不是采用微服务没什么关系。 比如一个页面header,footer，里面是应该独立出来，让所有BU共用的。也就是后端是采用微服务还是mvc, header&#47;footer都得拆分为单独的组件。 而不是因为后端是微服务架构，前端的组件设计要迁就于微服务</div>2020-07-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/7a/a4/79ffe77c.jpg" width="30px"><span>发飙的蜗牛</span> 👍（0） 💬（1）<div>整个架构设计我觉得很好，很贴合使用DDD去做微服务设计，不过对于前端主页面的动态组件加载技术，老师有没有推荐的呢？想了解下</div>2020-03-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/73/16/595b0342.jpg" width="30px"><span>slark</span> 👍（0） 💬（1）<div>旁观一下，以为是讲前端和后端与网关交互逻辑</div>2020-02-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ee/28/c04a0c83.jpg" width="30px"><span>小炭</span> 👍（0） 💬（1）<div>老系统微服务改造，前端界面都是JSP Taglib的开发方式，这种前端是不是就没办法分离了，微前端是不是只能建立在单页应用技术的基础上。</div>2019-11-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ea/19/14018371.jpg" width="30px"><span>瓜瓜</span> 👍（0） 💬（1）<div>在迭代的过程中，如果出现前端主页面和微前端风格出现不一致，怎么办？</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/db/c3/e11adfe8.jpg" width="30px"><span>hunter</span> 👍（0） 💬（1）<div>每个微前端对应一个微服务，那流程之前的切换，对于微服务数据之前 同步是不是需要非常及时？</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/db/c3/e11adfe8.jpg" width="30px"><span>hunter</span> 👍（0） 💬（1）<div>微前端的前端页面需要嵌入到 前端中吗？
</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/ba/9a/73de36cb.jpg" width="30px"><span>九五二七</span> 👍（0） 💬（0）<div>我们公司就是这么设计的，开始的时候我还不明白为啥所有的业务都在一个页面中集成，看了文章后明白了。另外在前端页面中也方面用户管理和权限管理（只需要开发一次），我们公司的前端页面的用户是与OA用户打通的（只需要打通一次）。</div>2022-11-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/57/1e/8ed4a7cf.jpg" width="30px"><span>Paradise</span> 👍（0） 💬（0）<div>感谢老师分享，但是目前看到的微前端大部分都是为了解决系统级遗留问题而引入的微前端，比较少是以DDD为出发点而执行的微前端 嘿嘿。。</div>2022-04-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/83/8d/03cac826.jpg" width="30px"><span>徐李</span> 👍（0） 💬（0）<div>这里的微前端，就是要一处地方改动了处处一样。但是现实场景中，可能是很多前端公用一个后台，但是页面都是定制化的。那这种就不太合适了。
当然对于这种 页面也采用微服务的方式进行拆分确实是一个很好的思想，隔离，分别开发，分别部署</div>2021-12-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/64/5d/de0536e8.jpg" width="30px"><span>木木</span> 👍（0） 💬（0）<div>权限怎么处理？😨😨，最大的困惑就是这块，如何全盘统筹这一块，菜单权限，按钮权限，数据权限等</div>2021-11-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg" width="30px"><span>剑八</span> 👍（0） 💬（0）<div>看最终集成复杂度，相应的微服务集成问题等弊端，是否大于微前端带来的减少集成复杂度，提升复用性的好处
整个架构是前端有一集成页面做路由配置，然后会有相应的微前端，与微服务后端。微前端与微服务后端组成一个业务单元。</div>2021-08-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/29/17/ae/f365efb0.jpg" width="30px"><span>Quentin J.</span> 👍（0） 💬（0）<div>ddd的微前端 是不是 和 低代码&#47;零代码 也是相关的? 他们的关系是什么呢</div>2021-08-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/bb/cc/fac12364.jpg" width="30px"><span>xxx</span> 👍（0） 💬（0）<div>总结：前端总是从后端抄一些玩烂了的概念，然后包装成高大上的东西去忽悠——毕竟同行们都不懂😂</div>2021-07-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/5f/df/3c4881f0.jpg" width="30px"><span>Geek</span> 👍（0） 💬（0）<div>老师是怎么保证DDD的落地呢，如何保证每个开发人员都按照DDD的原则进行设计和开发呢</div>2021-03-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg" width="30px"><span>Eternal</span> 👍（0） 💬（0）<div>微前端感觉是后端各种中台提供得上前钟接口按照分类复用得方式再抽一层微服务，实现更加灵活得排列组合。当数量多了就要分类排序，然后复用通用得模块</div>2020-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg" width="30px"><span>剑八</span> 👍（0） 💬（0）<div>微前端，文中讲的总结起来：
分为两个结构
前端项目团队：提供主界面以及各微前端的集成与路由，由专门的团队负责
业务中台前端微服务团队：聚焦业务实现
主界面当业务复杂到一定程度我理解是需要一个团队去维护的
微前端的集成与路由这部分如果前端容器技术很成熟的话是否可以由业务中台前端微服务团队去负责，我理解这块的工作是很薄的一层
然后对于有些页面，如产品页面根据不同的业务场景需要路由到不同的页面，这部分也可以实现配置化，对于复杂数据要求，还可以实现不同场景的数据加载。对于产品页面是可以沉淀中台数据协议的，不同场景可以去做覆写定制
</div>2020-05-27</li><br/>
</ul>