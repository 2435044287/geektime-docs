你好，我是欧创新。今天我一起来聊聊DDD、中台和微服务的关系。

DDD和微服务来源于西方，而中台诞生于中国的阿里巴巴。DDD在二十多年前提出后一直默默前行，中台和微服务的理念近几年才出现，提出后就非常火爆。这三者看似风马牛不相及，实则缘分匪浅。中台是抽象出来的业务模型，微服务是业务模型的系统实现，DDD作为方法论可以同时指导中台业务建模和微服务建设，三者相辅相成，完美结合。

你可能会问：凭什么DDD可以指导中台和微服务建设，究竟起到了什么作用呢？

DDD有两把利器，那就是它的战略设计和战术设计方法。

中台在企业架构上更多偏向业务模型，形成中台的过程实际上也是业务领域不断细分的过程。在这个过程中我们会将同类通用的业务能力进行聚合和业务重构，再根据限界上下文和业务内聚的原则建立领域模型。而DDD的战略设计最擅长的就是领域建模。

那在中台完成领域建模后，我们就需要通过微服务来完成系统建设。此时，DDD的战术设计又恰好可以与微服务的设计完美结合。可以说，中台和微服务正是DDD实战的最佳场景。

## DDD的本质

我们先简单回顾一下DDD领域、子域、核心域、通用域和支撑域等概念，后面会用到。

在研究和解决业务问题时，DDD会按照一定的规则将业务领域进行细分，领域细分到一定的程度后，DDD会将问题范围限定在特定的边界内，并在这个边界内建立领域模型，进而用代码实现该领域模型，解决相应的业务问题。领域可分解为子域，子域可继续分为子子域，一直到你认为适合建立领域模型为止。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/f0/f4/22dbe2d9.jpg" width="30px"><span>肖大保健</span> 👍（24） 💬（6）<div>我们做的跨境物流下单系统，涉及到用户，商品，支付，订单一些服务，用户，商品，支付相当于通用中台，订单这一块我有点矛盾，不知该归于核心还是通用，订单有，数据流的一些扭转，其他服务都是服务于订单，订单有核心的条件，但是从另外一方面讲，用户增删查改，这些操作订单，感觉也是比较通用型的，我该如何划分出核心中台</div>2019-11-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/2c/0b/ad939ef7.jpg" width="30px"><span>钱晟龙🐲龍🐉</span> 👍（13） 💬（3）<div>用户管理+用户组织架构管理+认证&amp;鉴权，我们都做到一个微服务里面了~~， 这样看来可以拆3个出来
=。=   不过那样拆得太细的话，程序员写代码快速迭代期，项目来回切换发布，挺痛苦。
前后分离一个repository 一个前端部署,  用户sso单点登录一个api层服务 一个部署， 服务层用一个服务把三种领域包圆了。
老师怎么看这个问题，太细了会不会反而让系统变得维护时间变长。</div>2020-02-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/db/c3/e11adfe8.jpg" width="30px"><span>hunter</span> 👍（7） 💬（3）<div>对照着图看，感觉中台和微服务没啥区别，感觉中台就是整合了通用微服务</div>2019-11-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKeqZb7U4s6SZHXz1Vv2u8iaHibZeZ9Ndgibr2nT9BS6Z4wiao3j8Ya5O8FK1SnxxyagDjvsMYaauWficA/132" width="30px"><span>若水</span> 👍（7） 💬（4）<div>老师，我想咨询一下，画领域驱动设计图一般用什么样的工具</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/cb/9f/ee68858c.jpg" width="30px"><span>阿玛铭</span> 👍（5） 💬（4）<div>欧老师好，我在搞一个DDD代码目录结构规范。大概做法：1. 列出DDD的术语表 2. 规定resources目录和包目录下的结构。3.拿一个子子域作为示例给出完整的目录结构。 这件事工作量比较小，但我觉得比较有必要，不建立可执行的规范后面代码管理必然走向混乱。还有就是我担心有一些考虑不周到的地方，这块有可以提供的一些参考吗？</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/7a/a4/79ffe77c.jpg" width="30px"><span>发飙的蜗牛</span> 👍（3） 💬（2）<div>感觉讲的有点抽象，没有相关经验有些理解不了，DDD讲个人觉得要循序渐进，还没讲到如何使用DDD去落地微服务，就讲到中台微服务之间的关系这些了，跳跃有点大。</div>2020-02-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/94/68/56794ea3.jpg" width="30px"><span>Kian.Lee</span> 👍（3） 💬（1）<div>中台的业务模型和 DDD 的领域模型，我个人觉得只是两种设计思想对同一事物的不同描述，两者都是应对复杂软件系统的构建方法论。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/71/22/b8c596b6.jpg" width="30px"><span>风</span> 👍（1） 💬（1）<div>我们现在的系统建设是按照中台的目标建设的全流程的子服务，也就是各玩各的，服务之间几乎无交互，被新的CTO说的一文不值</div>2020-11-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/ec/b2/fd9ba311.jpg" width="30px"><span>zygfengyuwuzu</span> 👍（1） 💬（1）<div>这一讲彻底搞明白了DDD，中台和微服务的关系了</div>2020-10-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/18/66/53ce5d28.jpg" width="30px"><span>如水</span> 👍（1） 💬（1）<div>一个领域的服务，还需要分前台与管理后台吗？</div>2020-08-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c1/60/f5439f04.jpg" width="30px"><span>Geek_dn82ci</span> 👍（1） 💬（1）<div>请问老师在真实的ddd战略设计实践中，有没有和敏捷方法相结合的情况出现？我发现ddd中也会采用类似用户故事，用户旅程等工具</div>2020-02-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/51/5a/550efb2f.jpg" width="30px"><span>大导演</span> 👍（1） 💬（2）<div>老师您好，是否可以从多快好省四个角度，来解释中台或微服务呢，谢谢</div>2020-01-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg" width="30px"><span>Geek_zbvt62</span> 👍（1） 💬（4）<div>1.其实还是不太清楚如何区分核心域与通用域，支撑域。特别通用的就肯定不是核心域了是么？
2.上篇里一直讲中台要“联通核心业务链路”，那映射到DDD，怎么才算是“联通核心域链路”呢？</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/45/2f/b0b0dd74.jpg" width="30px"><span>杨杰</span> 👍（1） 💬（1）<div>看图上把用户管理、登陆认证、权限管理分成了三个微服务，那是不是说这三个都要对应独立的数据库？</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/c2/3f/42fc8939.jpg" width="30px"><span>朱振光</span> 👍（1） 💬（1）<div>是否中台就对应一个子域？只是看问题的角度不一样，有没有例外？</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/f2/cb/bcaa2090.jpg" width="30px"><span>JSLiuจุ๊บ¹⁸</span> 👍（1） 💬（2）<div>我的理解是中台是解决重复造轮的的方法，而DDD是建设中台的一种方法，比如前几期提到的，DDD领域的划分方法很适合解决中台建设中，中台能力的边界划分。现在有一个问题，DDD对需求分析有什么影响？包含那几方面。</div>2019-11-04</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZ16iaIia0029oI1Qh5NicibpbTiaBAaCOPYXoLplKHr6uQ2rSVxPZanBvpMcL2NuhwKQYCFnaHP5tedQ/132" width="30px"><span>FIGNT</span> 👍（1） 💬（1）<div>DDD的概念比较抽象，而中台比较具体。我的理解是中台是DDD的具体实践，和微服务直接挂钩。中台的概念和DDD一一对应。中台的概念是从DDD衍生出来的。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/40/55/fccafd61.jpg" width="30px"><span>王彬-Antonio</span> 👍（0） 💬（1）<div>中台是企业级别，战略上的规划，部署和调整。
DDD是应用级别，战术上，微服务设计，调整。

个人感觉无论是中台还是DDD，目标都是一致的，在寻求一种模式，公司（微服务）随着生存，发展壮大的自我调整过程中，核心力量、资源投入以最小成本，最小风险，最快速度调整，部署。</div>2020-01-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/46/94/ca15724a.jpg" width="30px"><span>下一道彩虹</span> 👍（0） 💬（1）<div>欧老师，本节讲得比较通透。但图中画的中台_中台1_中台2与核心域_子域的对应关系上。这中台1，中台2.是否可以换一个其它词？感觉全用中台这个词有些牵强了！</div>2019-11-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/db/c3/e11adfe8.jpg" width="30px"><span>hunter</span> 👍（0） 💬（1）<div>老师做的图真的很赞啊！便于理解文字化的概念</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/0f/a0/1a4965b8.jpg" width="30px"><span>puff</span> 👍（0） 💬（1）<div>后面有根据实例讲事件风暴的课么，老师</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg" width="30px"><span>密码123456</span> 👍（0） 💬（3）<div>有个问题，用ddd构建微服务后，还用三层吗？</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/1d/cb/d427a883.jpg" width="30px"><span>钟民</span> 👍（0） 💬（2）<div>感谢老师，收货非常多。希望老师能够搞一个demo，毕竟是实战课程，能落地才是最好的。</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg" width="30px"><span>南山</span> 👍（0） 💬（1）<div>公司级别的了解不到，但是部门在做业务中台，有核心域，有通用域，目前正在根据现状对领域进行梳理和拆分，主要目的是把通用功能抽出来共享~
还是要多结合本篇知识点多想想如果用ddd是如何来分析的~</div>2019-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/e2/c6/31ce7e98.jpg" width="30px"><span>张子红</span> 👍（2） 💬（1）<div>中台架构本质是企业级服务，例如七牛图片存储，有多少企业需要企业级复用的服务，阿里业务线繁多，在良好设计的前提下，一定程度可以做到，但涉及多个部门的事情谁说了算呢，如果中小型企业，不建议搞中台化，事倍功半。</div>2021-08-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/0a/7d/ac715471.jpg" width="30px"><span>独孤九剑</span> 👍（1） 💬（0）<div>终于有了一个完整的微服务与中台架构设计方法论了，“子域”对标“中台”，“限界上下文”对标“微服务”，一针见血！！！感谢欧老师！</div>2021-07-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/55/7e/726fd477.jpg" width="30px"><span>不听不听王八念晶</span> 👍（0） 💬（0）<div>您好，正在学您的课，专栏时间长了，不知道还会不会收到您的回答？
想问一个问题，微服务为什么一定要DDD？
看了网上的一些文章，但是却无法跟自己的实际情况结合起来，无法确定引入DDD的好处。</div>2024-06-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg" width="30px"><span>剑八</span> 👍（0） 💬（0）<div>中台核心目标是高效复用及适度支持扩展，不仅是架构形态也涉及组织架构，通常会有解决方案及中台团队。解决方案贴合业务做定制，中台沉淀可复用资产。
微服务核心目标是解耦，实现业务职责内聚的业务服务。微服务看的是整体的业务架构如何物理上剥离。
中台可以用微服务来实现，可以由微服务组合，如交易中台本身是电商域中的一个微服务。</div>2022-07-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg" width="30px"><span>剑八</span> 👍（0） 💬（0）<div>ddd战略设计是划分域，那这个依据是什么？
如果一个新业务，通常是不了解，也没有业界经验可借鉴，此时是不是先战术设计，找实体，形成聚合，限界上下文，最终得到子域</div>2022-07-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/c3/7f/9718ea41.jpg" width="30px"><span>Patrick Star</span> 👍（0） 💬（0）<div>中台的本质其实就是提炼各个业务板块的共同需求，进行业务和系统抽象，形成通用的可复用的业务模型，打造成组件化产品，供前台部门使用。前台要做什么业务，需要什么资源，可以直接找中台，不需要每次都去改动自己的底层。</div>2022-07-12</li><br/>
</ul>