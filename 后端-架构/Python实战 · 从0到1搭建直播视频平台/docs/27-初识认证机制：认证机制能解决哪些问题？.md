你好，我是Barry。今天是端午假期，祝你节日快乐，给假期仍然在学习的你点赞。

在[上节课](https://time.geekbang.org/column/article/669369)，我们利用Flask-Restful实现了接口规范化开发，相信你已经可以根据功能需求独立开发接口了。

但是在项目开发中，我们单独考虑开发功能还不够，还要在用户使用系统期间，保护用户隐私和数据安全。例如在系统中需要验证用户的身份，保护用户的个人信息和隐私。这就引出了我们这节课的核心—— Flask认证机制。

## 认证机制能解决什么问题

接下来，我们主要从四个维度来看看，在系统中认证机制都能够解决哪些问题。

首先是**保护用户隐私和访问权限。**如果一个系统没有身份认证机制，用户提交的个人信息和敏感数据等就会暴露在公共网络上。这样操作会存在大量风险，例如黑客可能会利用这些信息来进行诈骗、恶意攻击以及其他非法活动。此外，系统如果没有足够的访问控制，也可能导致用户无法访问他们需要的资源或服务。

其次，要**防止异常访问和攻击**。在系统中有了认证机制，只有经过认证的用户才可以访问特定的资源，从而保护应用程序免受未经授权的访问和攻击。比较典型的案例就是防止恶意的 CSRF攻击，保护系统免受盗用用户身份的攻击等。

第三，就是**建立用户对系统的信任。**认证机制可以为系统用户提供更安全的使用体验。对用户的各类数据做好严密保护，这有助于我们建立系统和用户之间的信任关系，否则将无法留存用户。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/58/9d/91d795cf.jpg" width="30px"><span>ZENG</span> 👍（1） 💬（1）<div>思考题：使用请求拦截，每次请求接口可以带上token等信息

老师，我这边有几点不太明白
1、使用token服务端不需要保存用户认证和会话，但是又需要内存存token，在过期时间之前都会保存这个token吗，理论上如果用户量太多内存也会有压力吧

2、如果发给客户端的token保存在cookie中，可能也会被其他人拿到伪造用户登录行为，这个如何避免呢(我想到就是可以在荷载数据中加入ADDR、UA这样的信息来识别)

3、前端发来的token如果还没到过期时间，但是redis又查不到，可不可以通过解密token然后根据荷载数据的某些信息通过mysql去查数据返回呢</div>2023-06-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（1）<div>请教老师两个问题：
Q1：OAuth2会用到吗？
Q2：http header中保存token，是保存在哪个字段？
另外，token保存在cookie中，session也是基于cookie，token与session有什么区别？</div>2023-06-23</li><br/>
</ul>