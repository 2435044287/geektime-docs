你好，我是姚琪琳。

前面我们用八节课的篇幅，一起学习了代码现代化和架构现代化的众多模式。掌握了这些遗留系统代码和架构的治理方法，应对遗留系统的挑战你是不是也更有信心了？

不过只治理代码和架构还不够，我们希望修改后的代码可以“火速”部署到生产环境里，这样才能提高整个端到端的交付效率，让每次改动工作都能及时得到反馈，尽快验证效果。

## 遗留系统的构建方式

遗憾的是，遗留系统的特点之一就是DevOps相当落后，甚至可以说完全没有。

在遗留系统中，一次上线前构建过程可能是这样的：一位打包专员，在本地或远程的机器上拉取代码，完成集成、打包和测试的工作，并准备手动部署。这时，即使再紧急的代码提交都会被拒绝，因为一个干净的打包环境来之不易，新引入的代码会导致所有的流程重来一遍，对打包专员来说是相当痛苦的。

这样的过程死板、低效、容易出错，一点也体现不出软件中“软”的特点（即灵活）。所以，后来市面上出现了越来越多的自动构建工具，可以自动拉取代码、构建、集成、打包和部署，甚至还能运行自动化测试，这简直就是打包专员们的福音。

但是，如果只是在打包和部署时使用这些工具，那真是大材小用了。而且，这样也没有解决软件开发中最难解决的问题之一，就是多人协作的情况下，代码集成的问题。
<div><strong>精选留言（4）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/3e/cdc36608.jpg" width="30px"><span>子夜枯灯</span> 👍（2） 💬（1）<div>老师,小步提交对于开发人员拆解需求的能力要求很高。如何才能确保自己拆解完成后，组合的效果还是业务的原始需要呢？</div>2022-05-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/6b/e9/7620ae7e.jpg" width="30px"><span>雨落～紫竹</span> 👍（1） 💬（2）<div>第一 在自己的分支开发 打包构建也是自己分支 第二 要保证每个人从合并分支拉的是可运行的代码 第三 合代码需要review </div>2022-07-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/a1/6d/a4ff33bb.jpg" width="30px"><span>Lee</span> 👍（0） 💬（1）<div>持续交付那本书有这个制品库的讲法，这样相当于开发权利最大，开发每次交付的都是在开发环境验证ok的，然后在其余环境进行部署即可，如果部署存在问题，那就可能是基础设施不一致导致，可以达到一个制品部署各个环境</div>2022-08-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/68/1a/66fc8d39.jpg" width="30px"><span>随风飞</span> 👍（0） 💬（0）<div>谁还轮询代码变动，不都是有代码push的webhock通知</div>2022-07-02</li><br/>
</ul>