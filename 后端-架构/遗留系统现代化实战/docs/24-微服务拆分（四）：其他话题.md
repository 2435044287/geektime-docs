你好，我是姚琪琳。

在前面三节课，我们分别讲解了如何拆分代码、数据库表和存储过程。可以说，掌握了这三个方向的拆分技巧，微服务拆分就不在话下了。不过除此之外，还有一些非常重要的点，如果不注意，会造成巨大的认知负载，影响拆分的进度。这些点包括：

- 微服务拆分和新业务需求如何兼顾？
- 如何避免其他团队的改动影响我们的改造？
- 一个API如果几个月还改不完怎么办？
- 数据所有权拆分完成后，如何做数据迁移？
- ……

这一讲，我们就来看看这些问题如何解决，权且看做是对前面三讲的查缺补漏吧。

## 需求管理

我们知道，系统都是在不断向前发展的，即使遗留系统也不例外。那么当团队正在如火如荼地推进微服务拆分的时候，又有源源不断的新需求要上线，这时候应该怎么办呢？

我们在拆分初期最重要的一件事，就是要和业务方协商好，尽量不要给拆分的模块添加新的需求。比如我们要拆分核保服务，那么就尽量在拆分期间不要添加核保相关的新需求。否则，拆分工作就会变得相当麻烦。

如果新的需求交给拆分团队之外的特性团队去开发，由于他们并不熟悉拆分团队的工作内容和进展情况，会造成严重的代码冲突，团队之间沟通协作的成本也相当高。而如果新的需求交给拆分团队来做，又会减缓拆分团队的开发进度。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg" width="30px"><span>aoe</span> 👍（4） 💬（1）<div>老师专栏上架前不久，我就开始了改造送礼物的接口。直到今天还在写功能测试，在这期间植物绞杀、分离关注点帮了很大的忙，感谢老师！</div>2022-06-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/3e/cdc36608.jpg" width="30px"><span>子夜枯灯</span> 👍（2） 💬（1）<div>认真学习了每一节课，收获满满。感谢作者和编辑的分享。</div>2022-06-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4f/7d/dd852b04.jpg" width="30px"><span>chon</span> 👍（0） 💬（1）<div>其中代码拆分和数据迁移是可以在一个迭代中做完的，而数据拆分则是逐个 API 在多个迭代中增量交付的。

而后面一段又说：这时我们的数据在物理上仍然位于单体数据库中，当所有 API 改造完成后，就要在最后一个迭代中做数据迁移了。

这两句话是不是有矛盾？按照第一句的说法，代码拆分也是要在最后一个迭代才做了？难道代码拆分不应该是一开始就要做了吗？</div>2022-06-03</li><br/>
</ul>