你好，我是陈皓，网名左耳朵耗子。

与传统的代码版本管理工具相比，Git有很多的优势，因而越来越成为程序员喜欢的版本管理工具。我觉得，Git这个代码版本管理工具最大的优势有以下几个。

- Git 是一个分布式的版本管理工具，而且可以是单机版的，所以，你在没有网络的时候同样可以提交（commit）代码。对于我们来说，这意味着在出差途中或是没有网络的环境中依然可以工作写代码。
  
  这是不是听起来有点不对？一方面，以后你再也不能以“没有网络”作为不能工作的借口了。另一方面，没有网络意味着没有Google和StackOverflow，光有个本地的Git我也一样不能写代码啊……（哈哈。好吧，这已经超出了Git这个技术的范畴了，这里就不讨论了）
- Git从一个分支向另一个分支合并代码的时候，会把要合并的分支上的所有提交一个一个应用到被合并的分支上，合并后也能看得到整个代码的变更记录。而其他的版本管理工具则不能。
- Git切换分支的时候通常很快。不像其他版本管理器，每个分支一份拷贝。
- Git有很多非常有用的命令，让你可以很方便地工作。

比如我很喜欢的`git stash`命令，可以把当前没有完成的事先暂存一下，然后去忙别的事。`git cherry-pick`命令可以让你有选择地合并提交。`git add -p`可以让你挑选改动提交，`git grep $regexp $(git rev-list --all)`可以用来在所有的提交中找代码。因为都是本地操作，所以你会觉得速度飞快。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/05/e5/aa579968.jpg" width="30px"><span>王磊</span> 👍（15） 💬（2）<div>git state还是个git stash？</div>2018-06-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/42/8c/373d4027.jpg" width="30px"><span>龍蝦</span> 👍（108） 💬（5）<div>Git-Flow 和 GitLab-Flow 都有 release 分支，虽然都称为 release，但作用完全不同。
在 Git-Flow 中，release 是介于 dev 和 master 之间，作用是发布前的准备工作（通常应该是用于更全面测试），从 dev 分叉 release 是为了避免阻塞 dev 分支上继续开发新功能；release 属于临时性分支，准备工作完成后是以 Fast-Forward 方式合并到 master；release 上可能会修复一些 bug，所以还要把 release 合并回 dev；发布软件是从 master 上构建。从名称看，release 应该叫做 pre-release，而 master 应该叫 release 。
在 GitLab-Flow 中，release 是从 master 分叉出来，可能会有多个 release 分支，对应软件不同版本。从 master 分叉一个 release （版本）后，可能发现还需要合入一些新功能，所以通过 cherry-pick 方式从 master 中挑选某些功能，不能直接从 master 合并，因为仅需要 master 上的某些新功能而不是全部新功能。release 属于长期分支，而且分叉以后不会再与其它分支合并。除非某个版本不再维护，不然对应 release 会持续存在，因为发布出去的软件随时可能发现 bug 需要修复。</div>2018-01-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/51/30/da6ae0d8.jpg" width="30px"><span>cellardoor</span> 👍（31） 💬（2）<div>有些人喜欢把事情做的很复杂，以至于看不出有什么问题。有些人喜欢把事情做的很简单，看起来似乎有些问题。</div>2018-01-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/7c/16/4d1e5cc1.jpg" width="30px"><span>mgxian</span> 👍（26） 💬（2）<div>请问老师的架构图 示意图 是用什么软件画的 感觉很不错</div>2018-01-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3b/f4/244f0c5e.jpg" width="30px"><span>Rain</span> 👍（24） 💬（0）<div>分享个小技巧
mac下使用iterm2终端搭配zsh，有非常好用的git快捷键（当然也可以自己alias)，类似gco，gcd，gcm，gl，ggpush，ggsup等等，能少敲不少重复的字符，极大提升效率</div>2018-12-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/53/a6/c70dce0d.jpg" width="30px"><span>tao</span> 👍（16） 💬（0）<div>我觉得看团队大小吧。7人以下的团队小而快，直接全部用单master分支就可以，所有人用rebase，防止出现太多分叉。feature分支和bug分支都开发人员自己管理就好</div>2018-06-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/6f/a3/78127225.jpg" width="30px"><span>温LELE🍀</span> 👍（15） 💬（0）<div>几年前，微软终于开始普及Git了，选择的协同工作流是GibHub flow，大大滴改善了生产效率。 读了这篇文章，了解了还有其他工作流方式，还是觉得GitHub简单些，更适合服务化的场景。</div>2019-03-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/76/08/34ef210b.jpg" width="30px"><span>jerry Zhou</span> 👍（12） 💬（8）<div>为了避免有 merge 动作，你可以使用 git pull --rebase 。这样就可以把服务器上的提交直接合并到你的代码中，对此，Git 的操作是这样的。   为什么要避免merge动作？</div>2018-08-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/07/84/18d30516.jpg" width="30px"><span>飞扬</span> 👍（10） 💬（3）<div>在百度内部开发使用一种叫做「分支开发分支发布」的工作流，虽然不算银弹吧，但是总的来说比文中提到的更简单清晰一些，也更容易上手，配合agile这个持续集成工具，是我目前见到的最好的协同工作流了。</div>2019-03-21</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epIoFmmRCVg6CbBiaubtWjHnicEYtaUQiav7pAg8gtV8wfr3zyiazqtVibUQplPLI7tO4DaDia3JUaOs6yQ/132" width="30px"><span>绿茶</span> 👍（7） 💬（0）<div>Git只是工具，花大把时间还不如花在软件架构上自动化上，哈</div>2020-04-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/59/37/bd2de0a4.jpg" width="30px"><span>edisonhuang</span> 👍（5） 💬（0）<div>git协同工作流的背后，其实隐藏着公司软件架构和自动化软件生产和运维。当采用SOA服务式的架构后，团队自然的被拆分得比较小，在团队内部几乎是采用中心协同工作流的方式，开发迭代速度非常快，而整个系统在paas集成又确保了公司范围内不同组并行协作，从而保证公司级别的人效最大化。
不同的协作方式，工作流模式，目标都在于尽可能的在开发效率和沟通协作两个方面做权衡，让模式尽可能适应团队的规模，从而保证人效的提高。</div>2019-05-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/2d/7a/3a37efe4.jpg" width="30px"><span>金霖</span> 👍（4） 💬（0）<div>读了之后有个很明显的感觉就是--万事万物没有银弹：
很少有一种工具、方法，适合所有的情况，更多是根据自己的情况挑选最适合的方法。
同时要意识到，环境是在变化、技术在更新，随时有都有可能有更适合当前环境的工具，也随时有可能发生大的环境变化。
关心事物的本质特征，关心工具解决的核心问题，关心工具的核心原理，这样就更容易选择、切换合适的工具来提升效率、质量。</div>2019-12-14</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/hg9Tsg2iaBeG6Q5mxiczjw1ph0OvhKziblEIiaOxg4gwQ0Dgia7Fw7pDQ0mM8AL5SJAm2Yavk1RmBJrFd9jKPBQRkOw/132" width="30px"><span>小毅</span> 👍（4） 💬（2）<div>皓哥，文章里面的说：一个大型软件会被拆分成若干个服务，那么代码应该也会跟着服务拆解成若干个代码仓库～ 这样随着组里面的项目越来越多，开发维护起来会不会不方便？ </div>2018-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/25/9a/13d5ab10.jpg" width="30px"><span>佐倉 桜</span> 👍（3） 💬（1）<div>git push -f 一把梭 : )</div>2021-06-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/85/db/f978ddcd.jpg" width="30px"><span>BeginYan</span> 👍（2） 💬（1）<div>很多大公司都推崇主干开发，分支上线的方式，耗子叔怎么看？</div>2020-04-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ad/a7/14246c67.jpg" width="30px"><span>浩子</span> 👍（2） 💬（0）<div>耗子哥，写的很在理。是应该在项目本身就开始根据业务进行拆分。再进行监控等</div>2018-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg" width="30px"><span>渣渣辉</span> 👍（1） 💬（0）<div>要是我在2017年能看到这个文章就好了。那年大二</div>2023-07-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/95/a5/de5df896.jpg" width="30px"><span>JSJohnsonJS</span> 👍（1） 💬（0）<div>svn如果要进行多分支开发的时候，每次都会拉取一份新的代码拷贝，而git不会，git在本地仓库的代码，其实是所有分支公用的，这样就意味着，开发人员一开始拉取了master分支后，后续拉取的所有分支，都仅仅只是拉取增量部分而已，不会重新完整的下载一份拷贝，这个特性简直太棒了。前一段时间公司要求从svn迁移到git，网速很慢，一直在想每次拉取新分支下载很久咋办，没想到，今天看到这里，突然就想明白了，O(∩_∩)O哈哈~</div>2022-06-26</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erpYZalYvFGcBs7zZvYwaQAZwTLiaw0mycJ4PdYpP3VxAYkAtyIRHhjSOrOK0yESaPpgEbVQUwf6LA/132" width="30px"><span>Harlan</span> 👍（1） 💬（0）<div>老师 我想 问下 GitHub Flow  怎么解决merge master时因为多个版本并行代码冲突问题</div>2020-09-25</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/dsZ5CFV7mCIKEn7YcVFJXksO201eeqsJXoT4EYNvcibAKNSWSQVZPbbRgPKraWqg6YnaaRlVoywic9MEsflicRDibQ/132" width="30px"><span>潜龙勿用</span> 👍（1） 💬（1）<div>我们公司的流程更复杂，分支和环境对应，长期维护3个分支，分别是master、env-test、env-dev。功能分支从master分出来，开发完成，功能分支合并到env-dev，部署到开发环境，联调完成后功能分支合并到env-test，测试完成后功能分支合并到master，上线使用master分支。</div>2020-09-10</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/GiciaicKlFp8XvLux7sb5RfXeyl1xLwYTAMSzZKTics6ANsKbrCdbw1PMlMSSLyZGILfyOEW1ETP9Lft7dVB1nPA5w/132" width="30px"><span>Geek_579df7</span> 👍（1） 💬（0）<div>推荐一下[lazygit](https:&#47;&#47;github.com&#47;jesseduffield&#47;lazygit).</div>2020-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/42/20/d195a6db.jpg" width="30px"><span>几度嘟嘟</span> 👍（1） 💬（0）<div>与其花时间在 Git 协同工作流上，还不如把时间花在调整软件架构和自动化软件生产和运维流程上来，这才是真正简化协同工作流程的根本。—— 真理</div>2020-06-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/39/67/e1ef109a.jpg" width="30px"><span>林</span> 👍（1） 💬（0）<div>关注系统架构和项目自动部署流程，这些工作流都只是配合的工具</div>2020-04-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/df/e8/359adede.jpg" width="30px"><span>lubiaook</span> 👍（1） 💬（1）<div>我们没有协同  都是直接在主干上撸  尤其是bpmn文件冲突了根本无法merge  只能从生产拉下来重新绘制</div>2020-04-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/db/4d/8dec7917.jpg" width="30px"><span>迪</span> 👍（1） 💬（0）<div>采用Gitflow 工作流，feature开发 develop合并，release发布</div>2020-03-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/61/36/343a8ef8.jpg" width="30px"><span>郎哲</span> 👍（1） 💬（0）<div>我们目前方式 类 「GitLab Flow」小的变动功能上master，稍微负责的打功能分支。在一个目标内打relase版本，fixbug在release上并pick到master。现在遇到 多个项目都对release有要求，然后就变成串行了。正考虑为强要求的项目单独relase和维护。客户端的不干了 说版本太多不发版本容易出错。目前正忍受串行。</div>2018-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/83/74/c3866382.jpg" width="30px"><span>很大气</span> 👍（1） 💬（1）<div>在实际开发中，如果有并行的需求应该怎样管理分支呢？</div>2018-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/e8/55/63189817.jpg" width="30px"><span>MClink</span> 👍（0） 💬（0）<div>文中的这些参数很少用到，基本都是 git add , git commit , git fetch , git pull , git merge, git checkout (-b), git stash，git push, 这些命令完全可以解决日常工作95%。</div>2023-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg" width="30px"><span>无咎</span> 👍（0） 💬（0）<div>基于AOSP的多repo工作流，分支管理包括长期的Master分支及其短期的Stable(Release)分支。
特性开发在本地搞，基本上一个commits搞定，可能涉及到多个repo。
没有merge，全部是rebase。
Commits push到主线，如果有Stable分支，同步cherry-pick，进线都需要Code Review通过。</div>2023-02-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/c5/42/255602d0.jpg" width="30px"><span>dawa大娃bigbaby</span> 👍（0） 💬（0）<div>项目中目前正在采用作者提到的Devops的工作方法。</div>2020-11-01</li><br/>
</ul>