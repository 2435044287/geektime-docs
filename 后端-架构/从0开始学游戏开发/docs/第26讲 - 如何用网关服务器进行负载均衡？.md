我们费劲心思做了一款游戏，那肯定希望有很多人来玩。一旦玩家数量开始多起来，服务器需要承担的压力就会变大，我们就需要做负载均衡了。

所谓的负载均衡，就是对外有一个公共地址，在请求过来的时候，通过轮询、随机分配等方式，定点到不同的服务器，以分摊服务器的压力。

## 两种常用的负载均衡技术

常用的负载均衡技术有**软件模式**和**硬件模式。**

其中，硬件模式用得比较多的是F5。F5是F5 Networks公司提供的一个负载均衡器专用设备， F5 BIG-IP LTM 的官方名称叫本地流量管理器，可以做4～7层负载均衡，具有负载均衡、应用交换、会话交换、状态监控等等全备的强大网络功能。

F5硬件负载均衡的优点是，负载均衡能直接通过智能交换机实现,处理能力更强，与操作系统无关，负载性能强，适用于一大堆设备、大访问量，其缺点也是很明显的，那就是购买成本高，设备的配置冗余，有些用不上的都给默认配置了。另外，由于设备只有单个，所以单个负载均衡配置无法有效掌握所有服务器及应用状态。

硬件的负载均衡，是从网络层来判断负载规则，所以有时候软件的系统处理能力出现问题，网络硬件还可以作出负载的动作。

软件模式的话，比较常用的软件的有LVS、Nginx、HAProxy。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/69/6b/28748de2.jpg" width="30px"><span>以往</span> 👍（11） 💬（1）<div>每次将网关返回的结果在本地做缓存，如果连接网关超时，使用最近一次使用的逻辑服务器的IP和端口。

或者在前端存个网关列表，一台出问题在备选机器之间切换。</div>2018-09-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>把网关服务器也做成集群负载模式。</div>2024-04-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg" width="30px"><span>William Ning</span> 👍（0） 💬（0）<div>所以。老师，您好，有个问题，网关和负载均衡器是什么关系？
谢谢～</div>2022-03-14</li><br/>
</ul>