你好，我是大明。

之前我在极客时间的毛剑老师的Go进阶训练营里，为基础不太好的同学开了一个小课，主要是通过讲如何设计一个 Web 框架来带领学员一起巩固 Go 基础，侧重点在 Go 语法上，没有深入讨论设计本身以及设计理念。

但是，教会如何用一个框架是个很简单的问题，教会如何做抽象才是一个很难、但很有价值的问题。所以今天我想借这篇加餐的机会，围绕 Web 框架的设计，来分享一下我平时在做设计和落地时对抽象的一些体会。

在开始讨论之前，我们要先搞清楚一个问题：为什么抽象那么重要？

因为我认为，**程序是人对现实世界的抽象的形式化描述**。它包含两层含义：第一个含义是要先建立对现实世界抽象；第二个是能够将这个抽象落地为代码，也就是设计。因此，抽象是设计的前提。

通俗点就是，如果你不能正确认识问题，怎么奢求自己能够正确解决问题呢？所以，我们先稍微讨论一下 Web 框架，看看它背后对应的问题。

## Web 框架

Web 框架要解决的问题是什么？处理 HTTP 请求。进一步细想，我们会想到具体如何处理请求，但这不是 Web 框架的事情，而是用户的事情。比如说用户登录的请求，Web 框架肯定是不知道如何处理的。

所以我们能够认识到，**Web 框架主要负责：接收请求、找到用户处理逻辑调用一下、再把响应写回去。也就是三件事：接受请求、分发请求、写回响应**。如果用伪代码来描述就是：
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/11/fd/45e90d04.jpg" width="30px"><span>Casin</span> 👍（0） 💬（1）<div>最近刚好在设计系统，学习了</div>2022-07-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/f1/ed/4e249c6b.jpg" width="30px"><span>Vincent</span> 👍（3） 💬（0）<div>高屋建瓴，对于抽象的价值与过程，又加深了</div>2021-11-24</li><br/>
</ul>