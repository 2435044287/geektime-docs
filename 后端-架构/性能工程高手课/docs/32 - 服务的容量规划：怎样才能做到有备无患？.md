你好，我是庄振运。

今天我们来讨论一下在公司运营方面很重要的**容量规划**。容量规划，就是根据互联网服务的需求和公司发展目标，而决定容量的供应能力的过程。

光说概念你可能不太明白，不过你可以这么理解，容量规划是为了回答一系列和公司业务运营有关的重要问题而产生的：

- 单台服务器的最大处理能力是多少？
- 未来半年公司还会有多少可用容量？
- 春节前如果要进行一次大促，当前的容量能不能支撑？
- ……

今天我先讲容量规划的目标和基本过程，然后再一个一个地讲容量规划的六大挑战。

我们前面也大概提到过，容量规划的目的有两方面。一方面是为了保证公司的正常运营和业务增长，及时地提供足够的容量，来满足未来所需。另一方面，也是希望空闲的容量越少越好，因为每一台空闲的服务器，都消耗公司的运营成本。

现代的互联网服务规模的扩展，主要是用“水平扩展”而不是“垂直扩展”（通过增加服务器的数量和网络的带宽来提供更多的容量，而不是通过升级服务器）。相对于垂直扩展，水平扩展的优点显而易见，就是成本相对较低、调整容易、扩展性好。

## 怎么做容量规划？

整个容量规划的过程分为几部分：首先是容量测试来决定单位容量的负载能力；同时确定公司的业务增长需求，并且获取公司的运营预算。然后集成其他的考虑因素（包括时间、地域、灾难恢复等），做出合理的规划和决策。最后根据决策结果，进行容量订购。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/75/dd/9ead6e69.jpg" width="30px"><span>黄海峰</span> 👍（2） 💬（2）<div>我们就是程序员自己容量规划，而且领导和其他上游都觉得这事很简单，现在说了要求很快就要给出结论。。。所以很多时候我们也是随便看几个指标然后拍脑袋给个结论</div>2020-02-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg" width="30px"><span>钱</span> 👍（1） 💬（0）<div>哈哈，我们也是拍脑袋，先拍再说，多了有监控看利用率不够再减，少了再拍脑袋加几台，原则上往多了要，服务的可用性比多几天低利用率的机器更重要。
如果规划的正好，应该也能做到不过这也需要成本，这部分成本猜测不一定比拍脑袋小。</div>2020-03-15</li><br/>
</ul>