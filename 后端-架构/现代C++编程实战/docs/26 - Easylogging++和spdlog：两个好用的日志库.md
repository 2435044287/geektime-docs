你好，我是吴咏炜。

上一讲正文我介绍了两个可以在 C++ 中进行单元测试的库。今天，类似的，我介绍两个实用的日志库，分别是 Easylogging++ \[1] 和 spdlog \[2]。

## Easylogging++

事实上，我本来想只介绍 Easylogging++ 的。但在检查其 GitHub 页面时，我发现了一个问题：它在 2019 年基本没有更新，且目前上报的问题也没有人处理。这是个潜在问题，除非你觉得这个库好到愿意自己动手修问题（话说回来，这个库还是不错的，我在这个项目贡献了 8 个被合并的 pull request）。不管怎样，原先说了要介绍这个库，所以我也还是介绍一下。

### 概述

Easylogging++ 一共只有两个文件，一个是头文件，一个是普通 C++ 源文件。事实上，它的一个较早版本只有一个文件。正如 Catch2 里一旦定义了 `CATCH_CONFIG_MAIN` 编译速度会大大减慢一样，把什么东西都放一起最终证明对编译速度还是相当不利的，因此，有人提交了一个补丁，把代码拆成了两个文件。使用 Easylogging++ 也只需要这两个文件——除此之外，就只有对标准和系统头文件的依赖了。

要使用 Easylogging++，推荐直接把这两个文件放到你的项目里。Easylogging++ 有很多的配置项会影响编译结果，我们先大致查看一下常用的可配置项：
<div><strong>精选留言（11）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIcu5pBsZPqcEqcG4GxreeaG3M2llROzBIMlDHuv2cpVURaTkhwg1KKxhsvhvSicu6CMS27Bw6rDCA/132" width="30px"><span>吴先生</span> 👍（4） 💬（1）<div>glog, gflags, gtest 我们的工程里都用这些，可不可以比较一下</div>2020-01-31</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKSEVQdSoW2S5AnBWq1LQyRiakCJVORLdyFI2ttl8AWdicQOQG24BiccbEkcKBuxAH2Q5wWh9T8qkb0Q/132" width="30px"><span>Geek_power</span> 👍（1） 💬（1）<div>吴老师，您好，我现在多进程使用spdlog。意思就是多进程使用spdlog向同一个文件写日志，会有两条日志串行的情况，spdlog不支持多进程吗？</div>2022-02-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/96/a6/aac2a550.jpg" width="30px"><span>陌</span> 👍（1） 💬（1）<div>老师，问一个非常基础的问题: CMakeLists 在工程项目中到底该怎么使用? 如何正确的使用第三方库，例如这里的 spdlog。有例子可以查看吗?</div>2021-04-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/6c/ea/e03fec22.jpg" width="30px"><span>泰伦卢</span> 👍（1） 💬（1）<div>之前都在用glog，觉得有必要换成spdlog</div>2020-01-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/ad/c8/dd337107.jpg" width="30px"><span>干尾巴</span> 👍（0） 💬（1）<div>想问一下我专门开一个线程sleep来作为定时执行任务。我可以保证我的这个线程sleep中途不会被唤起。这样有问题吗？</div>2022-09-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/f6/30/72b1263d.jpg" width="30px"><span>小南</span> 👍（0） 💬（2）<div>spdlog不支持unicode么，那如果需要使用中文字符是不是easyloggoin++更合适</div>2021-08-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/d5/f1/dfe65e31.jpg" width="30px"><span>江波 (Jiang, Bo)</span> 👍（0） 💬（1）<div>有没有日志库能做比较细粒度的性能测量？比如10纳秒级的。spdlog貌似本身的性能开销就在微秒级。</div>2021-02-07</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/pCVwNYT22UX6XAXJ5XLmbSHRmuPIncaJkS7S6kUKe0C8qWURib8zOhHTPwR36FeZZ4BcnKuDia4nrekqDnAkxdJQ/132" width="30px"><span>luke</span> 👍（0） 💬（3）<div>有个问题，库用了spdlog，使用这个库的应用也引入了spdlog，造成了冲突，这样怎么解决？库的日志一般怎么处理？</div>2020-12-23</li><br/><li><img src="" width="30px"><span>Geek5198</span> 👍（0） 💬（1）<div>老师，您好，请问spdlog支持日志过期时间配置然后自动删除的功能吗</div>2020-10-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/a2/54/49dfb810.jpg" width="30px"><span>宵练2233</span> 👍（1） 💬（0）<div>nanolog 是我见过的最快以及日志超级小的logger</div>2021-06-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/16/65/c22b4415.jpg" width="30px"><span>风华神使</span> 👍（0） 💬（0）<div>我独自负责或主导的程序中肯定用spdlog。format方式才是符合通常思维方式的做法</div>2024-01-10</li><br/>
</ul>