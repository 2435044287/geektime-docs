你好，我是宫文学。

在前面两讲，我们讨论了各门语言支持的并发计算的模型。线程比进程更加轻量级，上下文切换成本更低；协程则比线程更加轻量级，在一台计算机中可以轻易启动几十万、上百万个并发任务。

但不论是线程模型、还是协程模型，当涉及到多个线程访问共享数据的时候，都会出现竞争问题，从而需要用到锁。锁会让其他需要访问该数据的线程等待，从而导致系统整体处理能力的降低。

并且，编程人员还要特别注意，避免出现死锁。比如，线程A持有了锁x，并且想要获得锁y；而线程B持有了锁y，想要获得锁x，结果这两个线程就会互相等待，谁也进行不下去。像数据库这样的系统，检测和消除死锁是一项重要的功能，以防止互相等待的线程越来越多，对数据库操作不响应，并最终崩溃掉。

既然使用锁这么麻烦，那在并发计算中，能否不使用锁呢？这就出现了Actor模型。那么，**什么是Actor模型？为什么它可以不用锁就实现并发？这个并发模型有什么特点？需要编译技术做什么配合？**

今天这一讲，我们就从这几个问题出发，一起学习并理解Actor模型。借此，我们也可以把用编译技术支持不同的并发模型的机制，理解得更深刻。

首先，我们看一下什么是Actor模型。

## 什么是Actor模型？
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/e6/3b/2d14b5e1.jpg" width="30px"><span>顾仲贤</span> 👍（14） 💬（1）<div>小骄傲一下，本人在WhatsApp工作，目前所有的Infra还是用Erlang搭建的微服务，很稳定。当初被Facebook收购时，只有不到30个engineer(Infra就更少了)来maintain1.4B的月活，这就是Erlang的厉害之处吧。</div>2020-09-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/f7/fb/16a90539.jpg" width="30px"><span>gkkrjj</span> 👍（2） 💬（1）<div>这些技术之前都没接触过 是不是技术栈太浅了？</div>2020-11-13</li><br/><li><img src="" width="30px"><span>myrfy</span> 👍（2） 💬（1）<div>在仪器仪表领域很流行的labview虚拟仪器开发环境中，labview的运行时感觉就是一个actor模型，每个图标节点之间通过连线表示的通道传递数据</div>2020-09-02</li><br/><li><img src="" width="30px"><span>minghu6</span> 👍（0） 💬（0）<div>这个东西在函数式编程风格的语言里很常见</div>2021-06-20</li><br/><li><img src="" width="30px"><span>walnut</span> 👍（0） 💬（0）<div>actor的消息队列也需要锁保护吧?</div>2021-01-26</li><br/>
</ul>