你好，我是宫文学。

正如我在上一讲的“课程导读”中所提到的，在“现代语言设计篇”，我们会开始探讨现代语言设计中的一些典型特性，包括前端、中后端、运行时的特性等，并会研究它们与编译技术的关系。

今天这一讲，我先以前面的“真实编译器解析篇”所分析的7种编译器作为基础，来总结一下它们的前端技术的特征，为你以后的前端工作做好清晰的指引。

在此基础上，我们还会进一步讨论语言设计方面的问题。近些年，各种新语言都涌现出了一个显著特征，那就是越来越考虑对程序员的友好性，运用了人机工程的思维。比如说，自动类型推导、Null安全性等。那么在这里，我们就一起来分析一下，要支持这些友好的语法特征，在编译技术上都要做一些什么工作。

好，首先，我们就来总结一下各个编译器的前端技术特征。

## 前端编译技术总结

通过前面课程中对7个编译器的解读分析，我们现在已经知道了，编译器的前端有一些共性的特征，包括：手写的词法分析器、自顶向下分析为主的语法分析器和差异化的语义分析功能。

### 手写的词法分析器

我们分析的这几个编译器，全部都采用了手写的词法分析器。主要原因有几个：

- 第一，手写的词法分析实现起来比较简单，再加上每种语言的词法规则实际上是大同小异的，所以实现起来也都差不多。
- 第二，手写词法分析器便于做一些优化。典型的优化是把关键字作为标识符的子集来识别，而不用为识别每个关键字创建自动机。V8的词法分析器还在性能上做了调优，比如判断一个字符是否是合法的标识符字符，是采用了查表的方法，以空间换性能，提高了解析速度。
- 第三，手写词法分析器便于处理一些特殊的情况。在 [MySQL的词法分析器](https://time.geekbang.org/column/article/266790)中，我们会发现，它需要根据当前字符集来确定某个字符串是否是合法的Token。如果采用工具自动生成词法分析器，则不容易处理这种情况。
<div><strong>精选留言（4）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/ec/4a/40a2ba79.jpg" width="30px"><span>reverse</span> 👍（2） 💬（1）<div>补充以下 JS 从ES6 就已经支持多行字符串字面量了</div>2020-08-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/a7/4d/096e99ec.jpg" width="30px"><span>Tino＇s Park</span> 👍（0） 💬（2）<div>请问多行字符串中如果包含起止符号，怎么处理？</div>2020-09-16</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epP0aHseGFYtPYbWf4mHl9JQoLAFZ5yXJwLUWibXuhoydibY5wIjL13QQzcibNIp69o37clnuicw8M1tg/132" width="30px"><span>琴魂醉</span> 👍（0） 💬（0）<div>最后的前端总结图中  语义共性  “应用消解”应该是“引用消解”</div>2021-11-05</li><br/><li><img src="" width="30px"><span>minghu6</span> 👍（0） 💬（0）<div>建议看一下Haskell的类型系统</div>2021-06-20</li><br/>
</ul>