在平时的生活中，我们几乎时时刻刻都在使用操作系统，只是大部分时间你都意识不到它的存在。比如你买了一部手机或者一台平板电脑，立马就能上手使用，这是因为它们里面都预先安装了操作系统。

所以啊，哪有什么岁月静好，只不过有人替你负重前行。而操作系统就扮演了这样一个负重前行的角色。那操作系统到底在背后默默地做了哪些事情，才能让我们轻松地使用这些电子设备呢？要想回答这个问题，我们需要把眼光放回到自己攒电脑的那个时代。

## 电脑组装好就能直接用吗？

那时候买电脑，经常是这样一个情景：三五个哥们儿一起来到电脑城，呼啦呼啦采购了一大堆硬件，有密密麻麻都是针脚的**CPU**；有铺满各种复杂电路的一块板子，也就是**主板**；还需要买块**显卡**，用来连接显示器；还需要买个**网卡**，里面可以插网线；还要买块**硬盘**，将来用来存放文件；然后还需要一大堆**线**，将这些设备和主板连接起来；最终再来一个**鼠标**，一个**键盘**，还有一个**显示器**。设备差不多啦，准备开整！

![](https://static001.geekbang.org/resource/image/ed/45/ed03667738a92d66626914fe5dc78d45.png?wh=1504%2A1008)

好不容易组装完这一大堆硬件，还是不能直接用，你还需要安装一个操作系统。安装操作系统也是一件非常复杂的事，一点儿也不亚于把刚才那堆东西组装起来。这个安装过程可能会涉及十几个步骤、几十项配置。每一步骤配置完了，点击下一步，会出现个进度条。伴随着一堆难以理解的描述，最终安装步骤到达百分之百，才出现你熟悉的那个界面。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYzicZCK7z3OOEC3TyVn16t8iclz2jniaHEHuhnabh4qgcfeuGxS5WzolmVEwB90Co9A6lS04ukNziaA/132" width="30px"><span>阿秭</span> 👍（204） 💬（24）<div>对于什么办事大厅这种东西不熟悉的我，这个比喻特别凌乱。</div>2019-04-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/b0/ed/53c02651.jpg" width="30px"><span>PXQ</span> 👍（313） 💬（12）<div>我本来是想通过外包公司的比喻了解操作系统，却反而通过操作系统学习了外包公司</div>2019-04-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/d7/23/14b98ea5.jpg" width="30px"><span>TinnyFlames</span> 👍（100） 💬（6）<div>个人的理解，操作系统本质上是构建的一层抽象层，用来屏蔽复杂的底层硬件，向上层用户提供一种“假象”。 CPU(单核情况)，实际上是只有一个的，在一个特定时刻也只可能有一个程序跑在一个CPU上(因为寄存器只有一组)，但是我们在上层观察到的却是系统上好像同时运行着那么多的程序，这实际上是操作系统用进程这个概念对CPU做的抽象。
内存也是相似的概念，真实的内存和我们程序员看到的内存截然不同，操作系统通过内存映射等一系列技术让上层的程序员以为自己在操作一片连续的内存空间，实际上这只是操作系统对内存的抽象，是操作系统给程序员的幻象。
文件系统也是如此，我们看到的所谓的abcd盘符，真实的情况可能是一块机械硬盘，要找数据必须来回的寻道，找到数据的位置，操作系统通过一系列的操作，把如此复杂的过程层层抽象，抽象出了上层看起来简单的文件系统。
非常期待老师的新课，希望老师在用故事精彩的讲解概念的时候，也可以适当的补充一些基础的理论知识。</div>2019-04-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/3b/73/b17dc8fa.jpg" width="30px"><span>～～</span> 👍（40） 💬（4）<div>非常同意一楼楼主的观点，感觉没有这些比喻更容易让人理解，有了比喻反而更加凌乱。</div>2019-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/0e/1f/d0472177.jpg" width="30px"><span>厉害了我的国</span> 👍（36） 💬（3）<div>一会外包公司，一会操作系统，脑裂了～</div>2019-04-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/ef/ed/16545faf.jpg" width="30px"><span>Gavin</span> 👍（35） 💬（7）<div>作为新手想问一下该怎么看Linux内核代码啊，是下一个源码包吗。</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/63/84/f45c4af9.jpg" width="30px"><span>Vackine</span> 👍（13） 💬（1）<div>刘老师好！那个内核体系结构图里面，为啥网络子系统不和系统调用直接有连线？（难道是因为在linux里面，访问网络接口该网络接口对应的是一个文件描述符，所以算作是被文件系统管理），然后在设备管理子系统里面，既和系统调用有连线又和文件系统有连线（linux里面一切皆是文件，所以设备对于的描述符也作为文件，那和系统调用里面有连线的是指特殊的设备需要通过系统调用才能访问？比如屏幕显示设备？）</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1c/2e/93812642.jpg" width="30px"><span>Amark</span> 👍（9） 💬（1）<div>是不是也可以用医院这个系统解释操作系统，比如到医院后先去大厅，里面有各个系统，门诊，住院部，取药，....</div>2019-04-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/31/f4/467cf5d7.jpg" width="30px"><span>MARK</span> 👍（9） 💬（1）<div>学Linux同时学项目管理了，老师知道我早晚要转行么（：</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/be/d0/7f37f35f.jpg" width="30px"><span>小武</span> 👍（6） 💬（1）<div>为何同学们都是如此优秀，老师的课程和评论区都能学到知识</div>2019-04-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg" width="30px"><span>yang</span> 👍（6） 💬（1）<div>老师， 那我们安装的操作系统本身，算不算文件系统？ 

意思就是，它们也是一堆有组织有纪律的文件，只是组成了可以调度物理设备的文件系统安装在了磁盘上。

我又有一个新问题了，那电脑启动的时候，就是我们按下电源键的时候，系统是怎么运行起来的呢？ 
</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/32/b5/7f1e4280.jpg" width="30px"><span>Shame</span> 👍（5） 💬（1）<div>老师，在描述进程管理子系统的部分，CPU是理解为开发人员么，因为文章里说开发人员按照项目执行计划书执行，进程的执行需要分配CPU按照二进制代码一行一行执行，但是下面又说，如果项目多，就考察项目经理的调度能力了，如果进程多，就考察CPU的调度能力，这里CPU是项目经理的角色，是不是有点矛盾呢，我理解的应该是进程管理子系统扮演项目经理的角色吧，希望老师能解答一下，谢谢！</div>2019-04-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/d7/39/6698b6a9.jpg" width="30px"><span>Hector</span> 👍（4） 💬（1）<div>一刷很吃力和混乱，没有体系化，看完20讲回来复习一遍，感觉老师的功力果然是黑山老妖级别的，哈哈，清晰易懂</div>2019-05-16</li><br/><li><img src="" width="30px"><span>Geek_kur7vg</span> 👍（4） 💬（1）<div>客户是指我们，人发起一个操作？</div>2019-04-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/dd/5e/2354204d.jpg" width="30px"><span>古古惑惑</span> 👍（3） 💬（1）<div>我理解的Linux内核代码结构，如有不对请指正：
kernel：内核管理核心代码，其中子目录sched包含进程管理子系统代码；
fs：文件管理子系统；
mm：内存管理子系统；
net：网络子系统；
drivers：设备子系统；
arch：体系架构相关代码。
附一个在线阅读Linux源码的网站，方便学习时查询：
https:&#47;&#47;elixir.bootlin.com&#47;linux&#47;v4.0&#47;source</div>2019-06-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e1/0e/dde741d7.jpg" width="30px"><span>小马</span> 👍（3） 💬（1）<div>Windows操作系统和Linux操作系统是不是都可以一样理解？</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/af/fe/e9127277.jpg" width="30px"><span>木木</span> 👍（2） 💬（1）<div>果然还是不习惯用这种比喻的方式讲，感觉都看不到操作系统的术语了</div>2020-06-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg" width="30px"><span>业余爱好者</span> 👍（2） 💬（1）<div>第一遍是蒙圈的。看了结语过来二刷。然后突然发现老师外包公司的比喻挺妙的。

有一个疑问，为什么最后的图中进程管理系统和文件管理系统之间有一条线连接起来</div>2019-09-02</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eptFASJ42FicKtoBDzjicucxAktbLj5sjB38kHdXQ4nXXpcG5PHxUmHEvV1ia4Bs5RCOAlgBCibicf0XUw/132" width="30px"><span>行之</span> 👍（1） 💬（1）<div>我是这么理解的。
站在内核（老板）的角度，各种程序（进程）就是用户。
站在程序的角度，使用者就是客户。

琢磨最后一张体系结构图，感觉是好理解一些，</div>2019-05-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/dc/c3/e4ba51d5.jpg" width="30px"><span>Flash</span> 👍（1） 💬（1）<div>文章标题是可以把linux内核看做是软件外包公司的老板，为什么不是看做是软件外包公司呢？</div>2019-04-28</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/pFP1kS6LvHItObia91rB9Ht78hB8yWNbGfGibQQgGUv2Yrck2SD2c5OdvYLr7iabxwckAddLdrdJlgHqCAudIXJQw/132" width="30px"><span>CUjamin</span> 👍（1） 💬（1）<div>我攒电脑那会儿还得要音响，软驱刚刚被淘汰</div>2019-04-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/3f/39/a4c2154b.jpg" width="30px"><span>小昭</span> 👍（1） 💬（1）<div>听了三遍了还是有点懵，继续听第四遍去……</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/85/1c/98815d0f.jpg" width="30px"><span>L</span> 👍（1） 💬（1）<div>老师特意强调用户和客户，还是没太明白，现在不是就把操作系统比做一个外包公司了吗</div>2019-04-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg" width="30px"><span>业余爱好者</span> 👍（0） 💬（1）<div>从图中可以看出内存管理处于一个比较中心的位置。

系统调用可以直接操作设备，这就是所谓的裸io吧?</div>2020-06-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e1/5c/86606d9c.jpg" width="30px"><span>湮汐</span> 👍（0） 💬（1）<div>哪有什么岁月静好，只不过有人替你负重前行！说的真好！小时候以为生活很轻松，长大了才知道只不过是父母帮自己遮风挡雨！</div>2020-05-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e1/5c/86606d9c.jpg" width="30px"><span>湮汐</span> 👍（0） 💬（1）<div>想到要看linux的源码就有点头疼，有点不知道从何入手😂😂😂</div>2020-05-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f9/06/dea695ea.jpg" width="30px"><span>Katherine</span> 👍（0） 💬（1）<div>讲得非常生动形象，很快就懂了</div>2020-05-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/54/d6/124e2e93.jpg" width="30px"><span>Calios</span> 👍（0） 💬（1）<div>发现了自己的知识盲区，就刚好发现这个专栏可以填补。立个flag，每篇学完之后打卡。记录自己学了什么。虽然专栏早就完结了，但对于我来说，好饭不怕晚~🙃加油~</div>2020-05-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/39/f9/b2fe7b63.jpg" width="30px"><span>King-ZJ</span> 👍（0） 💬（1）<div>对于操作系统，真的是最熟悉的陌生人。对于内核，有几大子系统：系统调用、进程管理、内存管理、文件管理、设备管理和网络。慢慢有了一点点了解，跟进课程，一步步去了解和学习吧。</div>2020-05-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/41/87/46d7e1c2.jpg" width="30px"><span>Better me</span> 👍（0） 💬（1）<div>&quot;QQ 启动之后，有一部分代码会在显示器上画一个对话框。CPU 根据这些指令，就会告知显卡驱动程序，将这个对话框画出来。&quot;这里的一部分代码是指的QQ二进制文件中的代码吗？还有”CPU根据这些指令“也是指的是那一部分代码吗？这里的显卡驱动程序就只是执行画图操作吗？这里不太理解，老师有空看下
</div>2019-08-08</li><br/>
</ul>