你好，我是吴咏炜。

学到这里，你应该已经初步掌握 Vim 了。我们这一讲来重点看一下 Vim 里的七大常用编辑技巧。有些技巧你直接就可以用，有些则需要安装第三方插件。但无论是哪种情况，它们都可以大大提高你的编辑效率。

从这一讲开始，我们将不再讨论插件的安装过程，而只是给出像 skywind3000/asyncrun.vim 这样的名称。相信你学到现在应该已经不需要我再详细讲述这样的基础知识了。如果你对安装插件还不太熟练的话，请复习第 4 讲。接下来，我们正式开始今天的内容。

## 自动完成

自动完成是一个编辑器中很主流的功能了。通常，我们希望编辑器能在我们输入一部分内容时就能猜到我们希望输入的是什么，并能够予以提示。自动完成可以节约我们输入的工作量，是一件编辑中非常必要的利器。

Vim 内置有自动完成功能。最基本的自动完成功能有两种：

- 基于当前文件文本的自动完成
- 基于文件系统的自动完成

我们先说**基于当前文件文本**的自动完成。在当前文件里，或当前文件用 `#include`（C 类语言的情况）包含的文件里包含某个关键字时，你可以输入头若干个字母并按下 `<C-P>`（表示 previous）或 `<C-N>`（表示 next）来进行自动完成。这两者的区别是，`<C-P>` 是从当前位置往前找，而 `<C-N>` 是从当前位置往后找。当只有一个匹配项时，Vim 直接给出完成结果，再次按下 `<C-P>` 或 `<C-N>` 则取消自动完成。当存在多个匹配项时，Vim 会根据搜索顺序给出匹配项列表并使用第一个匹配项；再次按下 `<C-P>` 或 `<C-N>` 则可以在列表里进行选择。
<div><strong>精选留言（9）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg" width="30px"><span>我来也</span> 👍（6） 💬（8）<div>老师的这些常用技巧确实都很实用.

# 文本目标跳转
与文件名自动补全一样,有时还是非常实用的.
既然提到了`gf`,可以把类似的命令`gF`也记一下.
`:h gF` 和 &quot;gf&quot; 相同，但如果文件名后面跟随着数值，那么光标将定位在该文件名的该行上。

# Vim 寄存器 &#47; 剪贴板
今天对数字寄存器0-9和小删除寄存器`-`有了新的认识.之前完全没有留意过这几个.
作为补充,与`a-z`小写字母的寄存器对应的,`A-Z`大小的寄存器,表示在原来小写寄存器的内容后面追加.(虽然这个也不常用)

# 常用的寄存器使用场景
不确定老师是不是为了特意把`&quot;0`寄存器用起来才这么弄.
我是看了半天才弄明白的.

在`使用复制、自动选择、粘贴修改变量名`的场景中,如果构建的步骤合适,是可以用`.`命令,更简单的来实现相同的效果.
就拿图中的状况来说,我的按键序列可能是这样
1. `*`
　　全字匹配光标下的内容`foo`
2. `cwfoobar&lt;Esc&gt;`
　　编辑光标下的单词
3. `n`
　　跳转到下一处匹配的地方
4. `.`
　　重复上次的修改操作
5. `n.`
　　可以不断的重复

`只要每次构建的命令合适`,就可以用`.`命令方便的实现重复.

# 宏的录制和播放
作为补充,与寄存器类似,大写的`A-Z`宏,好像也是在原有宏的后面添加内容.

# `junegunn&#47;fzf.vim`
有精力的同学,这个插件可以好好的深挖一下.
有很多实用的功能待你去发掘.

# 题外话
针对MacOS下的同学,我推荐一款神器[paste](https:&#47;&#47;pasteapp.io&#47;)
它可以记录历史的剪切板内容. 还可以给他们取别名, 钉起来.

有了它,应对本文中`两处文本交换的演示`类似的场景,就有了另外一套搞法.
</div>2020-08-12</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKNDKOCoZvCqmn86B6h9icxf1htkd1ehXqIq7vpcddd98KAnGQiahrtibfjiagjd1VmZL0dnMxNAngiaxQ/132" width="30px"><span>乘风破浪</span> 👍（1） 💬（3）<div>请问老师您的bat如何配合fzf使用？我已经安装了bat，但是调出fzf, 还是无法显示语法高亮的效果。</div>2020-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/df/50/b9955f61.jpg" width="30px"><span>皮聪</span> 👍（0） 💬（1）<div>前9章看了两遍，内容确实不少，跟着做的话，感觉还好，光看的话就很难看下去。还是得做，这么多章对我而言，最麻烦的是正则那一章，不知道有没有快速的训练正则使用的方法。</div>2022-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1f/7a/6b/1b021705.jpg" width="30px"><span>大狗爱吃鱼</span> 👍（0） 💬（1）<div>win10下，fzf安装bat和ripgrep后，无预览小窗口，报&quot;Preview window not supported (bash not found in PATH)&quot;</div>2020-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a1/cd/2c513481.jpg" width="30px"><span>瀚海星尘</span> 👍（0） 💬（1）<div>边学边练了好几天，终于看完啦～技能学习还是得慢慢练哈，学了不练过几天就忘了</div>2020-09-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/35/3c/9800b0ba.jpg" width="30px"><span>李公子胜治</span> 👍（0） 💬（2）<div>老师，我最近学了你的c++专栏，准备实战剖析folly源码，结果根本看不到，老师觉得学习cpp分析源码这种学习方式咋样，另外，我最近买了一本  《c++沉思录》，但是网上说书太老了，请问老师还有必要看吗</div>2020-08-16</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132" width="30px"><span>pyhhou</span> 👍（0） 💬（2）<div>每一篇都是满满的干货，感谢老师，有几个问题

1. 文本目标跳转那里，貌似必须是有后缀名的文件名才能跳转过去？像是在 golang 和 javascript 中路径中文件的后缀是默认省去的，就没有办法跳转过去，不知道是不是需要自行配置或者依赖插件？

2. 用 &#47;... 全局搜索的结果会被高亮表示，但是回到正常模式或者插入模式，这个高亮显示一直都还在。该如何去除呢？感觉像是搜索寄存器里的值一直会显示出来，除非搜索一个全局不存在的东西才能让高亮消失。。。

3. 关于 a-z 寄存器那里，不知道老师有没有使用上面的习惯。感觉没有刻意去练习并习惯，一般也就临时用用，大概也就用到前 3 个吧。多了真的记不住。0-9 寄存器也是一样。估计还是要借助插件把这些寄存器的内容都显示出来？

4. 另外有关宏，感觉这个功能挺强大的。不知道老师后面会不会讲更多的应用场景？

越来越感觉到 vim 的强大。另外认识到好多 shell 上面的工具，像是 fzf，真是节省效率的利器。希望以后跟着老师多多认识并学习这方面的工具。另外，不知道老师有没有计划写几篇来专门讲实际应用的案例，虽然说每一篇针对每个点都有案例。但是我想的是如果能够有一个应用场景把前后讲的这些东西都串起来，这样跟着练习几次，熟练度会大大提高。毕竟 VIM 这东西不练还是不行的，工作中习惯了以往的编辑模式，要一下子应用上老师前前后后讲的这些内容，除非把注意力刻意放在编辑这一块，否则不太容易。</div>2020-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg" width="30px"><span>return</span> 👍（0） 💬（1）<div>实用。
确实有点多， 计划每天学一个，稳健。</div>2020-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/86/cf/3764011f.jpg" width="30px"><span>bianf</span> 👍（0） 💬（1）<div>我在vim插入模式下，输入当前路径下的其他文件开头，然后按下ctrl+f，终端窗口下方出现了文件名补全字样，同时也出现了文件名列表，可以用ctrl+f&#47;n&#47;p在匹配项中跳转，但是ctrl+x不行，输入ctrl+x只会显示^x 模式（^]^D^E^F^I^K^L^N^O^Ps^U^V^Y）但是您的文章里是说可以的，ctrl+x有什么特别的使用条件吗</div>2022-03-08</li><br/>
</ul>