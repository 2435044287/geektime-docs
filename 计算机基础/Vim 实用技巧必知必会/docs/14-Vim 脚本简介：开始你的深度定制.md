你好，我是吴咏炜。

学到今天，我们已经看到了很多的 Vim 脚本，只是还没有正式地把它作为一门语言来介绍。今天，我就正式向你介绍把 Vim 的功能粘合到一起的语言——Vim 脚本（Vim script）。掌握 Vim 脚本的基本语法之后，你就可以得心应手地定制你的 Vim 环境啦。

## 语法概要

首先，我们需要知道，通过命令行模式执行的命令就是 Vim 脚本。它是一种图灵完全的脚本语言：图灵完全，说明它的功能够强大，理论上可以完成任何计算任务；脚本语言，说明它不需要编译，可以直接通过解释方式来执行。

当然，这并没有说出 Vim 脚本的真正特点。下面，我们就通过各个不同的角度，进行了解，把 Vim 脚本这头“大象”的基本形状完整地摸出来。

在这一讲里，我们改变一下惯例，除非明确说“正常模式命令”，否则用代码方式显示的都是脚本文件里的代码或者命令行模式命令，也就是说，它们前面都不会加 `:`。毕竟我们这一讲介绍的全是 Vim 脚本，而不是正常模式的快捷操作。

### 打印输出和字符串

学习任何一门语言，我们常常以“Hello world!”开始。对于 Vim 脚本，我们不妨也这样——毕竟，打印是一种重要的调试方式，尤其对于没有专门调试器的脚本语言来说。

Vim 脚本的“Hello world!”是下面这样的：
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg" width="30px"><span>我来也</span> 👍（2） 💬（1）<div>干货满满!
照着文章学,看懂基本的vim脚本是没问题了.

看到vim的匿名函数,想不到vim脚本居然还支持函数式编程.

vim内置多语言的集成确实强大,现在好多脚本都有Python集成.
我最近看到`vim-visual-multi`插件居然用python来做脚本的测试.
它把Issue中一些bug的测试用例记录下来,然后用python来做测试.
想不到有人写个vim的插件,都这么的专业.

现代的语言还是更友好一点.
我对python不太熟,只能看懂和简单的修改.倒是对Lua比较熟.

作为vim脚本语法的补充,推荐一本电子书:
[The VimL Primer](https:&#47;&#47;book.douban.com&#47;subject&#47;26304281&#47;&#47;)
</div>2020-08-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/a1/cd/2c513481.jpg" width="30px"><span>瀚海星尘</span> 👍（1） 💬（0）<div>和老师一起写了这么久的配置，可算是能看懂了，哈哈！</div>2020-10-23</li><br/>
</ul>