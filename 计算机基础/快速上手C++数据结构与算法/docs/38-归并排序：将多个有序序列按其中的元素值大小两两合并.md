你好，我是王健伟。

上节课我们一起学习了选择类排序，回顾前面所讲，你会发现选择类排序的特点是每次从待排序的元素中选择一个最小或最大值，依次放到已经排序的序列末尾，最终得到有序序列。

而这次，我们学习一下归并排序。归并排序自成一类，它的实现方式和选择类排序不同。

归并排序，英文名称是Merging Sort。归并排序里的“归并”，也叫合并，其实就是把两个或者多个已经有序的序列合并成一个。简而言之，归并排序采用的是一种分而治之的思想，将待排序的序列不断二分，直到每个子序列只有一个元素，然后将相邻的子序列两两归并，最终得到一个有序的序列。

下面，我们就一起看一看归并排序都涉及到哪些基本概念。

## 基本概念

图1是两个有序序列（数组），现在我们希望利用归并排序把这两个数组合并成一个元素按从小到大排序的数组。

![](https://static001.geekbang.org/resource/image/3c/44/3c5a39c71864f56249830566871a6a44.jpg?wh=1504x275 "图1 两个待排序的有序序列（有序数组）")

既然要合并，那么首先必然要分配一个足以容纳两个有序数组中所有元素的内存空间，也就是一个新数组，然后进行下面的操作。

1. 针对每个数组都设置一个指向当前位置的指针（pi、pj、pk），初始状态时，这三根指针都指向数组的起始位置，如图2中的子图1。
2. 每一次都会对比pi和pj位置所指向的元素值到底哪个更小，把更小的元素放入到pk所指向的位置处。因为1&lt;2，所以把1放入到pk指针所指向的位置处，同时，把pk指针后移一个位置。当然，因为元素1已经被放入到了新数组中，自然pi指针也要后移一个位置，结果如图2中的子图2。
3. 重复上面第二个步骤，有那么一个时刻，有序序列1中的pi指针已经指向了最后一个元素后面的位置，这意味着有序序列1中的所有元素都被放入到了新数组中，只剩下有序序列2中还有没排好序的元素了，如图2中的子图3所示。
4. 此时，就不再需要元素大小的对比，直接把有序序列2中剩余的2个元素放入到新数组中，最终归并排序结果如图2中的子图4。