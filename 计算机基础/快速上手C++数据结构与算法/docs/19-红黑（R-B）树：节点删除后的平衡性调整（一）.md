你好，我是王健伟。

上次我和你分享了红黑树的概念和基础实现代码，以及向红黑树插入新节点后进行平衡性调整的方法。这次我将继续和你分享另一个重要的话题——从红黑树中删除一个节点后的平衡性调整。

红黑树的删除操作比较繁琐和复杂，所以我建议，如果能不实际删除则不做实际删除，比如将要删除的节点做个“删除”标记这样的解决方案看是否能解决问题。当然，本节课讲述的是如何将节点从红黑树中真正删除。

## 红黑树删除操作后的平衡性调整及实现代码

从红黑树中删除节点同样会让红黑树失衡，从而需要进行平衡性调整。前面曾经详细讲解过**平衡二叉树**（AVL）的节点删除操作，分三个主要步骤。

1. 查找要删除的节点。
2. 对节点进行相关的删除操作，注意，这里又分了几种情况。
3. 平衡性调整（旋转）。

对于**红黑树**的节点删除操作，同样分为3个主要步骤，而且其中前2个步骤与平衡二叉树的节点删除操作相同，实现代码也基本相同，需要注意的就是红黑树中有一个parent指针需要正确地指向父节点。而第3个步骤的平衡性调整除了进行旋转外还可能根据需要对节点进行**变色**操作。

首先回顾一下对节点进行删除操作所分的几种情况（这些知识前面已经讲解过）——针对所要删除的节点的子节点个数不同，有如下几种情况需要处理。