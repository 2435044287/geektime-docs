上一次，我们聊了影响代码效率的两个最重要的因素，需求膨胀和过度设计。简单地说，就是找到要做的事情，做的事情要少。接下来，我们来聊聊怎么做这些事情。其中，我认为最重要的原则就是选择最简单、最直观的做法。反过来说，就是不要把事情做复杂了。

要想简单直观，我们要解决两个问题。 第一个问题是，为什么要简单直观？第二个问题是，该怎么做到简单直观？

## 为什么需要简单直观？

简单直观，看似是一条每个人都能清楚明白的原则。事实上，这是一个非常容易被忽略的原则。如果我们没有对简单直观这个原则有一个基本的认识，就不太可能遵循这样的原则。

我们都喜欢原创和挑战，来展示我们的聪明才智。而简单直观的事情，显而易见的解决办法，似乎不足以展示我们的智慧和解决问题的能力。

遗憾的是，在软件世界里，一旦我们脱离了简单直接的原则，就会陷入行动迟缓、问题倍出的艰难境地。简洁是智慧的灵魂，我们要充分理解这一点。

**简单直观是快速行动的唯一办法**

我们真正要的不是简单直观的代码，而是轻松快速的行动。编写简单直观的代码只是我们为了快速行动而不得不采取的手段。有一个说法，如果面条代码能够让我们行动更快，我们就会写出面条代码，不管是刀削面还是担担面。

我见过的优秀的程序员，无一例外，都对简洁代码有着偏执般的执着。甚至小到缩进空格该使用几个空格这样细枝末节的问题，都会严格地遵守编码的规范。乍一看，纠缠于缩进空格不是浪费时间吗？可是真相是，把小问题解决好，事实上节省了大量的时间。
<div><strong>精选留言（16）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/JKKWS6TzhncvAA0p0NDiaATPIvMicSM76vNAg9IG1ibibcJYPAiaicYjZfq4gAV8GRtcTpOibfRD8vzqHBtL0ibmhwQsbg/132" width="30px"><span>唐名之</span> 👍（17） 💬（1）<div>1：首先会校验用户名，可能是为了检测当前用户登录环境是否安全；
2：通过先检测登录环境是否安全会减少密码泄露风险；
3：从接口设计，第一步用户检测服务端接口应该会返回检测成功与否标识和唯一的会话 标识，客户端待用户输入密码，会将 用户名 密码 会话唯一标识 提交到服务端，服务端会将三者一起作为校验；</div>2019-02-18</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJS0jwYKhjm1pRfCu5X6U0VyVS4ibgdhoAkEyV7FNdIMlXoibCyticb0kGYfDUibGcNrHtmkd8SWJekAA/132" width="30px"><span>IamNigel</span> 👍（11） 💬（1）<div>文中的问题想到一点，可以防止撞库式的外部冲击对最底层的用户名密码验证模块产生直接冲击，如果100次尝试，第一道就拦掉了90次就产生了直接受益，这种时候还可以在第一道拦截用户名校验处对这种ip进行黑名单处理</div>2019-03-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg" width="30px"><span>hua168</span> 👍（5） 💬（1）<div>像京东架构那样，他们最小单位是模块，基础模块的话，很多模块都会调用，以垂直划分的话，这类模块放在最下面，比如数据库模块，有一说法“基础模块下沉”……
几个最基础的模块又组成一个大一点的基础模块，放在中间位置…
最顶的是复用最少的，但由中间层的几个基础模块组成……
一句话:复用越多的模块越放下面，复用越多越是基础模块……那不是“基础模块下沉，独立模块上升”？</div>2019-02-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/76/23/31e5e984.jpg" width="30px"><span>空知</span> 👍（5） 💬（1）<div>想问下怎么通过用户名检测登录环境是否安全的？</div>2019-02-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/d2/a3/5a25fdae.jpg" width="30px"><span>Junix</span> 👍（4） 💬（1）<div>文中的问题：
1、先检验用户名是否存在，其一会让输错的用户省去输入密码的时间，尤其是密码复杂的。其二可以帮用户定位出错位置，用户名错误或密码错误。输入用户名后，输入密码前这段时间里用户能直接了当的看到用户名是否错误。输入密码后再报错，就能知道是密码错误，直接帮用户进行了校验，定位了出错的位置。带来的收益就是直观和简洁，与第一种方式相比，在输错用户名的前提下，避免了无效操作。
2、前后端代码结构，肯定是采用Ajax，当输入框监听到失去焦点，前端就立即将输入内容发送到后端进行验证，后端检验后将结果返给前端，当用户名不存在的时候前端可以在输入框下用醒目颜色提示。</div>2019-02-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg" width="30px"><span>苦行僧</span> 👍（2） 💬（1）<div>只有持续不断的重构review才能将代码改进到最好，很多写代码的完成业务功能就完事，具有精益思维是简单的前提</div>2019-02-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg" width="30px"><span>hua168</span> 👍（1） 💬（1）<div>一个项目有n多的代码，一个代码块只做一件事情的话，那么很多重复用的代码，是不是可以变成基础模块？
我看到有人说“基础模块下沉，方便复用”，那在中间层和上层的模块呢？有什么原则之类吗？</div>2019-02-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e4/e9/0dd3829f.jpg" width="30px"><span>aguan(^･ｪ･^)</span> 👍（1） 💬（1）<div>重新阅读了一遍文章，发现设计成两个接口的还有一个好处是接口细分了更容易复用，比如修改密码的时候可以复用登录时密码检验的接口</div>2019-02-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/e4/e9/0dd3829f.jpg" width="30px"><span>aguan(^･ｪ･^)</span> 👍（1） 💬（1）<div>除了用户体验和安全性的好处，想不到还有哪些性能上的提升了。分不分两个接口，总的处理逻辑都是不变的，挺想知道对性能上有哪些提升，求大神们指点一二。</div>2019-02-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/60/f1/7e650006.jpg" width="30px"><span>KEEP</span> 👍（0） 💬（1）<div>最近刚换工作，第一次接需求，需要在已有的代码上做修改。这块代码历经不同人员的维护，参杂了许多需求。很多逻辑参杂在了一起，已经很复杂了。在开始动手之前，我先花时间理清代码处理的逻辑，搞明白了为什么。和他人讨论了如何梳理流程，先把代码按清晰的流程改造好，再往里面添加新的需求。在项目没有很紧急的情况下，作为新人，我觉得花这些时间把流程梳理清晰，做一下设计，把代码先改的简单清晰，还是很值得的。然后再在上面添加新需求，可以减少错误发生的概率。 当然，做了设计还需要多跟老同事讨论，防止遗漏。除此之外，代码编写规范，主动邀请他人对代码进行检视（之前他们没这方面的要求），写好文档存底，认真测试。我觉得这样才过得去。</div>2019-12-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/38/19/c8d72c61.jpg" width="30px"><span>木白</span> 👍（0） 💬（1）<div>有的代码是一个独立的功能，但是只在一个地方使用，没有其他地方需要复用它，这种时候就会失去把它拆成一个单独方法的动力。想请教下这种只用一次的“功能”还需要写成独立的代码块吗？</div>2019-04-30</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ooZCPFY1xgC81h0Eu3vuqbWG5MaBp8RNmvXXGQwupo2LpSOLq0rBlTDRAF1yM6wF09WdeG49rA9dJSVKIUBxnQ/132" width="30px"><span>Sisyphus235</span> 👍（2） 💬（0）<div>分离用户名和密码的验证：
1. 从产品层面模块化，如果有问题能清晰指出哪里的问题
2. 用户体验升级，如果用户名不存在不需要输入密码
3. 服务端更灵活，如果用户量巨大，可以做一个用户名的缓存，而不用每次登陆都必须连接数据库验证用户密码正误
4. 用户名是公开信息，但密码是敏感信息，先发送用户名能检查网络安全，避免直接一起发送时网络不安全带来的隐患</div>2019-05-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/97/46/fe1f21d8.jpg" width="30px"><span>北风一叶</span> 👍（1） 💬（0）<div>代码块越小，越容易复用，这个和“重构改善即有代码设计”里的观点一致</div>2019-04-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>黑客无法同时截获用户名和密码</div>2022-07-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>我们工作生活中，一旦出现两种以上的竞争策略，要记住这个经过实践检验的理念：选择最简单，最直观的解决方案。--记下来</div>2022-07-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg" width="30px"><span>aoe</span> 👍（0） 💬（0）<div>原来优秀的程序员是边拆边干！
评论区都是大佬啊！原来一个用户登录是可以分成2个步骤：1、验证用户名；2、验证密码！
专业！</div>2021-12-15</li><br/>
</ul>