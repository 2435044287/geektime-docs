最有效率的编码就是少编写代码，甚至不编写代码。前面，我们讨论过避免需求膨胀和设计过度，就是减少编码的办法之一。这一次，我们讨论代码复用的问题。商业的规模依赖于可复制性，代码的质量依赖于可复用性。

比如，Java提供了很多的类库和工具，就是为了让Java程序员不再编写类似的代码，直接拿来使用就可以了。

## 不要重新发明轮子

“不要重新发明轮子”，这是一个流传甚广的关于软件复用的话。如果已经有了一个轮子，可以拿来复用，就不用再重新发明一个新轮子了。**复用**，是这句话的精髓部分。

如果没有现成的轮子，我们需要造一个新的。如果造的轮子可以复用，那就再好不过了。造轮子的过程，就是我们设计和实现复用接口的过程。

我刚参加工作的时候，从事的是银行综合业务系统的研发工作。银行的业务，牵涉到大量的报表。每一个报表的生成和处理，都是一个费力的编码环节。需要大量的代码，反复调试，才能生成一张漂亮的报表。那时候，市面上也没有什么可以使用的解决方案。我有一个同事负责这方面的工作，刚开始的辛苦程度可想而知。

过了几年，我们再聊起报表业务的时候，发现他已经在报表处理方面建立了巨大的优势。这个优势，就是报表处理代码的复用。他把报表的生成和处理，提炼成了一个使用非常简单的产品。用户只要使用图形界面做些简单的配置，就能生成漂亮的报表。编写大量代码、反复调试的时代，已经一去不复返了。传统的方式需要几个月的工作量，使用这个工具几天时间就搞定了。而且，客户还可以自己定义生成什么样的报表。生成花样报表的需求依然存在，但是再也不需要大量的重复劳动了。这个产品的优势，帮助他赢得了很多重要的客户。
<div><strong>精选留言（8）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg" width="30px"><span>丁丁历险记</span> 👍（8） 💬（0）<div>感觉老师在复述google 整理术，代码大全，代码简洁之道</div>2019-10-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/10/78/29bd3f1e.jpg" width="30px"><span>王子瑞Aliloke有事电联</span> 👍（3） 💬（0）<div>原来传的是List的子集，JDK 10 里传的是Collection的子集，并且明确要求非空。

扩展了适用范围，增加了非空要求。
基于向下兼容的功能，所以没有在原有方法上修改，而是增加接口。</div>2019-03-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>不直接改原来方法是开闭原则，没记错List也是继承collection，用collection更通用。</div>2022-07-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>我们每个人都会写很多烂代码，过去写过，未来可能还会再写。这些烂代码，如果运行得很好，没有出现明显的问题，我们就放手吧。--记下来</div>2022-07-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg" width="30px"><span>进化菌</span> 👍（0） 💬（0）<div>说白了，就是要尽可能的做到复用，并且避免继续使用烂代码~</div>2021-12-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/60/f1/7e650006.jpg" width="30px"><span>KEEP</span> 👍（0） 💬（0）<div>我想说，如果烂代码影响了新功能开发时，就是不得不改的时候了，要果断改掉，长痛不如短痛，否则只会越来越烂，后期维护成本会很大。

没有问题的烂代码就不要轻易修改。</div>2019-12-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/18/f6/2ff7bc7a.jpg" width="30px"><span>轻歌赋</span> 👍（0） 💬（0）<div>看接口的描述，似乎是形参传入子集的问题，不知道对不对</div>2019-03-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg" width="30px"><span>往事随风，顺其自然</span> 👍（0） 💬（0）<div>扩展功能更好，不改变原来方法有可能向下转型错误，为了更好兼容以前版本</div>2019-03-08</li><br/>
</ul>