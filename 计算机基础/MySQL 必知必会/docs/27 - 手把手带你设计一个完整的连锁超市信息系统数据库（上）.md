你好，我是朱晓峰。

从创建第一个MySQL数据库开始到现在，我们已经学完了MySQL的核心操作。最后这两节课，我想带你实际设计一个超市信息系统的数据库。毕竟，设计数据库很考验我们综合运用单个技术点的能力。所以，通过这个项目，我不仅会带你把前面的内容串联起来，而且还会教你设计数据库的通用思路。

为什么选择超市项目呢？一方面呢，超市的场景与我们的日常生活密切相关，你比较容易理解其中的业务逻辑，另一方面，超市的业务又相当复杂，几乎能用到我们学到的所有知识点，利于我们对前面学过的内容进行整合。

今天，我就带你一起，从需求分析开始入手，一直到容灾和备份，完成一个全流程的连锁超市数据库设计。这节课，我会主要给你讲解需求分析、ER模型、分库分表和数据库设计方案。我们做项目，首先要从大处着眼，把握方向，这样才不容易出现大的偏差。下节课，我们再设计具体的细节，比如创建数据表、外键约束，设计灾备方案和备份数据等。

在开始设计之前，咱们得先了解一下项目背景。

随着互联网使用的日益广泛，传统的桌面管理系统的数据不能互通、资源利用率低等弊端越来越明显，显然不能满足用户的需求了。因此，我们需要开发一款基于云服务的连锁超市管理信息系统。具体的要求是：
<div><strong>精选留言（6）</strong></div><ul>
<li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132" width="30px"><span>朱晓峰</span> 👍（2） 💬（1）<div>你好，我是朱晓峰，下面我就来公布一下上节课思考题的答案：

上节课，我们学习了如何充分利用系统资源。下面是思考题的答案：

0表示每隔1秒写日志并且落盘，这样进程提交事务之后可以马上执行下一个任务，效率最高，但是如果出问题，会损失1秒钟的数据。2表示提交事务后需要写入日志，不能马上执行下一个任务，效率不如0，但是数据被写入了日志，所以安全性好于0</div>2021-05-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg" width="30px"><span>giteebravo</span> 👍（2） 💬（2）<div>
本节以连锁超市信息系统的数据库建设为例，分析了系统整体的设计思路、数据结构的设计，以及 ER 模型的创建，还介绍了分库分表的内容。

如果对数据库或表进行了水平拆分，在应用层面要如何访问呢？

文中有这样一段：
&quot;在类的设计里面，用正则表达式计算访问的服务器、数据库和数据表的名称&quot;。

但没有 get 到老师的点。
</div>2021-05-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ba/ce/fd45714f.jpg" width="30px"><span>bearlu</span> 👍（2） 💬（4）<div>数据库表的时间必须设置时间还是使用时间戳？</div>2021-05-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/4e/2d/06d3f9f5.jpg" width="30px"><span>静✨</span> 👍（0） 💬（1）<div>分库分表的思路讲得太清晰了。点赞！</div>2022-06-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/25/ec/e2/fb95b5c7.jpg" width="30px"><span>zhongsun</span> 👍（0） 💬（1）<div>已解决</div>2021-05-19</li><br/><li><img src="" width="30px"><span>Geek_536557</span> 👍（0） 💬（0）<div>老师，请问 库存表（demo.inventory）里的 组号、门店编号都可以由仓库编号获得，是否是冗余数据，是出于性能考虑的嘛</div>2022-07-21</li><br/>
</ul>