前面所讲的编译过程，都存在一个明确的编译期，编译成可执行文件后，再执行，这种编译方式**叫做提前编译（AOT）。** 与之对应的，另一个编译方式**是即时编译（JIT），**也就是，在需要运行某段代码的时候，再去编译。其实，Java、JavaScript等语言，都是通过即时编译来提高性能的。

**那么问题来了：**

- 什么时候用AOT，什么时候用JIT呢？
- 在讲运行期原理时，我提到程序编译后，会生成二进制的可执行文件，加载到内存以后，目标代码会放到代码区，然后开始执行。那么即时编译时，对应的过程是什么？目标代码会存放到哪里呢？
- 在什么情况下，我们可以利用即时编译技术，获得运行时的优化效果，又该如何实现呢？

本节课，我会带你掌握，即时编译技术的特点，和它的实现机理，并通过一个实际的案例，探讨如何充分利用即时编译技术，让系统获得更好的优化。这样一来，你对即时编译技术的理解会更透彻，也会更清楚怎样利用即时编译技术，来优化自己的软件。

首先，来了解一下，即时编译的特点和原理。

## 了解即时编译的特点及原理

根据计算机程序运行的机制，我们把，不需要编译成机器码的执行方式，**叫做解释执行。**解释执行，通常都会基于虚拟机来实现，比如，基于栈的虚拟机，和基于寄存器的虚拟机（在[32讲](https://time.geekbang.org/column/article/161944)中，我带你了解过）。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg" width="30px"><span>刘強</span> 👍（10） 💬（1）<div>感觉越来越像lisp的“代码即数据”了。在内存中运行时编译（生成）代码（数据），然后执行。编译期和解释期界限越来越模糊，怪不得有人说所有的编程语言都在向lisp进化。</div>2019-11-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/41/59/78042964.jpg" width="30px"><span>Cryhard</span> 👍（1） 💬（1）<div>看来postgresql 11的生产级别试用可以提上日程了。似乎需要使用llvm编译一下？</div>2019-12-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2a/b9/2bf8cc89.jpg" width="30px"><span>无名氏</span> 👍（1） 💬（0）<div>老师，请教下，应用进程的静态编译能使用的共享库吗，如果能使用那也要编译进符号表？动态编译使用共享库，共享库已什么形式存在，在一个独立的内存中，别的程序进行引用？</div>2022-04-16</li><br/>
</ul>