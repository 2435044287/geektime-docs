你好，我是spring Xu。我平时的工作就是做实时嵌入式系统，坐标上海。

写操作系统这件事一直是我的兴趣，我之前写过引导器，也有移植过uboot的基础，还读了不少操作系统的书。作为一名操作系统“发烧友”，我是怎样跟操作系统、跟LMOS这门课程结缘的呢？请你听我慢慢道来。

## 我是怎样与操作系统结缘的？

其实我并非计算机专业出身，也没有系统地学过操作系统。不过出于兴趣，我早在大学时就自学了微机原理，当时记得还在x86实模式下写了些汇编程序，但还是有很多迷惑的地方。

于是，我跑到图书馆找了本Intel的芯片手册自己随意翻看，发现x86的保护模式寻址方式好奇怪，还有调用权限的知识也弄不太懂。后来我还试着询问老师，结果当时没得到什么满意的答案，这事儿也就不了了之了。

直到我工作了，接触的是嵌入式系统ucos-II。感觉这样的系统有点简单，因为它无法动态加载外部应用程序，还是想搞个更高级点的，**自己写一个操作系统的想法从此埋下种子**。

于是我购买了潘爱民老师的《程序员的自我修养》阅读。潘老师的那本书是讲C语言的编译链接和运行环境，也就是C语言文件如何编译、如何链接到生成程序的过程，还有该程序如何在操作系统上加载和运行以及程序加载的知识，都可以从这本书里学到。
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="" width="30px"><span>springXu</span> 👍（0） 💬（0）<div>那到讨论的题目
代码如下:
for(int i=0;i&lt;100;i++) 与 for(int i=100;i!=0;i--) 在相同cpu构架，相同操作系统，编译器是gcc，优化参数相同。比较哪个快。如果100看不出效果扩大成10000次。 为什么会有差异呢？</div>2021-08-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/21/7e/fb725950.jpg" width="30px"><span>罗 乾 林</span> 👍（4） 💬（1）<div>JVM 根据可达性分析实现对象回收，由单独的gc线程完成，有stop world问题。要想深入研究JVM，路上有编译原理这个大坑等着我们。

object-c的 ARC机制，C++中使用智能指针能到达相似的效果，只是是由程序员自己控制是否使用。

关于协程，看看用c语言实现的协程，会看到对程序上下文保存和恢复，栈的切换等是如何实现的。这个过程有点类似于操作系统中进程的切换</div>2021-08-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg" width="30px"><span>Fan</span> 👍（1） 💬（2）<div>这里我顺便提一个问题，你感受下，如果写 1 个循环 100 次的代码，用累加 1 的操作，与用递减 1 的操作，哪个快？为什么？欢迎留言写出你的答案。

不知道呀，作者解释下。</div>2021-08-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg" width="30px"><span>LMOS</span> 👍（1） 💬（2）<div>十年之后 希望名为sping的操作系统诞生，但是作者头发还在</div>2021-08-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg" width="30px"><span>pedro</span> 👍（1） 💬（2）<div>十年以后，一款名为sping的操作系统横空出世！</div>2021-08-23</li><br/>
</ul>