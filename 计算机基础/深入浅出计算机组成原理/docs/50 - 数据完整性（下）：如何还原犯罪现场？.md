讲完校验码之后，你现在应该知道，无论是奇偶校验码，还是CRC这样的循环校验码，都只能告诉我们一个事情，就是你的数据出错了。所以，校验码也被称为检错码（Error Detecting Code）。

不管是校验码，还是检错码，在硬件出错的时候，只能告诉你“我错了”。但是，下一个问题，“错哪儿了”，它是回答不了的。这就导致，我们的处理方式只有一种，那就是当成“哪儿都错了”。如果是下载一个文件，发现校验码不匹配，我们只能重新去下载；如果是程序计算后放到内存里面的数据，我们只能再重新算一遍。

这样的效率实在是太低了，所以我们需要有一个办法，不仅告诉我们“我错了”，还能告诉我们“错哪儿了”。于是，计算机科学家们就发明了**纠错码**。纠错码需要更多的冗余信息，通过这些冗余信息，我们不仅可以知道哪里的数据错了，还能直接把数据给改对。这个是不是听起来很神奇？接下来就让我们一起来看一看。

## 海明码：我们需要多少信息冗余？

最知名的纠错码就是海明码。海明码（Hamming Code）是以他的发明人Richard Hamming（理查德·海明）的名字命名的。这个编码方式早在上世纪四十年代就被发明出来了。而直到今天，我们上一讲所说到的ECC内存，也还在使用海明码来纠错。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/84/63/062d0f28.jpg" width="30px"><span>Tristen陈涛</span> 👍（12） 💬（8）<div>不太理解海明距离的作用，如果两个接收到的数据，它们只要至多有一个错误位，不是一样都能自行纠正过来，与海明距离何干啊？ 麻烦请解释一下哈</div>2019-09-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/c2/21/a8ef82ac.jpg" width="30px"><span>炎发灼眼</span> 👍（6） 💬（2）<div>老师，看完这章，有两个问题想不通，望解释
第一，任何两个我们要传输的数据，海明距离起码要为3，这个在实际操作中怎么能控制呢
第二，如果两个数据海明距离是2，就会有一个出错的数据，距离两个正确的数据距离都是1，无法判断到底要纠错到哪一个正确的数据，但是海明码不是可以唯一确定出错位吗，有了出错位，不是就可以知道需要纠错到哪一个正确的数据了吗</div>2019-08-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg" width="30px"><span>LDxy</span> 👍（4） 💬（1）<div>大学通信原理的课程内容，已经忘得差不多了</div>2019-08-26</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIyNIia6IFvSwhrtMDNHOgbmqln8NMu1WjKPPtjJrZdus9xnddPdOOfy9hLDKOgrP4SF8hFpDxz9Zg/132" width="30px"><span>注册新人</span> 👍（2） 💬（4）<div>海明距离，为什么要两个数据呢？不应该是原数据-&gt;错误数据，通过海明码判断出错的位置，还原为原数据，两个数据做什么用的呢？</div>2019-12-18</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKugZjntLzMGvDicZaX7pAuwNw3aneI2zZlicKh0fqsmmlJ9VRrSjBBJc1m8K6CPuV6WQuHic4zNZT8Q/132" width="30px"><span>Geek_vqdpe4</span> 👍（1） 💬（2）<div>我看第二遍就明白了</div>2019-09-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4a/80/9c038b01.jpg" width="30px"><span>AidenLiang</span> 👍（1） 💬（2）<div>这章有点难</div>2019-09-09</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKugZjntLzMGvDicZaX7pAuwNw3aneI2zZlicKh0fqsmmlJ9VRrSjBBJc1m8K6CPuV6WQuHic4zNZT8Q/132" width="30px"><span>Geek_vqdpe4</span> 👍（1） 💬（1）<div>仅仅通过这篇文章理解海明码，会很难明白，需要借助其他的学习资料</div>2019-09-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg" width="30px"><span>-W.LI-</span> 👍（1） 💬（1）<div>校验位记录的是什么啊?一个校验位只有0和1。可是那个校验位上有值的数字大于这个数啊?</div>2019-08-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg" width="30px"><span>leslie</span> 👍（1） 💬（1）<div>    应当是根据运算的结果知道哪里错了吧？奇偶校验不是有个最终的值么，是不是这个有一个判断标准，从而让我们不需要知道具体的，可以通过某个判断值去反推哪个错了。
     网络IP不是也有也有类似的二进制计算么：是不是相对原理有点类似啊？之前老师有堂课不是讲了影片的纠错么：这个是不是也有相关性；几门课程同时学习中，如果知识打岔了；请老师多包涵。</div>2019-08-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg" width="30px"><span>西门吹牛</span> 👍（17） 💬（1）<div>这里说的海明码，就是在大学学通信原理这门课的时候，是叫汉明码，汉明距离，完全一致，多年不看，咋一看，似曾相识，我又翻了翻之前的通信原理课本，当年考研考通信原理，满分150，考了140，还有循环码，循环码的多项式表达，生成矩阵，校验矩阵，最小汉明距离和纠错能力，一下子都回想起来了</div>2020-07-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/8d/9a/61db513f.jpg" width="30px"><span>赵源😈</span> 👍（15） 💬（1）<div>z这一节确实难懂，推介大家先看下这篇，再返回来看老师的就能看懂了！
https:&#47;&#47;blog.csdn.net&#47;Yonggie&#47;article&#47;details&#47;83186280</div>2021-02-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/4f/da/f582b5f3.jpg" width="30px"><span>杨乐乐gogogo</span> 👍（9） 💬（3）<div>海明纠错码就是那个用10只小白鼠检查1000瓶药里有且仅有哪一瓶是毒药的题目啊！</div>2021-01-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/c9/55/0e627a31.jpg" width="30px"><span>菽绣</span> 👍（4） 💬（0）<div>明白了，海明距离为2的两个数据就像两个相接的球，错误数据如果在两个球的交接点上，就无法判断属于哪个球，所以两个数据的海明距离应该至少为3</div>2021-06-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg" width="30px"><span>Monday</span> 👍（4） 💬（1）<div> p2，我们用 3、6、10、11 来计算校验码，也就是在二进制表示下，从右往左数的第二位比特是 1 的情况下， 上面这句有毛病吧。应该如下吧：

p2不应该校验的是3(0011)，6(0110)，7(0111)，10(1010)，11(1011)</div>2020-06-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/0e/e9/929c5c73.jpg" width="30px"><span>ruleGreen</span> 👍（4） 💬（2）<div>难以理解的地方
1. 这个时候，你去想一想，如果 d1 这一位的数据出错了，会发生...
2.如果从二进制的角度看，它们是这 11 个数当中，唯四的，在 ...

这两块就看不懂了</div>2019-10-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg" width="30px"><span>小杰</span> 👍（2） 💬（0）<div>回答下老师的问题，还是以4，3海明码举例子。如果只有d1位错，则影响到了两位p1和p2位，根据异或运算（具体各位可以搜索下）即可纠正。那如果是d1和d2两位同时出错，由于d1与d2都会影响到p1位，且d1还会影响p2位，这个时候就不知道纠正哪一个了。虽然不能纠正，但是能知道数据是错误的。</div>2022-06-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/26/1b/4caf36bd.jpg" width="30px"><span>coldpark</span> 👍（2） 💬（3）<div>在4-3海明码这个例子中，如果d2和d3奇偶不同，p1和p2本身就会不一样啊，为什么能推断出是d1错了呢？</div>2019-10-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/28/0c/47/e77a1f0c.jpg" width="30px"><span>王洋</span> 👍（1） 💬（0）<div>作为半路子出家 这个文章我也是看了很长时间，建议先看这篇博客再回来看，会更清晰，https:&#47;&#47;www.cnblogs.com&#47;godoforange&#47;p&#47;12003676.html 本次课程快学完了 ，老师讲的很好，现在对计算机这些硬件组成有个初步的认识，后面想学的深还是要不断的看书，感谢</div>2021-08-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f5/77/7e852c51.jpg" width="30px"><span>残月@诗雨</span> 👍（1） 💬（2）<div>如果 d1 这一位的数据出错了，会发生什么情况？我们会发现，p1 和 p2 和校验的计算结果不一样   这是为啥呀？怎么都想不明白，就算d1没出错，p1和p2也有可能不一样啊</div>2020-07-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/13/2d/ad1bfe92.jpg" width="30px"><span>江湖中人</span> 👍（1） 💬（0）<div>海明码的编码机制，应该是可以保证经过编码后的任意两个数据(含校验位)，其海明距离都是大于2的，即任意两个半径为1的球都不会有重叠部分，从而可以纠正1位数据。

未经编码的任意两组不同数据，其最小海明距离为1，所以发生错误了无法发现，更别说纠正了。

是不是也有可以纠正2位数据的海明码呢？</div>2019-10-13</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132" width="30px"><span>有铭</span> 👍（1） 💬（0）<div>海明距离，这好像和google那个计算论文相似度的东西是一样的</div>2019-08-26</li><br/><li><img src="" width="30px"><span>Geek_88604f</span> 👍（0） 💬（0）<div>每个校验码在发送的字节（包括有效信息及校验码）中所在的位置是固定的，每个校验码所监督的字节也是固定的。如果接收端发现信息有误，那么将校验码由高到低排列后其表示的十进制数就是出错的位置。</div>2024-02-16</li><br/><li><img src="" width="30px"><span>Geek_88604f</span> 👍（0） 💬（0）<div>每个校验码在发送的字节中所在的位置是固定的，每个校验码所监督的字节也是固定的</div>2024-02-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/9a/ab/fd201314.jpg" width="30px"><span>小耿</span> 👍（0） 💬（0）<div>&quot;而任何两个实际我们想要传输的数据，海明距离都至少要是 3。&quot;这句话不太理解，为什么两个独立传输的数据之间会有海明距离的要求？每一个数据不是都有自己独立的校验码么？比如数据1和数据2都是 7+4 位的海明编码，如果数据1里有一位数据出错，利用数据1的 4 位校验码不就能确定是哪一位出错吗？</div>2022-12-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/27/fb/f7/88ab6f83.jpg" width="30px"><span>进击的Lancelot</span> 👍（0） 💬（0）<div>一个简单直观的想法，海明码中，所有正确的数据其海明距离都为3，那么所有 1 位错的情况都可以被纠错。想像一个三维坐标系上，一个点偏离了原来的位置 1 个单位，那么自然挪回这个单位就能实现纠错。而 2 位错，意味着某个点与原来正确的值的海明距离为 2，则能够识别其发生了错误，但无法纠错。因为每次纠错只能挪一个单位</div>2022-12-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg" width="30px"><span>潮汐</span> 👍（0） 💬（0）<div>读了很多遍终于读明白了一步步的意思666</div>2022-09-06</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132" width="30px"><span>Geek_93970d</span> 👍（0） 💬（0）<div>7-4 海明码的表里面，d1 出错会导致 p1 和 p2 同时出错。但是，如果发现 p1 和 p2 同时出错，如何反推出是d1出错了呢？还是说因为 p1 和 p2 同时发生了翻转？</div>2022-08-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/0f/70/f59db672.jpg" width="30px"><span>槑·先生</span> 👍（0） 💬（0）<div>这一讲太精髓了。</div>2021-03-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/5a/34/4cbadca6.jpg" width="30px"><span>吃饭睡觉打酱油</span> 👍（0） 💬（0）<div>7明码的如果出现两个位错误，会出现错误的校验位和正确的校验位个数相等。</div>2021-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/3f/6a/e68b9f23.jpg" width="30px"><span>陈小狮</span> 👍（0） 💬（1）<div>老师好，我还是不明白，这个不等式是如何推算出来的</div>2020-09-10</li><br/>
</ul>