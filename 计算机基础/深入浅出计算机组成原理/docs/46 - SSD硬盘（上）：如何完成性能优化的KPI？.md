随着3D垂直封装技术和QLC技术的出现，今年的“618”，SSD硬盘的价格进一步大跳水，趁着这个机会，我把自己电脑上的仓库盘，从HDD换成了SSD硬盘。我的个人电脑彻底摆脱了机械硬盘。

随着智能手机的出现，互联网用户在2008年之后开始爆发性增长，大家在网上花的时间也越来越多。这也就意味着，隐藏在精美App和网页之后的服务端数据请求量，呈数量级的上升。

无论是用10000转的企业级机械硬盘，还是用Short Stroking这样的方式进一步提升IOPS，HDD硬盘已经满足不了我们的需求了。上面这些优化措施，无非就是，把IOPS从100提升到300、500也就到头了。

于是，SSD硬盘在2010年前后，进入了主流的商业应用。我们在[第44讲](https://time.geekbang.org/column/article/113809)看过，一块普通的SSD硬盘，可以轻松支撑10000乃至20000的IOPS。那个时候，不少互联网公司想要完成性能优化的KPI，最后的解决方案都变成了换SSD的硬盘。如果这还不够，那就换上使用PCI Express接口的SSD。

不过，只是简单地换一下SSD硬盘，真的最大限度地用好了SSD硬盘吗？另外，即便现在SSD硬盘很便宜了，大部分公司的批量数据处理系统，仍然在用传统的机械硬盘，这又是为什么呢？
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/17/25/bf/1e9c853f.jpg" width="30px"><span>Cue</span> 👍（60） 💬（2）<div>想问一下，为什么ssd断电后不会丢数据</div>2019-09-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/0d/40/f70e5653.jpg" width="30px"><span>前端西瓜哥</span> 👍（56） 💬（5）<div>这里推荐个 SSD 的科普视频，讲得很详细：
https:&#47;&#47;www.bilibili.com&#47;video&#47;av61437877</div>2019-10-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg" width="30px"><span>许童童</span> 👍（48） 💬（2）<div>现在大家使用的数据系统里，往往会有日志系统。你觉得日志系统适合存放在 SSD 硬盘上吗？
不适合，日志系统写入量大，而且有些还会清除老旧的日志，反而读日志却不多，日志系统完全不适合存放在SSD硬盘上，应该用HDD硬盘。</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/84/63/062d0f28.jpg" width="30px"><span>Tristen陈涛</span> 👍（28） 💬（3）<div>从这篇文章中我没看懂，为何 SSD 的随机读写速度会比机械硬盘快，它的实际 I&#47;O 设备不是和机械硬盘很像吗？ 那 SSD 寻找数据的时候，是通过什么样的物理结构来找到它想要的数据的呢？</div>2019-09-05</li><br/><li><img src="" width="30px"><span>时间道</span> 👍（28） 💬（2）<div>公司的日志系统已经报废了很多SSD盘了</div>2019-08-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg" width="30px"><span>斐波那契</span> 👍（19） 💬（2）<div>这个思考题我觉得不能一概而论 以oracle为例 一个事务结束 commit提交后 实际上就是提交日志 IO的速度决定了你事务执行的速度 所以在某些高并发场景下 ssd还是值得的 但是成本会相应的增加</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg" width="30px"><span>QQ怪</span> 👍（11） 💬（2）<div>老师讲那个SSD硬盘有擦除次数的限制，很生动形象，我补充下具体是为啥：
所谓的单元存储颗粒，你用多了，可能就消磁了，或者介质疲劳损坏了（可以理解为，就像是轮胎那样磨损了)。</div>2019-12-11</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqLcWH3mSPmhjrs1aGL4b3TqI7xDqWWibM4nYFrRlp0z7FNSWaJz0mqovrgIA7ibmrPt8zRScSfRaqQ/132" width="30px"><span>易儿易</span> 👍（10） 💬（2）<div>国内某知名大数据平台服务商居然力推用SSD加速其自研大数据交易型（为了写入需求特意研发）数据库，看了本篇讲解，觉得这公司是在拿政府单位当肉鸡……</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg" width="30px"><span>fcb的鱼</span> 👍（8） 💬（1）<div>用ssd做日志盘不是很合适。因为公司的日志集群基本都是大量的写(这种写都是顺序写)，读的场景比较少(读少写多)，而且日志会定期清除。HDD磁盘完全能满足顺序写的需求，而且性价比高。但是由于HDD盘的IO不高，所以数据大量写的时候需要注意。</div>2020-02-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg" width="30px"><span>mfist</span> 👍（5） 💬（1）<div>本节讲了ssd和hdd的区别，以及sdd快的原因。了解了同样容量ssd不同价格的原因，slc tlc mlc。这样就从原理上明白了多读少写的适用场景。

回到问题，日志的场景不适合用ssd，日志存储量大，过段时间就要清除，不符合ssd的最优场景。
</div>2019-08-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/55/45/e4314bc6.jpg" width="30px"><span>magicnum</span> 👍（5） 💬（1）<div>说到硬盘容量让我想起了以前总觉得硬盘厂商坑骗了消费者，学了计算机才知道256GB和240GiB容量是一样的，只是对消费者用十进制而对计算机用二进制。
现在一看还有个预留空间，说明做任何结论之前都要了解事件运行对基本原理，市场化的产品是非常严谨的，至少都是可以自圆其说的。。。</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg" width="30px"><span>Linuxer</span> 👍（2） 💬（1）<div>日志系统明显不适合，另外先擦除后写入是不是导致写入放大的原因？</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/cf/96/251c0cee.jpg" width="30px"><span>xindoo</span> 👍（1） 💬（1）<div>我觉得日志系统完全不适合放ssd上，日志比较大而且有时候大部分日志是不会被读的，另外，写日志没有随机写的需求，也不需要很高的IOPS，所以完全没有必要用更为昂贵且存储性价比低的ssd。 </div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg" width="30px"><span>阿卡牛</span> 👍（0） 💬（3）<div>可以解释下windows下针对HDD有个磁盘清理的功能，原理是什么吗？有什么用</div>2019-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg" width="30px"><span>牛牛</span> 👍（7） 💬（0）<div>内容总结:
1. SSD的IOPS可以达到1~2w
2. SSD最上边是接口和控制电路层, 接下来是实际的IO设备
3. SSD是由裸片、Plain片、Block块、Page页叠在一起组成的
4. SSD的价格会根据 SLC、MLC、TLC、QLC等不同组成有所差异, SLC最贵, 但可擦写次数也最高, 可以达10w次; MLC只有1w次; TLC和QLC就只有几千次, SSD的寿命其实也就是擦除次数
5. SSD厂商一般会预留7%-15%的空间, 进行碎片整理
6. SSD写入和读取的基本单位是页(一般是4KB), 擦除的基本单位是块(Block, 一般是几KB到几MB) 
7. SSD适合读多写少的场景</div>2020-12-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2d/a8/0a/791d0f5e.jpg" width="30px"><span>Nolan</span> 👍（4） 💬（0）<div>https:&#47;&#47;space.bilibili.com&#47;1778586949&#47; 这个UP主有国外的科普课程，SSD硬盘、DRAM的原理讲的都很好~~</div>2023-02-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/50/8f/ec845dc8.jpg" width="30px"><span>青黄</span> 👍（4） 💬（1）<div>您好，在ssd原理的那部分最后一段是不是有个虫

我记得是SRAM以晶体管形式存数据，DRAM以电容形式存数据（所以需要刷新）
</div>2019-10-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/e7/2e/1522a7d6.jpg" width="30px"><span>活的潇洒</span> 👍（3） 💬（0）<div>你可以把SSD硬盘的一个平面看成是一张白纸。我们在上面写入数据，就好像用铅笔在白纸上写字。如果想要把已经写过字
的地方写入新的数据，我们先要用橡皮把已经写好的字擦掉。但是，如果频繁擦同一个地方，那这个地方就会破掉，之后就没有办法再写字了。

上面这一段比喻的很形象

day46 笔记：深入浅出计算机组成原理学习笔记：SSD硬盘(上)-如何完成性能优化的KPI？（第46讲）</div>2019-08-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg" width="30px"><span>完美坚持</span> 👍（1） 💬（0）<div>如果超过了使用次数，使用次数过多了之后，SSD硬盘会发生什么样的变化，导致报废呢？</div>2021-08-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/4f/60/049a20e9.jpg" width="30px"><span>吴宇晨</span> 👍（1） 💬（0）<div>ssd突然断电可能丢数据，遇到两次了😂😂</div>2019-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/81/e9/d131dd81.jpg" width="30px"><span>Mamba</span> 👍（0） 💬（0）<div>日志系统，写多读少，有损SSD寿命，而且是顺序写，无法充分利用SSD优势
</div>2024-09-13</li><br/><li><img src="" width="30px"><span>Geek_88604f</span> 👍（0） 💬（0）<div>系统的设计需要充分考虑底层硬件的实现原理，虽然操作系统尽量回去屏蔽差异，但往往不是那么完美，有时候不得不对最终的用户呈现</div>2024-01-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg" width="30px"><span>小杰</span> 👍（0） 💬（0）<div>没有看底下评论之前，以为日志会一直保存在硬盘上，那么在读的时候很适合SSD。但现在互联网公司日志写入量太大了，而且会清理老的日志。那么这样就涉及到清理的问题，频繁的擦除会导致页失效。</div>2022-06-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/a8/1e/a04cbc6c.jpg" width="30px"><span>Kitty🐱婷🎉</span> 👍（0） 💬（0）<div>请问日常开发涉及到大量的代码工程是适合用SSD还是HDD呢？</div>2022-02-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/7d/82/5ed8a955.jpg" width="30px"><span>晒太阳</span> 👍（0） 💬（0）<div>日志系统能不能用SSD，我觉得要分情况，比如一直做日志存储滚动，只保存热点数据，用SSD就不合适，会有大量的擦写操作。如果只是做日志的长时间归档（成本可以接受情况下），一直顺序写，擦写频率很低，用SSD也是不错的。</div>2020-10-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/71/22/b8c596b6.jpg" width="30px"><span>风</span> 👍（0） 💬（0）<div>日志数据不适合写在SSD硬盘上，一方面日志属于写多读少的操作，一段时间日志需要归档，就会涉及到数据块的擦除，SSD硬盘的可擦除次数太少，会经常需要更换，性价比不高；另一方面日志数据的处理分析也不会对硬盘的读取速度有太高的要求，而且完全可以顺序读取，因为只需要速度能够匹配日志分析的速度就可以了。</div>2020-10-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg" width="30px"><span>A君</span> 👍（0） 💬（0）<div>Mlc等原来是用个计电器来计量电量区分分类。</div>2020-07-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg" width="30px"><span>追风筝的人</span> 👍（0） 💬（0）<div>日志系统写多。不适合用ssd硬盘</div>2019-11-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/7a/e3/145adba9.jpg" width="30px"><span>不一样的烟火</span> 👍（0） 💬（1）<div>对于某些厂商力推的全ssd的个人笔记本 老师怎么看 值得买吗</div>2019-10-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg" width="30px"><span>拉欧</span> 👍（0） 💬（0）<div>一直想搞明白SSD的原理，受教了</div>2019-08-22</li><br/>
</ul>