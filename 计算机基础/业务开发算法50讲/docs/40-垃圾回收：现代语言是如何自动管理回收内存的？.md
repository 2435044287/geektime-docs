你好，我是微扰君。

今天我们来聊一聊和编程语言有关的一个话题——垃圾回收，作为现在许多编程语言都支持的特性，垃圾回收机制能大大解放程序员的心智，让我们把主要精力放在实现业务逻辑上，而不是关注内存分配这样繁琐的编程细节上。

如果你写过C语言的话，一定能深切体会到在堆上分配内存是一件多么麻烦的事情。就我个人来说，只要能在栈上分配的内存，我一定尽量都在栈上分配，因为一旦在堆上分配了内存，我们就得时刻谨记要在一个合适的时机把内存释放掉。

其实，释放内存本身并不难，但是在程序的复杂性越来越高的时候，这会带来越来越高的维护成本。

因为当程序中有许多不同的分支时，一旦要修改代码，就需要确保在每个分支下内存都能得到正确地释放，这样，我们每次写关键业务逻辑的代码时，都需要反复斟酌和业务本身没有关系的内容，这就给我们程序员们带来了巨大的心智负担。这也是为什么写过C语言的同学，再去写Golang和Java这样有垃圾回收特性的语言会觉得非常爽，开发效率也能显著提高。

但是，GC的实现会带来不小的性能开销，在一些性能敏感的场景，比如高频交易或者网关中间件等场景下，我们还是会用到C\\C++这样内存分配自主可控的语言。

不过在很多互联网业务场景下，我们其实并没有这么极致的性能追求，偶尔的服务时延抖动在分布式架构下并不造成用户体验的损失。