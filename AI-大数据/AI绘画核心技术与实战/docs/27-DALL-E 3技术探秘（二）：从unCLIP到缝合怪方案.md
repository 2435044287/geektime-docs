你好，我是南柯。

上一讲，我们已经了解了DALL-E 3针对训练数据使用的策略，也就是重新生成图像描述。事实上，除了数据策略，相比DALL-E 2，DALL-E 3还在方法上大刀阔斧地做了很多改变。它放弃了unCLIP的模型设计思路，转而借鉴了Imagen、Stable Diffusion等模型的方案，成为了新一代“缝合怪”。

这一讲我们继续揭密DALL-E 3，深入探究它背后的技术方案。我们先从DALL-E 3的模型结构说起。

## 加入VAE结构

通过[第13讲](https://time.geekbang.org/column/article/686873)我们知道，DALL-E 2使用的是unCLIP结构。这个方法可以概括为用 CLIP 提取文本表征，通过一个扩散模型将文本表征转换为图像表征，然后通过另一个扩散模型指导图像的生成。

![](https://static001.geekbang.org/resource/image/34/d5/342a0b322f025d8e45e5e52efbf4e6d5.jpg?wh=4409x1734)

不过DALL-E 3没有采用这种结构，而是借鉴了Stable Diffusion的思路，引入了VAE模块，在潜在空间进行加噪和去噪。关于Stable Diffusion的算法原理，你可以回顾课程的[第15讲](https://time.geekbang.org/column/article/688429)。在DALL-E 3中，VAE的编码器对训练图像进行8倍下采样，提升了扩散模型的训练效率。

![](https://static001.geekbang.org/resource/image/d3/27/d3bb583cf2a6411bce0637cfd61f3a27.jpg?wh=4409x2480)

DALL-E 3生成图片的分辨率是不固定的，比如我们使用两个不同prompt生成图像，并没有指定生成图像的分辨率，得到的图像分辨率分别为1024x1024、1792 × 1024，你可以点开图片查看效果。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg" width="30px"><span>Toni</span> 👍（0） 💬（1）<div>大语言模型现在本质上还是“语言接龙”或“语言填空”。这个“本领”是通过学习海量数据得来的，学习的并非是真正的“语意”，而是词与词之间的“习惯用法”，学会的是自然语言应用中的某种概率统计分布，通俗地讲就是学会了“大家都怎么说”。

这种学习过程特别适合训练英法德这样的拼音文字大语言模型。

中文和其它语言一样也有“大家都这么说”的统计规律，但做为象形文字的杰出代表，她还有一个特殊性，其表现在具有固定的偏旁部首，这些偏旁部首具有明显的分类特征，比如将与金属有关的东西都用带金属旁的字来表达，等等，自带特别容易识别的归类特征。

处理中文大语言模型时如果通过卷积运算提取文字特征，即偏旁部首，间架结构，进而学习到单词的真正语意。用一篇文章来解释一个字的语料还是很丰富的，用这样的语料训练模型更像是在训练模型理解字义。中文核心词汇，具有独立语意的有2000-4000字（大概估的），掌握这些知识的中文大语言模型一定更具优势，遣词造句出的文章水平会更高。

南柯老师: 有什么模型在做这样的事吗？</div>2023-11-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg" width="30px"><span>Toni</span> 👍（1） 💬（0）<div>目前领衔的AI绘画模型 Midjourny5.2, SDXL1.0, DALL-E3 各有各的优势，这一现象本身就表明无论哪个模型都有巨大的发展空间。AI模型的好坏主要取决于三大要素，1. 优秀的基础大语言模型，2. 优质的训练素材，3. 与任务匹配的合适算法和经过反复调优的超参数。这与人类的学习过程类似，1. 广博的知识和经验的积累，2. 读优秀经典的著作，3. 正确的学习方法和有效的知识图谱建立。

DALL-E3 依托优质大语言模型的&quot;理解能力&quot;，不满足于现有训练资料的品质，提出质疑并力图改进，在模型训练过程中尝试不同的超参量并发现问题直至给出最优解，令人印象深刻。模型改进的背后是大量的试错，调制，经验模型的必由之路。敬佩所有付出努力的尝试。</div>2023-11-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/27/0b/12dee5ed.jpg" width="30px"><span>进化论</span> 👍（1） 💬（0）<div>先点赞，在观看</div>2023-11-09</li><br/>
</ul>