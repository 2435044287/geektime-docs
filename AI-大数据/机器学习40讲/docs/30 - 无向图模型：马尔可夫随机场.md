作为有向图模型的代表，贝叶斯网络将随机变量之间的条件独立性与依赖关系嵌入到图结构之中，既有助于直观表示，又能简化计算。但这是不是意味着贝叶斯网络可以通吃所有概率关系呢？并非如此。

下面这个例子就说明了贝叶斯网络的局限之处，它取自达芙妮·科勒（Daphne Koller）的经典教材《概率图模型》（Probabilistic Graphical Models）的例3.8。

“四个学生Alice、Bob、Charles和Debbie在一个学习小组中，但由于A和C、B和D两两之间因为感情的纠葛导致没有交流，因此每个人可以交流的对象都只有2个。这样的关系应该如何表示呢？”

这四个学生可以建模成概率图中的四个结点，也就是四个随机变量。用贝叶斯网络构造这组关系时，由于A和C之间不存在交流，两者之间也就没有信息的流动，所以在给定B和D的前提下，A和C是条件独立的；同样的道理，在给定A和C的前提下，B和D也是条件独立的。这就要求构造出来的贝叶斯网络能够同时表示这两组条件独立性。

![](https://static001.geekbang.org/resource/image/df/ee/df851b84879214d57c0f0e654e7c89ee.png?wh=376%2A192)

贝叶斯网络的局限性（图片来自Probabilistic Graphical Models，图3.10）

上图表示的是两种可能的贝叶斯网络结构，但两者都没法同时表示两个条件独立性。在左侧的子图中，从A到C的两条通路都是顺连结构，中间的结点分别是B和D。固定的B和D堵塞了信息流动的通道，从而保证了A和C的条件独立性。
<div><strong>精选留言（4）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/2a/dd/aee4d7de.jpg" width="30px"><span>夏震华(围巾)</span> 👍（1） 💬（1）<div>老师能提个意见不，code 可以加注释吗!

这段代码我看不懂，实在是不知道在做什么。。。
model = MarkovModel([(&#39;A&#39;, &#39;B&#39;), (&#39;B&#39;, &#39;C&#39;), (&#39;C&#39;, &#39;D&#39;), (&#39;D&#39;, &#39;A&#39;)])
model.add_factors(phi_1, phi_2, phi_3, phi_4)
phi = phi_1 * phi_2 * phi_3 * phi_4
Z = model.get_partition_function()
normalized = phi.values &#47; Z

print(normalized)</div>2018-11-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c1/a7/5e66d331.jpg" width="30px"><span>林彦</span> 👍（0） 💬（1）<div>请问老师马尔可夫随机场中的3种形式的条件独立性(马尔可夫性)是同时都成立吗？就是只要是马尔科夫随机场，就满足这种条件独立性？谢谢。</div>2018-08-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/e9/11/938446c8.jpg" width="30px"><span>Trinity</span> 👍（0） 💬（0）<div>这部分如果有个形象的例子就更好了</div>2021-01-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c1/a7/5e66d331.jpg" width="30px"><span>林彦</span> 👍（0） 💬（0）<div>马尔可夫随机场在图像处理中的应用我的理解是根据图像中每个像素点的邻域标签来优化其标签。抽象来看分割，去噪和目标识别都可以用这个方法来处理。

这里可以用一种不够精确的像素分类先保证大多数图像有一个较准确的分类，再应用马尔可夫随机场令图像中某一点的特性或分类只与其附近的邻域有关。图像中的每一个像素就代表概率图模型中的顶点。在随机场中，利用邻域系统可以分析空间上的马尔科夫性：一个像素点的特性，更可能受它周围像素的影响，与它距离越远的像素，对它的特性的影响越小。邻域系统定义了图像中一个像素（中心像素），受周围哪些像素的影响。中心像素和相邻像素一起，构成的集合就是团(clique)。

具体计算中用吉布斯分布的密度函数来计算标记(标签)场的先验概率，即求周围像素点中各个标签出现的概率多大，然后用高斯分布的密度函数求解所求像素点属于哪个标签的概率最大，即这个像素点的条件概率（似然函数）。根据贝叶斯公式目标就是寻找这2个函数值乘积最大的分类标签。</div>2018-08-31</li><br/>
</ul>