如果你是老板，或者是公司里的推荐系统包工头，那么你一定会关心：要凑齐多少人才能开始搬砖？

一个推荐系统复杂度没有上限，但是有最低标准，所以下面在估算推荐系统团队规模时，按照下限来估计，照这个方式建立的团队就叫做“有下限的团队”。

## 团队组建

我们先定义团队的角色，这里既然是组建“有下限团队”，当然按照能省则省的原则。

1. 算法工程师，承担的是数据科学家和机器学习工程师的双重职责，主要职责是清洗数据，训练离线推荐模型，开发算法接口，评估指标。
2. 软件开发工程师，承担算法之外的开发任务，例如数据库的搭建维护，API接口的开发，日志的收集，在线系统的高可用等，当然“有下限的团队”可以适当简陋些，不用考虑高性能。
3. 其他非技术角色，如果是“有下限团队”的话，这一项也可以省略，如果涉及了跨部门合作，或者你不幸被老板提出各种“推得不准”的伪Bug，那么你就需要一个这样的角色去充当工程师港湾，来阻挡外界的风雨。

接下来，估计一下每个角色的数量。这里主要是估计工程师的数量。

关于算法工程师，最低配需要2位，一位三年左右经验的算法工程师负责数据分析，数据清洗，推荐模型训练，评估和上线，外带一位三年以下经验的初级工程师，从中辅助分担琐碎工作。

为什么说有经验的算法工程师一位就够了，假如你使用矩阵分解作为推荐系统第一版核心算法，那么推荐使用Quora开源的QMF工具。它能在一台32核、244G、640G固态硬盘的服务器上用20分钟完成10亿非零元素，千万用户和物品的矩阵分解。工具简单易用，一个有经验的工程师足够让其运转起来。

那么核心问题就是，一台机器是不是撑得起你老板的野心？我认为，撑得起，具体的估算如下。

根据我前文中对注意力的定义：内容消耗的加速度乘以内容的消耗难度。当注意力为正数时，是上马推荐系统的好时机。

因为这说明平台方已经有了注意力的原始积累，只需要加上推荐系统将它保存下来并加以扩大即可。那么组建的这个“有下限团队”最低要求就是能留住当前的注意力。

注意力为正时，每天的用户消耗内容数量应该是指数级别，比如 $f(a,t) = t^a$ (a &gt;= 2)。其中t是时间，a大于2时才会有正的注意力。因为它的二阶导数为：$a(a-1)t^{(a - 2)}$。当然，这个数学推导不重要，只是举个例子。

每天的内容消耗量，其实就是用户产生的行为数据条数，至少是正比关系，这里从简考虑，认为二者等同。假如a=2，t的单位是天。那么在t天后，累计产生的日志数量是：

$$\\sum\_{i=1}^{T}{i^2} = \\frac{T(T+1)(2T+1)}{6}$$

现在看看，如果你公司使用的服务器和Quora评测QMF时所用服务器一样的配置，用单机运行QMF，极限是撑多久？我简单列个方程。

$$\\frac{T(T+1)(2T+1)}{6} = 6000000000$$

方程右边就是QMF评测时处理的60亿非零元素。解这个一元三次方程，得到唯一的实数解是1441.75天，也就是3.9年。

所以告诉你的老板，你一个人可以撑四年，只管定期加工资就可以了，不用加人。

那么为什么明明一位算法工程师就可以，还要外带一位，这主要是考虑，团队人才应该有梯度和备份。

关于软件开发工程师，至少需要四位，是的，你猜到了，我要证明的是需要两位，还有两位是为了人才梯度和冗余备份。分工是这样的。

1. 推荐服务输出，一位三年及以上经验的后端开发工程师，外带一位三年以下的初级工程师。负责调用推荐RPC服务，开发必要的过滤逻辑，填充详细字段等；
2. 反馈数据收集和管理，一位三年以上经验的运维工程师，外带一位三年以下的初级工程师，负责回收用户反馈数据，统一存储日志数据。

以上就是一个最低配推荐系统团队的配置。当然，如果能复用现有团队的部门工程师，则灵活处理。上面的估算也只是一个示例。
<div><strong>精选留言（10）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/qRjoqWIGC6tpmKZBGTxjQKC9cbz9XLhw2nF1c74R4icFOYOdVO4iaeQEQDqEvmbicxn6HEc4SU8kpkwVaO5nABMug/132" width="30px"><span>shangqiu86</span> 👍（2） 💬（1）<div>老师，期待你的书，出来了吗？想买来再学习深入一遍，感觉对推荐系统有了更深的认识</div>2019-05-09</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLCTj7TaRvjZd3G5WCe6z4U04YY3XWgk2hL7ZZyS5Aoxk52DUMIDGiaI4Ulc1P2NNqk5ia3H2f1mbvMA/132" width="30px"><span>loirsun</span> 👍（2） 💬（1）<div>看到您推荐小团队可以上手qmf，于是尝试qmf，有些困惑，这个包只提供了train model的binary文件，模型预测相关的部分没有给出，是不是需要二次开发？6，7年前从算法方向转工程了，最新的东西都不了解，您方便的话再讲两句qmf可好，或简单回复一下。非常感谢</div>2019-02-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/67/f7/1ca42972.jpg" width="30px"><span>晴天小雨</span> 👍（0） 💬（1）<div>老师，累计产生的日志数量公式是怎么来的，请老师答疑，谢谢!</div>2019-01-31</li><br/><li><img src="" width="30px"><span>chmit</span> 👍（3） 💬（0）<div>邢老师，看到推荐相关相关岗位，多是既要求良好的机器学习算法能力又要求java大数据相关技能您怎么看？这是给双倍工资的嘛。</div>2018-05-31</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPZN07CicHGCgBJnYLw7DniajNoU4TMibnyg7hHWSoQ0iaMib0J541ADNPqRbkic4GlHJAybGkVyVwanwQ/132" width="30px"><span>~*Annie*~</span> 👍（0） 💬（0）<div>不错，越看越想看</div>2021-08-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/71/73/4e7930af.jpg" width="30px"><span>阿油</span> 👍（0） 💬（1）<div>怎么理解工程和算法的关系，做推荐工程的同学是否需要了解算法</div>2019-08-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/6c/c4/e63b1a71.jpg" width="30px"><span>soar</span> 👍（0） 💬（0）<div>rerank与rank没有讲解</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/90/d0/48037ba6.jpg" width="30px"><span>李跃爱学习</span> 👍（0） 💬（0）<div>内容消耗的加速度乘以内容的消耗难度。当注意力为正数时，是上马推荐系统的好时机怎么理解？难道一个日活跃平稳的产品就不需要上推荐系统了？</div>2018-12-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/9f/d2/abb7bfe3.jpg" width="30px"><span>庄</span> 👍（0） 💬（0）<div>老师，其他非技术角色指的是哪些哈，举些例子</div>2018-06-11</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ZWxEynsT3FhLggqiaeSlfqrtTumHIiat0tUzw1ygvqn2icZUwF6ib9gdibxAkYZkARibxZMN0oMOXf4lxrbaw9H1V8Og/132" width="30px"><span>sslrec</span> 👍（0） 💬（0）<div>一直有个问题没了解透，向老师请教一下。大多数推荐系统都是预先生产推荐列表等待用户侧来请求，有没有采用交互式的方式实时生成推荐列表的情况呢？有没有这方面的案例

ps：很多不是做推荐业务的同事都会以为我们是交互式的</div>2018-05-25</li><br/>
</ul>