从今天开始，我们进入专栏的“大数据平台与系统集成”模块。

前面我讲了各种大数据技术的原理与架构，大数据计算通过将可执行的代码分发到大规模的服务器集群上进行分布式计算，以处理大规模的数据，即所谓的移动计算比移动数据更划算。但是在分布式系统中分发执行代码并启动执行，这样的计算方式必然不会很快，即使在一个规模不太大的数据集上进行一次简单计算，MapReduce也可能需要几分钟，Spark快一点，也至少需要数秒的时间。

而互联网产品处理用户请求，需要毫秒级的响应，也就是说，要在1秒内完成计算，因此大数据计算必然不能实现这样的响应要求。但是互联网应用又需要使用大数据，实现统计分析、数据挖掘、关联推荐、用户画像等一系列功能。

那么如何才能弥补这互联网和大数据系统之间的差异呢？解决方案就是将面向用户的互联网产品和后台的大数据系统整合起来，也就是今天我要讲的构建一个大数据平台。

大数据平台，顾名思义就是整合网站应用和大数据系统之间的差异，将应用程序产生的数据导入到大数据系统，经过处理计算后再导出给应用程序使用。

下图是一个典型的互联网大数据平台的架构。

![](https://static001.geekbang.org/resource/image/5f/1f/5f0515ad5740575ff79ac8c68990071f.png?wh=776%2A816)

在这张架构图中，大数据平台里面向用户的在线业务处理组件用褐色标示出来，这部分是属于互联网在线应用的部分，其他蓝色的部分属于大数据相关组件，使用开源大数据产品或者自己开发相关大数据组件。
<div><strong>精选留言（15）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epXfH1OVt86Dicrl9h83xXSpbW1kX7Y7s5ibeVPniceAbWynSgcTz8r21e8N595PNPG5WqBI18pVGP7w/132" width="30px"><span>Jack</span> 👍（5） 💬（2）<div>请问老师 采用cdh来搭建大数据平台是否一个好的选择</div>2018-12-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/23/c1/2a8b4130.jpg" width="30px"><span>君侯</span> 👍（4） 💬（1）<div>如何定义或者区别所谓在线业务，离线业务，实时业务</div>2020-06-11</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/qZOG7AGDuHnVARVh7l8VzdFlslz34Qa3X9V2yH9E6MFpsYoFQx7cicoMhVo6SUpL8nE2DHFMia8EoKicalYhXC1gQ/132" width="30px"><span>西瓜</span> 👍（23） 💬（0）<div>一楼那位兄弟，你应该是把资源调度和任务调度的概念弄混了</div>2018-12-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/40/10/b6bf3c3c.jpg" width="30px"><span>纯洁的憎恶</span> 👍（12） 💬（0）<div>在工业上，很多大数据计算的结果，要应用到互联网产品中。然而前者的计算时长难以保证实时性，后者又有很高的响应及时性要求。于是需要找到一个途径，整合前后两端的差异，这就是大数据平台的使命。它从前端应用程序获取数据，倒入后台的大数据系统计算，再将结果返还给应用程序。由此大数据平台自上而下分为数据采集、数据处理、数据展示三个部分。

数据采集。数据采集的来源可能有数据库、日志、网络爬虫，不同来源的数据质量各异，日志与爬虫数据在导入前需要预处理（清洗、转化）。

数据处理。倒入大数据系统的数据被存储在分布式文件系统中（如HDFS），大数据批处理和产品离线计算保存在分布式文件系统中的被倒入数据，并将结果也写入分布式文件系统。大数据流处理产品计算输入数据并直接输出。

数据展示。大数据离线处理的计算结果存储在分布式文件系统中，无法被应用程序直接调用，需要同步后导出到数据库。

当然还需要一个任务调度系统将上述三部分组织起来。简单的调度策略按先后次序，复杂的要依据依赖关系（DAG图）。</div>2018-12-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/d6/a9/d678eb47.jpg" width="30px"><span>kwang</span> 👍（5） 💬（2）<div>1，日志同步可以理解为在app或web浏览器中部署埋点sdk，将埋点数据上报给应用服务器，应用服务器上的日志在经过 flume 接入到 HDFS。想问一下老师“打点采集”一般是在什么场景下会涉及到呢？又有什么方式实现“打点采集”？

2，我接触到的大数据平台中，有这样一种实现方式：日志同步通过 flume-agent 接入，然后打到 kafka，kafka 的数据同时供离线和实时计算消费，个人感觉这种方式的实时效果不一定会很好，请问老师怎么看待这种方式？

3，比较奇怪的是老师在资源调度系统里为啥没有提到 yarn，个人认为 crontab 只是决定任务的启动方式和时间，而真正做资源调度的应该主要是 yarn。</div>2018-12-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/eb/99/5b6d689c.jpg" width="30px"><span>special</span> 👍（4） 💬（0）<div>学习大数据将近一年，对Hadoop各种工具的特点、原理以及编程使用有较为全面的总结，大数据小白入门的好帮手。
欢迎关注公众号:

程序员的修身养性

一起交流学习！</div>2018-12-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/12/c7/a7a5df8b.jpg" width="30px"><span>达子不一般</span> 👍（3） 💬（0）<div>lamda给我的印象应该是java的lamda表达式，这个lamda架构貌似看不出来跟lamda本意有啥关联？</div>2019-10-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/bf/12/a7f606f6.jpg" width="30px"><span>哥们，走起！！</span> 👍（3） 💬（0）<div>老师，请问您是去哪找论文看的</div>2018-12-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/f1/aa/c29def94.jpg" width="30px"><span>草裡菌</span> 👍（1） 💬（0）<div>深入浅出，简洁明了，谢谢大佬。</div>2020-04-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg" width="30px"><span>杰之7</span> 👍（1） 💬（0）<div>通过这一节的学习，理解了互联网产品加大数据产品等于大数据平台。

整个大数据平台的流程图老师已经给我们展示，我理解的是通过用户对App或者是网页的使用产生的数据，通过服务器传输到数据库中，这样就有了数据的获取。接着通过数据同步系统将获取的数据导入大数据产品中进行计算处理。计算处理主要分两类，批处理和流式计算，两者结合可以将过去到此刻的数据处理完成。最后将处理好的数据导出到数据库中给用户或者相关人员使用。

在上述的整个过程中，任务调度管理系统进行调度的优先级和执行顺序。

基础薄弱甚至没有计算机科班基础，依然可以学习数据技术，执着的相信有一天是一名真正的数据人。</div>2019-01-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/5a/95/866bccb7.jpg" width="30px"><span>helloWorld</span> 👍（1） 💬（2）<div>老师，我昨天看了腾讯TEG团队的一篇文章，他们做了一个流计算平台，其中提到了在Web页面通过画板构建一个流计算应用，想请教一下这样的功能实现的思路是什么</div>2018-12-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/08/1c/ef15e661.jpg" width="30px"><span> 臣馟飞扬</span> 👍（0） 💬（1）<div>而互联网产品处理用户请求，需要毫秒级的响应，也就是说，要在 1 秒内完成计算，因此大数据计算必然不能实现这样的响应要求。但是互联网应用又需要使用大数据，实现统计分析、数据挖掘、关联推荐、用户画像等一系列功能。
那么如何才能弥补这互联网和大数据系统之间的差异呢？解决方案就是将面向用户的互联网产品和后台的大数据系统整合起来，也就是今天我要讲的构建一个大数据平台。大数据平台，顾名思义就是整合网站应用和大数据系统之间的差异，将应用程序产生的数据导入到大数据系统，经过处理计算后再导出给应用程序使用。

大数据平台还是利用大数据系统进行计算啊，无非就是做些数据的导入导出，没看出来从哪里能把计算速度提高到满足互联网应用的要求上啊，我理解的哪里有问题？</div>2020-02-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg" width="30px"><span>钱</span> 👍（0） 💬（0）<div>阅过留痕
计算机界最核心的就是数据，她是各种变幻的基础资料。大数据，把大字放在第一位以示强调数据量大这个特点，不过根本上还是围绕数据的采集加工挖掘在使劲。</div>2020-02-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/14/e1/ee5705a2.jpg" width="30px"><span>Zend</span> 👍（0） 💬（0）<div>看了这篇感触，能跟我们现在做的系统架构能对应的上。请问一下老师HBase现在在大数据平台里面处于什么位置，应用前景如何。</div>2019-11-15</li><br/><li><img src="" width="30px"><span>vailau</span> 👍（0） 💬（0）<div>这一章受益良多~给我们一个全面清晰的大数据平台的架构，核心还是在于数据。
不管是互联网产品还是大数据产品，本质都是数据的采集、处理、展示过程，就方法及技术要求不一样。
会对个人&#47;公司搭建自己的大数据平台有很直观的指导作用</div>2019-03-04</li><br/>
</ul>