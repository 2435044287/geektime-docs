> 本门课程为精品小课，不标配音频。

你好，我是常扬。

在之前的课程中，我们已经学习了RAG的完整流程。**RAG索引阶段**，首先解析文档，并将文档进行分块处理，接着通过嵌入模型将这些文本块向量化，最终将生成的向量存储在向量数据库中。在 **RAG检索阶段**，RAG系统会将用户查询向量化，并在向量数据库中进行语义相似度匹配，筛选出与查询最相似的多个文本块。最后，在 **RAG生成阶段**，系统将用户的查询与检索出的文本块进行指令组合和设计，并通过大模型的理解生成最终回答，至此完成整个RAG流程。

![图片](https://static001.geekbang.org/resource/image/7d/a9/7dbd8139d7508bbb4d3de0aa073c33a9.jpg?wh=1920x1666)

上述内容的讲解实际上已经涵盖了一些能够提升 RAG 检索效果的关键技术。这些技术包括：处理多种文档格式、版面布局及阅读顺序还原的高精度、高效率**文档解析技术**，适用于特定场景的多样化**分块策略**，综合考虑特定领域精度、效率和文本块长度的**嵌入模型**，支持高效索引、检索和存储的**向量数据库**，结合多种检索技术的**混合检索方法**，以及能够捕捉查询词与文档块相关性的**重排序技术**。每个技术的细节优化都可以进一步提升整体检索精度。

这节课我们会在之前课程的基础上，进一步补充优化检索精度的方法。

## 数据清洗和预处理

在RAG索引流程中，文档解析之后、文本块切分之前，进行数据清洗和预处理能够有效**减少脏数据和噪声**，**提升文本的整体质量和信息密度**。通过清除冗余信息、统一格式、处理异常字符等手段，数据清洗和预处理过程确保文档更加规范和高质量，从而提高RAG系统的检索效果和信息准确性。
<div><strong>精选留言（3）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg" width="30px"><span>张申傲</span> 👍（1） 💬（1）<div>第8讲打卡~
对RAG效果的评估，还可以考虑增加用户反馈的机制，让用户可以对每一个回复结果进行打分和反馈。</div>2024-10-28</li><br/><li><img src="" width="30px"><span>licl1008</span> 👍（0） 💬（1）<div>老师 如果pdf中存在表格，怎么在解析，分段，检索等各环节增加RAG的准确度</div>2025-02-16</li><br/><li><img src="" width="30px"><span>edward</span> 👍（0） 💬（2）<div>请问下老师 RAG评估这块内容 可以给出一个示例么？</div>2024-10-12</li><br/>
</ul>