你好，我是黄鸿波。

在前面的章节中，我们讲解了数据、算法以及简单的推荐服务，从本章开始，我们将开启一个全新的篇章：算法。本章我们会围绕算法和模型进行展开。

这节课我们先来讲解协同过滤算法，我将其分为了下面三个部分。

1. 什么是协同过滤算法、协同过滤算法的基本原理是什么？
2. 协同过滤算法中的常见问题和弊端。
3. 搭建一个简单的协同过滤算法。

## **协同过滤算法的基本原理**

在实际的工程项目中，拿到用户的行为信息对一个线上产品来说非常容易，而如何利用好用户的行为数据才是重中之重。

在众多捕捉用户行为的推荐算法中，协同过滤算法是最基础也是最重要的算法之一，其核心思想就是对用户历史行为进行处理和挖掘，从而找到用户的喜好，并通过用户所喜好的内容进行召回、推荐。

我们经常会看到“猜你喜欢”“购买此商品的人也购买了某商品”等功能，这些功能常常就是使用协同过滤算法作为其最基础的召回算法，进行内容信息的召回。

一般我们可以将协同过滤算法分为两种类型：基于邻域的协同过滤算法和基于模型的协同过滤算法。其中基于邻域的协同过滤算法又包括基于用户的协同过滤算法和基于内容的协同过滤算法。无论采用哪种协同过滤算法，核心思想都一样：**收集用户的行为记录，找到用户的偏好并找到与偏好相似的内容，计算比重再推荐给用户。**
<div><strong>精选留言（6）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/14/60/a1/45ffdca3.jpg" width="30px"><span>静心</span> 👍（2） 💬（1）<div>我在想一个问题，如果是成百万或上千万甚至更多级别的文章，再加上上百万甚至千万级别的用户，这么打循环计算，需要什么样的服务器才可以胜任？</div>2023-08-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/18/4f/9e4d5591.jpg" width="30px"><span>翡翠虎</span> 👍（1） 💬（1）<div>每天新增很多（几十万篇）文章的情况下，怎么做相似度计算呢？是一次性批量计算相似度还是有别的方法？</div>2023-05-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f7/d3/2bbc62b2.jpg" width="30px"><span>alexliu</span> 👍（3） 💬（0）<div>&quot;a 和 b 的共现次数为 2，喜欢 a 的用户数是 3，喜欢 b 的用户数是 2，那么我们可以计算出 ab 的相似度 2&#47;6=0.33&quot;
这里是不是应该对6开根号？相似度应该是2&#47;sqrt(6)=0.81吧</div>2023-06-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/f3/83/e2612d81.jpg" width="30px"><span>锐</span> 👍（0） 💬（1）<div>请教老师，如果要过滤用户已读文章，而用户已读几十万篇甚至更多，召回时怎么处理效率更高？</div>2024-02-19</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/EaBxhibOicZe9L7z2icbU4W462l543drFWYqibqczTicj4Msyb2g9pDSGmFTiafW9jibwib7jG6hpAdPMcCowdCiaxHaOdA/132" width="30px"><span>Geek_ccc0fd</span> 👍（0） 💬（0）<div>问题2：数据集就是user-item的交互行为日志，然后group by user得到每个用户点击&#47;点赞&#47;收藏过的item_list，传入我们的函数中做相似度计算，这里还可以根据行为的不同做加权</div>2023-06-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（0）<div>Q1：相似度的计算有多种方法，一个网站会应用多种方法吗？
Q2：相似度计算的规模，或者说矩阵的规模，一般多大？
Q3：对于一个用户的相似度的计算，网站多久更新一次？
Q4：一个网站后端是用Java开发的，计算相似度的时候，会采用Java吗？有观点认为Java计算慢，是否会采用速度更快的？ 比如C、C++，或者python？</div>2023-05-30</li><br/>
</ul>