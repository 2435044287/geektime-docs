你好，我是黄鸿波。

在前面的课程中，我们对推荐系统在企业中的作用有了比较深刻的认识，也借助一个具体的Netflix案例对推荐系统的整体架构和数据流有了充分的了解。从本章开始，我们就要真正地进入到推荐系统的开发当中，从头来搭建一个企业级的推荐系统了。

这一章的核心内容是数据，我们的话题都是围绕着数据来展开的。一个好的推荐系统，我们首先要知道怎样获取和处理数据，然后将数据存入适当的数据库中。紧接着，我们还要将原始数据处理成我们推荐系统所需要的画像，作为后续推荐算法需要的特征数据。

这节课我们就从数据的来源开始，讲解应该从哪里获得数据，要怎么处理它们。

## 数据获取方式

想要处理数据，第一步是要先获取数据。我们要获取的数据有哪些呢？根据上一讲的内容我们知道，推荐系统主要由离线层、在线层和近似在线层三个部分构成，我们需要两种类型的数据：用户数据和内容数据。

![](https://static001.geekbang.org/resource/image/c1/1e/c1d8977297f5be1d30e8be74eacf891e.jpg?wh=3000x1460)

一般来讲，用户数据又可以分为两部分，一个是用户本身的属性数据，比如说用户的基本信息，经常看的内容等，这些我们可以统称为用户基本画像。另外一种是用户的行为数据。也就是一个用户从进入到我们的App开始到离开为止都留下了哪些行为，这些数据有助于我们分析用户的喜好，这些数据和用户基本画像组合起来，就成为了我们的用户画像。
<div><strong>精选留言（4）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/27/1d/10/a73d63ba.jpg" width="30px"><span>欢少の不忘初心</span> 👍（1） 💬（1）<div>电商系统，博客系统

电商需要用户的浏览记录，购买记录，性别，商品的相似性信息
博客需要用户的浏览记录，点赞，评论，收藏，关键字，技术栈，喜好
</div>2023-04-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg" width="30px"><span>peter</span> 👍（0） 💬（1）<div>请教老师几个问题：
Q1：内容的质量怎么确定？
Q2：开发一个新闻APP，用爬虫爬取内容后用在自己的APP上，会有法律或版权纠纷吗？
Q3：推荐系统可以利用chatGPT吗？</div>2023-04-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ce/6d/530df0dd.jpg" width="30px"><span>徐石头</span> 👍（0） 💬（1）<div>1. 短视频内容，需要用户昵称&#47;性别&#47;唯一标识&#47;ip&#47;地址，用户点赞，收藏，评论，分享，视频时长，完播率，平均播放时长，视频分类，关键词，标签，视频地区。
另外我想强调一下视频封面，封面是用户对视频的第一印象，所以可以生成同一个视频的不同封面图推荐给不同用户，字体&#47;颜色&#47;内容关键字，根据用户点击和观看进行优化，具体还没实践过。
另外根据同一类用户关注的大V进行推荐，按用户之间粉丝交集关系进行推荐，A跟B都关注了C，A关注D，B没有，是不是可以给B推荐D。
2. 没有头绪，不知道从哪里下手，希望老师给答案</div>2023-04-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/69/7b/62c46d44.jpg" width="30px"><span>👂🏻阿难👂🏻</span> 👍（0） 💬（0）<div>这节内容是我比较关注的，我浏览完全篇后，对这节课的理解和定位是数据获取-数据“预处理”的一个导引。
数据处理在一个成熟商用的推荐系统按照我的理解应该是有至少：“事前-事中-事后”三部分的。这节内容更多的是在讲事前这个阶段。
那么事中：也就是训练推荐引擎，的阶段数据是如何在不同的组键和模块只用吊起，传输，存储的呢？这些组键分别支持什么样形式&#47;格式的数据？处理完会存储在哪里？为什么要这么存储？

事后：也就是模型离线训练完成如何做预测？预测的数据形式是什么样子？是key value对吗？训练好的模型参数如何部署？为了线上大规模实时&#47;近实时预测？什么样的数据格式更优？接口传输的数据又是如何定义，存储，流转？

希望这些唯独都能被老师和课程负责人关注到，这些对于一个完整的学习框架搭建才是有价值的。谢谢</div>2023-05-31</li><br/>
</ul>