这周，我们来讨论EE策略，周一介绍了EE的综合情况。今天来看一种最基本的思路，叫作 **UCB（Upper Confidence Bound）算法**。

## EG算法

在介绍UCB算法之前，我们先来看一种更加简单的EE算法，叫 **EG（Epsilon-Greedy）算法**。

我们先来回顾一下EE的主要目的。EE的核心思想是说，我们对当前物品的估计往往是有限的、不准确的，需要不断尝试来增强对整个环境的了解，进而能够更加准确地对每个物品进行估计。

可以说，**EG算法是最简单也是最基本的EE算法**。EG算法的基本思路是这样的：既然我们当前对所有物品的估计是不完整的，那就可以随机地显示所有物品来获取数据。假设我们现在有一千个物品，我们对每个物品都需要估计一个数值，比如点击率。很显然，这个点击率的估计受以下两个因素的影响：已经显示了什么样的物品和显示的次数。那么，要想进一步提高这个估计值的准确度，EG算法认为我们必须对所有物品进行“探索”（Explore）。

具体来说，**EG算法的流程是这样的：对于所有的物品，在概率P的情况下，按照当前的估计值来显示物品**。回到刚才点击率的例子，那就是在概率P的情况下，谁的点击率高就显示谁。然后在概率1-P的情况下，随机地在所有物品中选择显示对象。如果我们从所有用户的角度来看，也就是说，P%的用户看到的是根据点击率排序的物品，而(1-P)%的用户看到的是随机的物品。

EG的想法是，虽然在最开始的时候，这种随机性可能会带来用户体验的下降，也就是那(1-P)%的用户会持续看到随机的内容，但是在牺牲这部分用户体验的情况下，随着时间的推移，慢慢地从整体上来看，对所有物品的估计会更加准确，P%的那部分用户的体验会增加。这也就是一种牺牲小部分用户体验来换取大部分用户体验的思路。

## UCB算法的核心思路

我们刚才讲了EG算法的基本思路。很显然，**EG有一个很大的问题，那就是有一个固定百分比的用户持续看到的都是随机的内容，这就太过于局限**。

那么，我们能不能根据对物品的估计，来动态地调整显示物品的可能性呢？
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/2e/d5/9e98f291.jpg" width="30px"><span>不玩</span> 👍（1） 💬（0）<div>请问标准差是怎么计算的？我理解经验的点击率就是总的click除以总的show</div>2018-11-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/c1/a7/5e66d331.jpg" width="30px"><span>林彦</span> 👍（0） 💬（0）<div>如果有一大堆物品的 UCB 打分值是一样的，是不是可以考虑引进一个随机数来打破平衡？

搜索资料过程中提到LinUCB可以根据物品的特征，涉及的用户特征，所在页面的信息得出一些特征值，用这些特征值的组合计算来预估物品的期望值和UCB值作为打分，再根据实际结果更新特征值。我的理解分数一样时也是先随机选择一个。

Thompson sampling会引入概率分布，每次生成的值是根据参数已计算好的概率分布来生成的，是随机的。</div>2018-03-23</li><br/>
</ul>