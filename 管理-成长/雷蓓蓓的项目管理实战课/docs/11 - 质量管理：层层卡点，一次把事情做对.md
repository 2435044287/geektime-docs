你好，我是雷蓓蓓，今天我们来聊一聊质量管理的话题。

说到质量，很多人会说：“工期太紧了，能按期提测就不错了，Bug多一点也正常。质量好不好？不好说。如何提升？不知道，QA会保证的呀。”

我见过的大部分程序员，对自己的代码质量要求还是很高的。不过但是，一旦遇到赶工压力，尤其是在Deadline之前，就很可能会把完成度很低的代码交出去，心想“反正有人给我检查，到时候再说吧”。但是，这个时候，这些代码就好比是一台“行走的Bug制造机”，后患无穷。

我曾经在一个技术债特别严重的部门中，面向各级程序员做过一轮抽样的访谈调研。调研的结果是，程序员们只有27.2%的时间在做真正产生价值的编码工作。但是，他们会花20.7%的时间，进行需求质量和代码质量问题所引发的Bug修复、返工和紧急上线工作。

质量成本分为两类：**一类是事前防止失败的一致性成本；一类是事后处理失败的非一致性成本**，包括内部Bug引发的返工成本，以及外部Bug导致的用户侧成本。

近些年来，越来越多的公司在严格控制测试人员的比例，鼓励开发人员通过各类技术手段从上游保障质量，就是因为越发地认识到：事后检查处理的代价其实是最高的。

实际上，质量是规划、设计、建造出来的，不是检查出来的。**预防高于检查，预防错误的成本通常比在检查中发现并纠正错误的成本低得多**。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg" width="30px"><span>小文同学</span> 👍（45） 💬（1）<div>质量管理在一个正在运行的项目里很重要。我2016~2018年所在的老项目(2011年)就曾经面临质量危机，它是公司收益非常大的项目，危机是不得不解决的。
危机原因：技术债务堆积数年，开发已经陷入举步维艰的地步，大部分的技术同学一周都得忙两天时间修复线上bug。
危机解决方法：小步快跑地重构崩坏的代码，对于不方便修改的代码，直接开发一套新的兼容代码，旧的代码让其尘封起来。
解决关键：所有的小步快跑都要寻找反馈来证明有效；相信工具和自动化；
项目的是周更新的，迭代速度很快，有利于项目的改动快速得到反馈，甚至说每一个人的努力都可能在下一周得到回应。我那时在团队里以上线晚上的加班时间为自己的反馈，假如超过12点而原因是研发进度问题，则优先解决最重要的研发瓶颈问题。17年花了半年时间不断地重构，重构获得更多的时间后，又可以进行新一轮更难、持续时间更长的重构，团队重新进入良心的循环，最终技术债务逐渐基本还清，17年下半年版本质量重新稳定了。
后来我补充思考了一些关于防止项目质量重新陷入崩坏的问题。
1、在技术团队中强调代码的不仅仅是正确与否，有优劣之分，由于项目是快速迭代的，所以代码的可读性和稳定性优先于代码的性能问题。保证每个技术同学都知道这个原则，敢于对违反这个原则的代码自行进行重构（还得培训相关重构知识）。
2、在技术团队中，补充规范和文档、注释，把之前重构出来的成果以肉眼可见的形式留存下来，要求是一个实习生按照文档操作不会踩到坑。

现在该项目已经又继续稳定运行了两年多，最重要的成就感莫过于自己留下的框架和规范还有用地指导着新同学去继续这个支持这个项目。

现在新的项目依然有很多质量的问题需要处理，但是要处理的维度更高了，新项目的问题不仅仅是代码质量问题，而是更多是团队问题，这是我19年下半年最大的挑战。希望两年后回望也有我今日回望17年的成就感吧。</div>2019-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/2d/4f/d1ff2962.jpg" width="30px"><span>super宋</span> 👍（13） 💬（5）<div>老师我想请问下，在我已经建立好代码规范，提交标准等等规章后，有个别人就是不按照规章制度去做事，甚至沟通后依然我行我素，成为了一个“坏榜样”。该怎么去处理这种情况呢？还有一种情况是有的开发人员自己的代码从来不测试，或者测试用例很少，质量低导致测试人员工作量非常大，也对他颇有微词，同样是沟通后无果，是否有方法去解决这种情况呢？</div>2020-04-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg" width="30px"><span>leslie</span> 👍（8） 💬（3）<div>    谈谈个人的现实感受吧：其实处理这种技术债应当是两类手段，其实也是两类人的处理方式。
    第一类：定期处理-做事情极度有魄力的CTO，定期会对现状做个总结然后还债，这个可能就像我们用花呗或者信用卡定期主动还款一样。
    第二类：知道一堆问题，可是就是觉得太杂、知道问题、记录下来、大不了这个爆了我还有其它的，总体上最后做到核心不出问题就行，其实这种CTO自己都不知道现有的有些项目哪天会爆了。
     一次性做好是不可能的：前几天刚和极客时间的老师在专栏中聊过类似的问题；有技术债不可怕，怕的是决策者不能确定技术债的风险且适当的时候定期还债，最终导致某些债务引发部分爆仓。
    以上是个人的一点切身体会和薄见：期待老师下节课的分享。</div>2019-11-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/19/35/be8372be.jpg" width="30px"><span>quietwater</span> 👍（6） 💬（3）<div>质量管理最高境界还是治未病，需求质量决定了质量的上线，需求评审固然重要，但最有效的还是开发测试需求对需求的理解达成一致，包括验收条件。这样大家都心里有数，提高了效率。</div>2019-12-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/56/0e/43dbfb92.jpg" width="30px"><span>Tux Hu</span> 👍（2） 💬（1）<div>感谢老师的分享。如下2个问题请教一下：1.提测前的质量门禁和上线质量标准是PMO制定后与相关部门沟通达成一致后执行，还是PMO推进相关开发及测试部门&#47;产品部门来完成并上级review拍板？这个问题主要问相关质量标准的制定和推广是怎样进行的？2.针对产线问题的根源分析和改进措施如何做到闭环及改进效果评估？质量提高需要一个过程，有些改进需要技术不能内部立项跟进。如果按月review发现改进方案还未见到明显成效并且review下来还是类似的问题和类似的解决方案，是否参与人会感觉到review是浪费时间，这种情况下您怎样处理的？谢谢</div>2019-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/8d/c5/898b13b4.jpg" width="30px"><span>亢（知行合一的路上）</span> 👍（1） 💬（1）<div>
同理心
发现了问题，也就是自己的痛点，要想团队其它人的痛点是什么？这两类痛点有哪些相同之处，也就是可以多赢的地方。
设身处地为他人着想，谁不想解决自己的痛点呢？

先花力气与重要干系人沟通
团结一切可以团结的力量，然后，再向大家公布，阻力就小很多。

定制
同样的方法，针对不同的团队，适合落地的形式也不同，还是同理心。

发心帮助团队，学习方法，积极尝试，不断优化。</div>2020-02-18</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/TvPkEYJd6m69qmIgH8icqaVicf5tPY1sLaToCZXWzQT541wEXGQdtZMexO7TP2AIF7KnPV3mn7fwnqeFY8TVcXeQ/132" width="30px"><span>furyboo</span> 👍（1） 💬（2）<div>要做到“一次性把事情做对”还需要一个前提，就是项目的干系人（包括产品、设计、开发、测试等）能够统一对产品需要、目标、质量等有比较一致的理解和认知。
在我之前的一个团队中，有些项目业务逻辑会比较复杂，在产品需求沟通或者评审时，大家很少会有疑问或者问题，会后就根据各自的理解开始开发或者设计测试用例了，等功能做出来的时候，经常会发现有很大的偏差。
后来我们采取了一个方案：每次产品讲完需求后，随机让几个参会成员讲解对需要的理解，这样避免了部分成员在开会的时候划水提高大家的参与度，也可以及时发现大家都需要理解的偏差。
请问一下，大家有没有什么好的办法尽量减小团队成员对需求等理解或者认知偏差呢</div>2019-11-21</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/7kxEXDDofMlqvPBkKyBOcPHlaCaaq3ePXdOGAbwdgICwoNkkTx7mecLOm6iaeypv7e5QOvpAbpO8EjWnibnqQEOw/132" width="30px"><span>Geek_小棠</span> 👍（0） 💬（1）<div>蓓蓓老师，最新才开始学习，缺陷的大概率不是发生在需求设计阶段么。为什么要专注研发阶段呢</div>2022-05-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/45/b6/8ce31f72.jpg" width="30px"><span>Lily</span> 👍（0） 💬（1）<div>请问蓓蓓老师，一般bug率怎么统计？分母用什么算比较合理？</div>2022-01-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/5c/5e/3bf63d57.jpg" width="30px"><span>ptbiyu</span> 👍（0） 💬（1）<div>请问图中的质量流程概括图（从需求评审到发布上线）是用什么工具画的呢？推荐画图的工具，老师画的图都好清晰简洁</div>2020-04-18</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIy5ULaodUwsLoPuk1wd22hqXsaBbibNEqXM0kgrCTYDGKYQkZICYEyH9wMj4hyUicuQwHdDuOKRj0g/132" width="30px"><span>辉煌码农</span> 👍（0） 💬（1）<div>关于“一类是事前防止失败的一致性成本；一类是事后处理失败的非一致性成本”，请问下老师我的的理解对吗？
事前防止是指：写代码时规避的或者开发人员自己发现的bug。
事后：是指被测试或者用户发现的bug</div>2020-02-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/92/ce/9d24cb2c.jpg" width="30px"><span>峰回路转</span> 👍（7） 💬（0）<div>质量控制从时间维度分为
事前 做好质量保证计划。
事中 时时监控节点，防止偏差。
事后 总结归纳 分析根因，持续改进。
感觉也是一个小的项目计划</div>2019-11-21</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJQXNZZw2gSq1zwjbbG9eNQicw2lLMBjzf3k5dCqP77s5YmDNbtKILR86OBbJbSm2g02UgTPt47n2A/132" width="30px"><span>PM它不好转啊</span> 👍（4） 💬（0）<div>目前仍然是主开发角色，想吐槽一个可能比较常见的事情  接手了一年多的很老的项目，没有一点文档保留，全靠同事之间的口口相传，接手初期跟产品过会需求，看着都很简单，但是找代码位置还有错综复杂的逻辑简直要崩溃，一个不小心就容易导致其他问题出现，后来忍不了了自己把各种说明文档开发文档补充上了，算是给古人还了一部分技术债。这种三无的项目如果不下定决心用很长一段时间还债的话，实在是不好意思把“质量”两个字说出口，刚接手的也没人能保证质量。大家还是要尽力预防风险遵守各种规范不要等风险降临在自己或者某个幸运儿身上再哭着加班，太难了</div>2020-11-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/31/16/b24842c3.jpg" width="30px"><span>qh</span> 👍（2） 💬（0）<div>一次性把事情做好，就怕又要质量又要不合理的速度，最后先搞速度，后来号质量</div>2020-03-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/22/97/7a1c4031.jpg" width="30px"><span>Raymond吕</span> 👍（1） 💬（1）<div>今天学习了新概念：质量大盘，质量卡点。
公司有公司级的质量方针，质量目标，但针对项目层级质量规划却比较少见。在传统制造行业里，质量管理是单独的部门，虽然在项目组中存在质量代表，但其工作的模式并没有太多变化。
我理解，软件工程领域和制造领域的区别在于，软件开发人员每个人都是生产者，代码是其直接产出；而制造一个产品，开发人员只是负责设计，生产制造是另一拨人，而制作的好不好除了设计的原因外，还有工艺本身的原因。一旦多因素混合，发生issue时想要定位根本原因，就比较困难了。
质量不是一个人的问题，而是需要质量意识深入人心，从系统层面设置标准和卡点。
没有标准，就是没有质量。
</div>2019-12-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg" width="30px"><span>Cy23</span> 👍（1） 💬（0）<div>树立责任感，出来混迟早要还的，回头还债的时间远超发现问题及时修改的时间，因为你要把代码重新复读理解一遍。原来人多还可以安排固定的人做测试，现在设计、开发、测试、修复全都一个人。我只能干活的时候多加小心，尽量考虑全面减少bug出现率。</div>2019-11-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/6b/56/37a4cea7.jpg" width="30px"><span>单朋荣</span> 👍（0） 💬（0）<div>需求：非容器化、涉密项目使用Devops工具进行质量卡点和代码管理
现状：Github管理代码
有合适的工具推荐吗</div>2023-03-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/6b/56/37a4cea7.jpg" width="30px"><span>单朋荣</span> 👍（0） 💬（0）<div>蓓蓓老师对事情的认知、处理策略、具体行动（基本趋于标准化-可学习、可复制、可推广）以及经验，都很值得学习；对项目管理的人、事、过程分类清晰，个人习惯性的眉毛胡子一把抓，对抽丝剥茧步步落实做的不好，项目管理不愧是行为艺术，希望后面转项目能习得自己的知识体系。</div>2023-03-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/30/93/58/b0389447.jpg" width="30px"><span>Echo就爱吃棉花糖</span> 👍（0） 💬（0）<div>老师，请问一下，没有IT背景的如何去评估质量问题，以及IT部门给出的工期如何去把控呢</div>2022-09-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/d5/3e/7f3a9c2b.jpg" width="30px"><span>Jaising</span> 👍（0） 💬（0）<div>很羡慕重视质量管理的团队，以前做2C产品质量规划分析控制都相对健全，换工作后做2B，2G的产品后质量反而没那么高要求了，出现技术债的产品基本都是重写上线替换掉，试图推动建设质量体系但是发现困难重重，即使内部有一套还可用的基础设施，碍于产出考量，上层更重视大项目其他的都不经专门测试直接给到线上，下属对质量规范基本也不关注，没有软件崩溃没有用户反馈就万事大吉，但个人还没放弃对质量体系的建设和对自己的要求，也理解成立3年的部门还在建立机制和填旧坑没法重点关注到质量上来，质量真的体现一个研发团队的成熟度，对于产研团队的质量建设老师有什么建议？</div>2022-09-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/21/a5/20/24f41771.jpg" width="30px"><span>热血战士</span> 👍（0） 💬（0）<div>技术债，单纯依靠程序员自身是无法有效推动的，即使程序员很想改变。技术债的改善需要高层来制定对应的计划和措施才能够推动，整体层面考虑。
个人也遇到过技术债的，只要确保能够平稳运行，不出现严重问题或者业务没有反馈，尽量不需要修改，因为修改需要消耗大量的时间和精力，划不来。

技术债的另一面是主要是测试没有做好，涉及开发和测试的比例问题：有些公司认为开发人员需要自己测试，但是开发对场景和需求的认知不是很熟悉，毕竟编码实现已经花费了大量的时间；有些公司认为研发和测试比例为1:1，这样虽然能够保证质量，但是花费太大。个人认为还是需要测试人员，但是测试人员不要占比过多且测试人员要全程参与项目，也要对需求和设计测试，不仅仅是功能。</div>2022-04-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/46/c0/106d98e7.jpg" width="30px"><span>Sam_Deep_Thinking</span> 👍（0） 💬（0）<div>这里面关于质量的流程，是不是QA团队参与更多会更好。</div>2021-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/8a/76/4abc8ac1.jpg" width="30px"><span>完美世界</span> 👍（0） 💬（0）<div>老师分析的太好了。项目刚起步时，进度时首要的，在项目中期，就需要把技术债搞搞了。

我们是利用sonar平台，一期，先控制漏洞数、bug数，保证最起码的代码质量。
二期，会严控覆盖率。三期，是必须满足所有的指标，才可以上线。
同时，倒逼研发，尽可能提高代码质量。</div>2021-02-22</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq7XlwA1ZX1PtAia1Pk05I0vfYrsmJW2UesjSxybzVIoYSRzR58ZQjJI9QDLw36VibgJick7yRtjUp9A/132" width="30px"><span>Geek_f65dfa</span> 👍（0） 💬（1）<div>请问，这里的测试用例是开发自己写的？？</div>2020-11-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/ab/aa/4f20691d.jpg" width="30px"><span>源以南</span> 👍（0） 💬（0）<div>我做过不少开发类的项目，现在主要的质量管理都尽量往左边移，也就是说在需求的初期就开始进行质量管理。然后代码评审等质量管理手段，让质量管理的成本尽量降低。</div>2020-11-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/b2/27/c9ab10ae.jpg" width="30px"><span>freda</span> 👍（0） 💬（0）<div>项目的设计评审大家有什么好的建议，易操作</div>2020-06-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg" width="30px"><span>苦行僧</span> 👍（0） 💬（0）<div>从传统行业的角度分析，比如架构 基础架构设计不合理 后期用多好的机器 多少人去堆都是枉然 比如需求 前期分析不清楚 后期就是水泥工到处补漏，就像建筑行业 前期设计不合理 后期你自己怎么去改造房子 都是很麻烦的</div>2020-05-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/b5/ca/bba4d696.jpg" width="30px"><span>牺牲</span> 👍（0） 💬（4）<div>以始为终，测试团队代码能力ok的话，推荐TDD：测试驱动开发，有效把控开发和提测质量，从源头减少bug产生。
在文章中，遇到两个疑惑：一、是质量标准的定义标准中，bug的目标值：影响用户小于0.1%、灰度发布的崩溃率，这两个百分比是如何计算的呢？二、是代码准入是什么意思呢。
我看蓓蓓已经没有继续回复评论了，有没有哪位同学可以帮忙解答一下。</div>2020-04-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/8d/c5/898b13b4.jpg" width="30px"><span>亢（知行合一的路上）</span> 👍（0） 💬（0）<div>项目开始时，质量标准不明确，最后有领导说性能怎么那么差呀？开始都没提性能要求啊？还以为是先开发出来，再优化效率呢。
开始质量标准定好了，开发、测试也就都有了依据，没有标准结果就非常不确定。
层层卡点，在关键点上进行评审，偏离了目标及早发现。</div>2020-02-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/dc/e5/d07c38fa.jpg" width="30px"><span>panqing</span> 👍（0） 💬（0）<div>质量卡点的部分不是很具体哦，有没有什么参考资料可以分享？</div>2019-12-02</li><br/>
</ul>