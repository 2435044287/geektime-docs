你好，我是华仔。

在事后总结阶段，正常情况下我们主要是做**收获总结**和**成果汇报**即可，但是如果发生了明显的问题，就需要做**问题复盘**。

复盘是一个围棋术语，它指的是对局结束后回顾记录，检查招法的优劣和得失关键，并且根据分析提出更好的招法，提升以后的对局能力。后来，这个思路被引入到了管理工作中。

## 问题复盘

技术人员主要参与的是线上问题复盘，比如业务或者系统出现了线上问题，在问题解决之后往往就会组织复盘。

不管团队技术多么厉害，也不管公司多么有钱，都不能完全避免业务或者系统出现问题的可能，比如2015年5月27日支付宝发生了大规模宕机的事故，2018年10月22日GitHub发生了宕机24小时的事故等。

虽然无论做什么都不可能完全杜绝问题的发生，但这并不意味着我们只能坐以待毙。我们需要尽量降低问题发生的概率，减少问题导致的损失，因为就算事故不可避免，1年发生3次和10年发生1次，影响和意义也是完全不同的。

问题复盘的意义就在于找到问题的原因然后加以改进，避免同样的问题反复出现，降低问题的发生的概率和影响。

## 四线复盘法

但是，要做好问题复盘可不是一件容易的事。复盘会议上的各种明争暗斗，可能会让刚参加工作的“萌新”惊掉下巴，甚至让一些老员工也感到头疼。尤其是一些管理比较严的公司还会通过复盘来明确责任分配和处罚措施，复盘会议的激烈程度往往不亚于电视剧中的宫斗场景。
<div><strong>精选留言（16）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/2a/bc/ef254e35.jpg" width="30px"><span>cloud</span> 👍（8） 💬（2）<div>李老师，我有些困惑。我们公司现在很多时候复盘也复盘了，也制定了一些措施，避免后续不再犯此类错误。但是一段时间之后，似乎又回到了老样子，如何让复盘后的措施，在团队中持续有效，这方面您有什么经验么?</div>2021-08-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/24/f8/0a/30562df7.jpg" width="30px"><span>王同学</span> 👍（6） 💬（4）<div>问题源头承担主责，问题放大者承担主责分不清楚。比如上游的数据格式出错，导致下游需要用数据的服务都有问题，那么是上游源头主责，还是下游放大问题者主责。上游定主责没问题，因为产生了错误的数据。下游定主责也可以，因为下游没有兼容缺陷数据。这个时候怎么定责</div>2021-02-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/2f/5a/4ed3465d.jpg" width="30px"><span>菜心1986</span> 👍（5） 💬（1）<div>复盘什么频率做一次？复盘的归因和追责部分要到什么程度？
这里的追责结果是否代表个人本身有问题？或者本人能力不行？
多大的问题要追责，比如一周没事是否也要找个问题来汇报？
追责是否都是底层人人员，领导或者老板会有问题可以复盘么？</div>2021-02-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/dc/58/53e16f1e.jpg" width="30px"><span>🍭</span> 👍（3） 💬（3）<div>作为研发怎么判断产品提出的需求是否合理呢，可以从哪几部分进行分析？</div>2021-07-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/37/e0/23f288ae.jpg" width="30px"><span>周平</span> 👍（3） 💬（4）<div>复盘的目的是找到问题的原因并改进，避免同样的问题反复出现，降低问题的发生的概率和影响。

我觉得，如果定不好责，特别影响复盘的目的，走偏。


想想以前被定过的责，好像是公平的，让人口服的，至少从逻辑上是找不出什么毛病来。

又一想，领导嘛，总能想出一些手段，做到逻辑上走通没毛病，再加上信息不对称，以及作为下属的弱势，总有办法让你说不出什么。


同时，又感到，做的事越多，越容易被人揪住辫子，追责。总的感受，我做了那么多事情，那么努力，结果奖励没见多少，还受罚了。


本文定责的原则，对我很有用，至少能帮我确定一些原则和边界。

同时，应从大利益的维度去考虑事情，不要太计较这些。


我自己还有个问题，心里特别怕出错，好像出了个错，好像天要塌下来一样。

其实，想想看，不需要看的那么重。


看来，定责是领导的一个技能，不是做事儿的人的技能，怎样定责也不在做事儿的人的影响范围内。


事情该做就做，重要的还是自己的成长。

回想了一下自己受过的责，也没几件。

这些受责是否影响了自己的成长和晋升呢？

我觉得最关键的还是自己的学识，认知。这方面的瓶颈，更大的影响了自己的晋升和成长。</div>2021-04-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg" width="30px"><span>qinsi</span> 👍（2） 💬（1）<div>“问题放大者承担主责”不是很理解。如果A是问题源头，B放大了问题，这时候是源头主责还是放大者主责呢？</div>2021-02-09</li><br/><li><img src="" width="30px"><span>Geek_14beb8</span> 👍（1） 💬（1）<div>因为人为事故，我被安排进了优化名单。
起初事故复盘之时，已经定责主责是操作接入层的人员，自身部门的责任是没有做好验证和及时监控处理，由我这边技术组长主导了事故的复盘，事故后期没有再发生，认为此事已处理妥当。
自身没有意识到风险，也没有和领导对这件事做更多反馈。
后来考核评语，只有事故的负面评价，对半年来的工作产出只字不提，认为忙碌的工作都只是战术上的勤奋，战略上的懒惰。另外主导复盘的同事受到年度的优秀员工奖。
因为考核给了非常差的评价，接下来公司又恰好有一轮人员优化，我就这进了名单。
职业生涯一道坎，就这样离开心心念念的中意的公司，非常惋惜。</div>2023-01-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/f7/72/2d35f80c.jpg" width="30px"><span>xing.org1^</span> 👍（1） 💬（3）<div>案例：临近大促流量高峰时刻，后端修改线上数据配置出错，导致返回给前端的数据缺失一个字段，前端因没做容错导致页面挂掉（js报错后阻塞页面渲染），进而使得线上所有用户打开都是空白页，个别用户反馈问题后研发才发现并修复。

请问老师，上述案例中后端配置错误是主责，前端因为没做容错放大了错误是不是主责呀？如果是的话，二者哪个更重呢？</div>2022-10-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg" width="30px"><span>怀揣梦想的学渣</span> 👍（1） 💬（1）<div>责任划分的太细致明确，反而导致团队互相甩锅，复盘时候都在急于撇清自己的责任，甚至弱化自己做错事情的程度。如果有连带责任，团队会互相监督，避免让对方的犯错拖累自己，除非集体摆烂。
能用程序标准化管理的事情，就避免人去处理，人总有犯错的时候，再专业的也有犯错的时候。特别是经验老道的人，我所在团队就有一个老员工，凭借丰富的经验，给客户做安全配置，配置结束后，两个三线城市的短信业务全下线了，好在恢复比较快，五分钟就搞定。但是客户已经有感知和吐槽。复盘发现，是配置安全规则的时候人工手写写错了一个子网范围，后来统一要求图形界面勾选，再也没出过故障。</div>2022-07-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/2f/5a/4ed3465d.jpg" width="30px"><span>菜心1986</span> 👍（1） 💬（2）<div>这里的技术负责人都是底层研发吧。管理层，比如经理没有承担责任么？
另外，团队合作时，比如测试遗漏怎么定？比如需求文档没有明确要求，测试是不是不需要关心了，出了问题也是无责任？
或者这个因公司而异，都可以？</div>2021-02-14</li><br/><li><img src="" width="30px"><span>Geek_035c60</span> 👍（0） 💬（1）<div>关于产品线上验证的情况，是不是不用全部验证所有银行呀？如果每一次上线都需要验证所有银行，是不是可以自动化测试工具验证？如果所有的渠道都需要验证一遍，就相当于线上回归不是简单的回归了，而是全盘重新测试。</div>2023-11-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/3b/86/170e58ae.jpg" width="30px"><span>一个帅哥</span> 👍（0） 💬（1）<div>工作已经4年了，还没出过线上事故。归根结底，就是因为自己胆小，总是怕出问题，所以方案梳理，代码改动都会评估影响的范围。
身边的例子：偷偷加代码，不通知qa测试，导致出了问题。</div>2023-06-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg" width="30px"><span>千锤百炼领悟之极限</span> 👍（0） 💬（1）<div>复盘目标：
1.事实：讲清楚事实
2.分析：全面深入地分析原因
3.定责：得出让各方都心服口服的定责结论
4.改进：制定可落地执行的改进措施

四线复盘法

时间线：问题发生到结束的经过

问题链：问题的传导路线
- 业务流程
  web-&gt;A服务-&gt;B服务-&gt;C服务

- 项目流程
  开发-&gt;测试-&gt;产品-&gt;运维

责任链：责任人之间关系

- 定责标准：
  
  - 违反规章&#47;制度&#47;流程 负主责
  例如：系统规定要经过灰度测试才能全量上线，没有经过灰度测试就全量上线导致出问题。
  
  - 重大失误纰漏 负主责
  例如：测试漏测试一个重要功能，导致上线后出问题。测试，产品负主责
  
  - 问题源头 负主责
  例如：A服务故障导致B，C，D服务故障
  
  - 问题放大者 负主责
  例如：A服务故障导致B服务故障，但A服务故障几分钟后修复，B服务却触发了自己的bug导致继续故障2小时，B服务需要负主责

改进线：制定可落地执行的改进措施</div>2023-03-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/3d/1c/5a3f5908.jpg" width="30px"><span>Jeeffi</span> 👍（0） 💬（1）<div>场景：
1. 业务线A和业务线B存在公共的底层代码。
2. 业务线A的项目中涉及底层公共逻辑的调整。并同步了业务线B。
3. 业务线A的开发在公共逻辑中引入了bug，但是在业务线A的case中不会出现，只业务线B功能的部分机型上存在功能不work。
两个问题：
1. 像这个case如何定责呢。业务线A觉得自己尽到了同步责任，改动了也回测了自身case.   业务线B觉得是外部改动引入的，且是机型问题，自己回测过只是没有多机型足够覆盖。 
2. 一般定责分为产生责任和发现责任等，那么引入bug的开发需要承担产生责任吗。产生责任和发现责任哪个一般是主责。</div>2023-02-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/6b/f8/b4da7936.jpg" width="30px"><span>大魔王汪汪</span> 👍（0） 💬（1）<div>文中的case从发现到回滚，故障持续了1个多小时，那这个服务的全年可用性就只有4个9了吧</div>2021-03-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/44/59/b607b8c0.jpg" width="30px"><span>毛成方</span> 👍（0） 💬（0）<div>把问题摆在台面上 直面问题 讲明白 分析明确 责任到人奖惩措施 落地的改进措施 </div>2023-01-08</li><br/>
</ul>