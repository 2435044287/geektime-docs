你好，我是郑晔。

我们书接上文，继续讲程序员小李的故事。这次小李接到一个新的需求，让他开发一个单点登录的服务，经过几天的奋战，他顺利地写完了所有的代码。正好产品经理小王路过他身边，顺便问了他一下。

> 小王：单点登录做得咋样了？  
> 小李：做完了，我给你演示一下。

小李演示了一遍自己做的功能，小王看上去很满意。

> 小王：不错。不过，怎么没有支持验证码？  
> 小李：为什么要做这个？  
> 小王：这不就是登录的一部分吗？  
> 小李：哪里规定要做验证码了？  
> 小王：现在做登录哪有不用验证码的？

我想你已经嗅到了双方谈话的火药味，这个时候如果双方都不能很好地控制自己的情绪，那接下来一场体力的较量可能就一触即发了。

为什么双方会有这么大的分歧呢？其中一个重要的原因是，开始实现这个需求之前，任务双方都没有清晰地定义好边界，没能把需求描述清楚。

## 需求描述的问题

在软件开发中，程序员做什么一般都由需求来定义。我们都知道，需求是软件开发的一个重要组成部分，但你可能并没有仔细想过，不同的需求描述方式，可能会影响我们程序员对需求的理解。

因为信息的传递是会衰减的，你不可能把你理解的信息100%传递给另外一个人，而这中间，如何传递，也就是如何描述将直接决定衰减的比例。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/ed/9a/bbeec5bb.jpg" width="30px"><span>liu</span> 👍（67） 💬（3）<div>程序员的核心职责是如何实现产品功能，怎么实现功能；前提是理解产品功能，需要实现哪些功能。有些项目经理，产品经理与程序员角色混淆。你同他谈功能，他同你谈技术实现，你同他谈技术，他同你谈产品（需要实现哪些功能）</div>2019-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/08/17/e63e50f3.jpg" width="30px"><span>彩色的沙漠</span> 👍（31） 💬（2）<div>老师您好
一个产品经理没有想清楚需求的前提给我们开产品需求讲解会，每次就会造成开发和测试的轮番轰炸产品细节，产品经理的回答就是我下去再想想，第二次再开产品需求会的时候还会遇到新的产品细节，产品经理还会回答我下去再想想。看来这个产品经理就是没有定义好验收标准，只是想好了市场部提给他的需求。
那么问题了
1、“验收标准给出了这个需求最基本的测试用例，它保证了开发人员完成需求最基本的质量”
这个验收标准给的太基本还是会在后期开发中浪费时间，尽量的详尽很考验产品经理的职业素养以及时间成本，如何去衡量这个最基本的验收标准？
2、团队开发中需求变更在所难免的，产品变更需求如何同步给大家最有效，以及需求更变的痕迹如何可追踪。请问老师在团队开发对于这种问题有什么最佳实践，谢谢！</div>2019-01-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/50/39/371c9918.jpg" width="30px"><span>Xunqf</span> 👍（27） 💬（5）<div>就像老师文中提到的，产品只考虑正常逻辑，异常是不做考虑的，然后交付设计，设计也不会出异常页面的UI，开发补充的异常提示信息和异常界面又往往不是产品想要的，往往容易在验收的时候反复修改。而且有些细节问题往往是在做的过程中才发现的，这个时候做一点就去和产品确认一下又非常影响开发效率，老师有什么比较高效的方法吗？</div>2019-01-07</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/b3/40/54894c8f.jpg" width="30px"><span>Geek_fe0336</span> 👍（19） 💬（6）<div>听老师的案例有种感觉案例中产品经理不具备基本的需求方面的知识和技能。听到第四课，得出初步结论，10倍速程序员，最直接的方式是找一个有合格产品经理的团队，从业这么多年有个感觉就是，软件行业的工程师是最不像工程师的工程师。因为好多人不具备基本的工程知识和工程化的技能。甚至不具备软件工程的通识，门槛太低是个最大问题。一方面程序员们自认为是专业人士，另一方面确连基础知识都不愿去学。很难想象一个不懂乐理，不持续练习的乐手上台演奏，一个没上过医学院，没练过大量实习的医生去开刀，但程序员呢。说到底，老师讲的都该是一个自认为专业人士具备的基础知识，基本工作技能，基本沟通能力。</div>2019-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/ab/6f/49e98aab.jpg" width="30px"><span>davidce</span> 👍（17） 💬（1）<div>请作者如果能顺便介绍一下每节课内容相关的国内当前行业现状，就像回复评论中的那样就好了。</div>2019-01-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg" width="30px"><span>Monday</span> 👍（9） 💬（2）<div>项目都快到截止日期了，心里总是没底。因为开发，项目负责人，产品经理，测试工程师。。。都是自己。看完此篇才知道验收标准如此重要。现在的情况是没有明确的验收标准，，，怎么做才是最好？</div>2019-01-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/61/5f/b279daaf.jpg" width="30px"><span>索旭东</span> 👍（8） 💬（1）<div>最好维护的代码，是还未写出的代码</div>2020-03-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/b4/64/f3750751.jpg" width="30px"><span>一直都在</span> 👍（8） 💬（1）<div>说个刚在我身上发生的事儿，我在做一个数据采集页面，产品的设计图上有些选项只有添加没有删除，我当时意识到这个问题，但是没有反馈给产品就直接开始做了。想着需求定义是产品的事儿，我帮他梳理清楚也增加我的工作量，结果是我做完后提交测试的时候告诉我这些功能还要加上，没办法，我需要二次开发，调整我的代码加入新的功能。</div>2019-12-25</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUXWqIBiadT4BYND0k3XwORqkW8j4q0GLyaXylG5ibfNnQaAQ26PQIvd4bp9uFrlp9QhV4YXpVfdzg/132" width="30px"><span>大帅哥</span> 👍（8） 💬（1）<div>产品经理太强势，需求总是列出几个功能点，用户故事和验收标准完全说不清楚，每次需求评审耗费大量时间讨论，结果功能做出来了，又说不是产品经理需要的，由此可见推动制定验收标准是何等重要</div>2019-01-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/54/d6/124e2e93.jpg" width="30px"><span>Calios</span> 👍（6） 💬（1）<div>不禁想到Simon Sinek的ted：How great leaders inspire action. 从why出发，总是从why出发～</div>2020-04-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/bd/ec/cc7abf0b.jpg" width="30px"><span>L</span> 👍（6） 💬（1）<div>突然觉得，这个东西很适合产品看啊。。。</div>2019-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/bc/0d/00424e81.jpg" width="30px"><span>到道可道</span> 👍（5） 💬（1）<div>好像现在作为一个开发，去想产品功能的实现细节及业务逻辑实现，是业内的常态。</div>2019-01-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/1c/cd/8d552516.jpg" width="30px"><span>Gojustforfun</span> 👍（5） 💬（1）<div>今天的内容深有体会，也帮我理清了一些事情——程序员的自信是通过完成一个一个功能&#47;任务／项目逐步建立起来的，每当为了一个功能反复扯皮、返工再加上领导的负面评价，我都对会产生自我怀疑——我怎么总做不对？总达不到要求？我真的很差吗？看完这篇文章心里的别扭感，挫败感减轻许多

现在理性分析一下，我不该承担全部的责任，这里有公司或团队文化、工作流程的问题，按工程师招进来大部分时间却做产品经理的事，美其名曰“全栈”——只要给个功能列表，其他就不用管了。

说实话理想很丰满现实很骨感，如果用这篇文章的内容去反驳领导后果会很惨，因为他的头脑中已经固化了他认为对的流程，再加上他在公司的地位是不容你反驳的

我发现虽然名叫程序员但要扮演多重角色，主角色是工程师，副角色产品经理+QA+运维等等，副角色扮演的不好即便是因你不适合该角色，你扔会被评价为“不好的程序员”

既然找到问题的根源那就对症下药，有意识地锻炼自己扮演副角色的能力，能提高多少算多少

不知老师和其他小伙伴们怎么想^_^</div>2019-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/50/a9/3f8c7418.jpg" width="30px"><span>冰糕不冰</span> 👍（4） 💬（1）<div>产品经理往往考虑不到很多异常情况，因为很多产品没有技术背景。作为项目经理，后续我应该承担起这部分工作的责任。第一划清需求边界，避免天马行空的讨论。第二着重考虑异常流程。第三定义验收标准，然后转交给测试。  最后真心希望作者能给出国内大公司的一个开发流程和一些工具（比如腾讯的tapd就不错），这样能让很多小公司的人员也能学习大公司的先进管理模式。不胜感激。</div>2019-01-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/a3/e0/d8fc9881.jpg" width="30px"><span>逍遥游</span> 👍（3） 💬（1）<div>我们在开卡时候，由开发人员向BA进行需求反讲</div>2022-04-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/de/cf/ef2e0501.jpg" width="30px"><span>奇小易</span> 👍（3） 💬（2）<div># Why



Q：需求不明确有什么后果？

以单独登录这个需求任务为例，每个人对于单独登录需求的理解不同，会导致最终完成时和预期不符，导致加班或返工。



Q：为什么对于需求的理解无法达成共识？

产生这种理解不同的原因是由于信息在传递时一定会缺失，即无法百分百理解另一个人所需要传递的意思。

那么对于需求任务来说，需求描述就是这个信息，不同的需求描述方式，会导致最终理解程度的不同。

# What

Q: 功能列表的需求描述方式以及其优缺点

最传统的需求描述方式是功能列表，即将一个需求拆分成多个小的功能，形成一个功能列表。基于功能点进行开发。

功能列表的方式，比较符合直觉，容易上手。不过缺点很多

1当存在一些功能点依赖另一个功能点时，要推进功能完成需要等待另一个功能点；

2 只有最后所有功能点合在一起时，才能看到最终结果，也只有最终结果对于我们才是有价值的结果；

3 对于需求整体的前因后果不是很了解，导致无法判断其中的一些细节是否合理；



Q: 什么是用户故事

一种需求描述方式，站在用户的角度来描述了一个用户希望得到的功能，关注用户在系统中完成一个动作需要经过怎样的路径。由于它是&quot;故事&quot;，因此需要一个完整的场景，可以讲述出来。



Q: 一个完整的用户故事是怎样的？

一个完整的用户故事包含以下几点内容

1 标题：简要说明该用户故事的主要内容，比如：注册用户使用用户名密码登录。

2 简述：简要介绍这个用户故事的主要内容，一般格式为：作为一个什么角色，要做什么事情，以便达到什么效果。例如：作为一个注册用户，我想要通过用户名密码登录，以便我能使用注册用户才能够使用的服务。

3 详述：详细描述这个用户故事的完整流程，我们会把操作流程、用户界面等信息都放到这里。

比如：用户使用正确用户名和密码，就可以登录成功；如果密码不正确，则登录页面提示&quot;用户名密码不正确&quot;；

以及超出范围的部分，避免发散。

比如：第三方登录不在范围内。

4 验收标准：描述一个正常使用的流程是怎样的，以及各种异常流程系统是如何给出响应的。最终会把这些内容转换成一个个具体的测试用例。来作为验收标准。



Q 如果产品经理使用用户故事，把整个需求描述得清清楚楚，那么我们程序员的价值在哪？

用户故事描述的是业务上的细节，而对于程序员来说，技术上的实现才算核心工作。



Q: 当在扮演不同角色思考问题时，我们的思考模式是不同的。基于这个结果，你会怎么行动？

A:

todo



Q: 如果同时身兼产品和开发的职责，那么为什么建议先做好产品的职责？

A：

因为最好维护的代码是没有写出来的代码。需求不明确，写了都是白搭。



# How



# How good</div>2021-07-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/7a/9c/a4bc748d.jpg" width="30px"><span>Janenesome</span> 👍（2） 💬（1）<div>老师您好，看了之后觉得大多是对产品经理的要求。现实中去倒逼产经进行这些学习和习惯这些工作方式，感觉并不是很容易，因为这些都是反人性的，尤其是地位不对等的情况下。

一个小开发看了之后觉得是很有效率的方式，可是对于怎么在实际中推动表示有点迷茫，亦或是后面的课程有解答？先留个坑看完后面的再回来看</div>2020-10-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/43/e1/b7be5560.jpg" width="30px"><span>sam</span> 👍（2） 💬（2）<div>在我们团队的真实写照，没有验收标准带来两大问题：
1)要开发和测试同学补全产品细节，造成很大的怨气;
2)后期测试阶段，很多需求细节不明确的部分当成bug提给了开发;</div>2020-06-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/87/1e/7f157e6f.jpg" width="30px"><span>狼</span> 👍（2） 💬（1）<div>产品经理没有完整的产品思路，只有一个大概的功能点，项目经理只谈开发功能的必要性 给不了技术支持，烦躁。。</div>2019-04-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg" width="30px"><span>虢國技醬</span> 👍（2） 💬（1）<div>打卡
开始之前就定义好验收标准</div>2019-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/57/1e/8ed4a7cf.jpg" width="30px"><span>Paradise</span> 👍（1） 💬（1）<div>这篇文章其实也侧面说明了一个好的产品经理天花板还是很高的</div>2022-05-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/74/ff/a60f335b.jpg" width="30px"><span>利</span> 👍（1） 💬（1）<div>产品经理在描述需求时，往往是大段文档+图的方式，一些规则都包含在文档中，那么这个验收标准应该怎么写呢？是不是与文档中的描述已经重复了呢？一般一个需求的描述都会很多，一个需求如何拆分用户故事呢？也就是用户故事怎么获取呢？期待老师回复</div>2020-02-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg" width="30px"><span>小伟</span> 👍（1） 💬（1）<div>验收标准是依据什么制定出来的呢？
公司没有产品经理，有敏捷coach，说按BDD来，先让所有人对BRD自由发挥，列出自己理解的测试用例，然后综合所有用例产生验收标准。先不说这些头脑风暴式的用例会不会偏离BRD的初衷(可能很大)，在缺乏足够领域知识甚至常识的前提下产生的用例质量也是不敢期待的。
我的思路是
1.先总结之前产品遇到的坑，以check list的方式落地到BDD中，如模块间集成需要注意哪些点，给用例产生提供一个参考，能避免很多考虑不周的盲点，当然，这也是被动式的
2.尽量通过各种方式提高领域知识，达到一定水平就可主动发现BRD的盲点了，当然，这需要时间和积累
老师对于验收标准的产生有哪些最佳实践呢？</div>2019-03-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/fb/9a/72f7b184.jpg" width="30px"><span>猿工匠</span> 👍（1） 💬（1）<div>在做任何任务和需求之前，先定好验收标准
验收标准包括：正常流程、异常流程
在确定验收标准中，最好用“用户故事”来定义，且站在项目模块的角度来看待需求。
这样在分析需求和“用户故事“中，可以更完整地看问题。</div>2019-03-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/e9/74/36d48480.jpg" width="30px"><span>新博</span> 👍（1） 💬（2）<div>做任何任务和需求的时候，定义好验收标准。在需要角色进行转换的时候，切换相应的思维逻辑去执行任务和需求</div>2019-02-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/54/31/43efe6b9.jpg" width="30px"><span>Geek_x0htzs</span> 👍（1） 💬（1）<div>很遗憾，基本上大多数时候作为研发的我，总是要思考很多的业务细节，然后反馈给产品，或者说跟产品确实是不是我想的这样，再然后是思考技术实现，不得不说太多不合格的产品了。门槛太低导致什么什么人都来做产品了。这就导致我们即是研发也要兼职产品。</div>2019-01-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/82/0d/caab8ba1.jpg" width="30px"><span>孤独的二向箔</span> 👍（1） 💬（1）<div>郑老师有个疑问，我厂没有这种流程，大家都是以交互稿为验收标准，虽然有时候交互会漏一些异常情况，但是这不是这种形式本身的问题，补上就行了。
交互稿还有个好处就是更直观，前后端都可以使用。
最后验收的时候一般不会出现大的偏差，小的偏差通过产品交互视觉运营走查就能解决。

这两种形式有什么优劣吗？还有您的公司前端程序员也是用用户故事来做参考吗？</div>2019-01-23</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/kc8VDD1OcCE55xboqUqTxE7pZVCqDAicqXyFiarw9kvFUqiaU8gMjKRavVBcqAWEoYT8QWiaI6icYtsGpp1IJxicdWug/132" width="30px"><span>Xu</span> 👍（1） 💬（1）<div>请问郑老师，在以往的项目经验中，对测试驱动开发TDD怎么看？从逻辑上，根据已有的DoD或验收list, 是可以先写测试用例的。BDD的定义也可以比较容易的转化为测试用例。这样的流程更贴近于以终为始的概念，只是有些反常规，毕竟程序员的意识里最直接就是写功能。请问在ThoughtWorks 或国内大厂TDD和BDD的使用如何，有没有好的项目实例或一些坑可以避免？</div>2019-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2a/07/fb/77ab318a.jpg" width="30px"><span>！！</span> 👍（0） 💬（1）<div>前后端分离，是否要各自的用户故事？</div>2021-09-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/97/46/fe1f21d8.jpg" width="30px"><span>北风一叶</span> 👍（0） 💬（1）<div>概括下来：以终为始</div>2021-08-25</li><br/>
</ul>