你好，我是邢云阳。

在前两节课中，我们通过高德地图 API，在 GPTs 和 Dify 两个平台上体验了零代码构建 Agent 应用，相信你对产品设计思路已经有了较为清晰的理解。那本节课，我们就扒一扒 Dify 的部分代码，探讨一下其 API Agent 是如何实现的。

由于 Dify 的代码是用 Python 编写的，因此本节课会涉及到一些 Python 内容。对于不熟悉 Python 的同学，倒也不必担心，重点学习套路即可。毕竟现在是 AI 时代，使用 Cursor、通义灵码等工具，可以轻松理解和生成代码。不过我还是建议你抽空学习一下 Python，因为它是目前做 AI 开发的最佳实践。另外，由于本课程是采用的文字形式而不是视频，因此不可能将源代码全部贴在文章中，只能是截取部分重点的代码片段。因此你可以下载一份源代码在本地，对照着文章一起看，效果会更好。

## ReAct 模板

在使用 Dify Agent 的过程中，我们知道其支持 Function Calling 和 ReAct 两种方法。Function Calling 属于大模型的标准化能力，不用太关注。我们可以着重看一下ReAct 方案，看一下其 ReAct 模板与我们前面章节课程中使用的模板有何区别。

进入 Dify 源码根目录，依次进入 api -&gt; core -&gt; agent -&gt; prompt 文件夹，可以看到一个 template.py 的文件。这里面存放的就是 Dify Agent 的 prompt 模板。