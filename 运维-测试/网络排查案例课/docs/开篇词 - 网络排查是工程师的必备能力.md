你好，我是杨胜辉，欢迎和我一起开启这场网络排查之旅。

## 为什么在这个时代，网络排查能力变得越来越重要了？

先和你简单介绍一下我自己，我目前是eBay中国卓越技术中心基础架构部门的运维经理，主要负责eBay全球的流量管理业务，推动Kubernetes在eBay流量管理场景中的落地。

我算是一个基础架构的老兵了，在18年的工作经历中，我实实在在地遇到过太多技术方面的疑难杂症。尤其是最近几年，随着微服务和云计算的不断普及，越来越多的系统从本地的单体服务，变成跨网络的分布式的微服务。那么随之而来，就是数不清的跟网络相关的问题。比如：

- 为什么我的应用在单体应用的时候很正常，拆分成微服务以后却时常超时、报错呢？
- 为什么我的带宽是足够的，但数据传输速度却很慢？
- 为什么我的应用偶尔会卡住，但又不是每次都这样？
- 为什么……

面对这么多问题，我们经常束手无策。有些同学自嘲是优秀的“SRE”（Server Restart Engineer），遇到问题先上“重启大法”，也许也能搞定不少问题。但是呢，根因依然是未知，即使问题暂时消失了，但不知道什么时候，它又会再次到来，然后再次重启……

所有这一切，都让我深深地感到：**我们的工程师，太需要网络排查方面的能力了。**
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg" width="30px"><span>分清云淡</span> 👍（69） 💬（4）<div>https:&#47;&#47;plantegg.github.io&#47;categories&#47;network&#47;  看完这些网络排查案例相信对大家学习这门课程很有热情的 ，雷锋，不用谢</div>2022-01-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/d3/92/71f0243d.jpg" width="30px"><span>01</span> 👍（13） 💬（1）<div>老师你好，我们今天线上遇到一个http 503 的issue，提示service unviable的问题，请求过程是这样的，内网机器通过proxy代理服务器去call另外的内网机器，大概有可能是哪里的问题呢？

proxy server和另外的内网机器我们都没权限查看。。。</div>2022-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f7/3c/834be79a.jpg" width="30px"><span>　x</span> 👍（7） 💬（2）<div>我一般是本机telnet 0.0.0.0 端口和telnet 127.0.0.1 端口.
然后外面 telnet ip 端口, 这样排查问题, 看通不通</div>2022-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg" width="30px"><span>GAC·DU</span> 👍（7） 💬（3）<div>一个线上服务出现网络故障，SRE需要一分钟，而排查需要时间未知，如何选择？</div>2022-01-12</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJbbt3fgbBy6OskfiatMyoGJj9qY9WvrRQibuaYws6UlAiawWKbhl8CCZM1NLB25icszv8XI2fJLMSzZQ/132" width="30px"><span>晴天</span> 👍（6） 💬（2）<div>工作中遇到connect timeout和read timeout，总有一种无助感，希望学完课程能突破</div>2022-01-12</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/pZ5ibu3jOPTfWVtzTeNTiaL2PiabGT2Y2yKd2TNDcZMkIY34T5fhGcSnBjgpkd54Q3S6b3gRW3yYTxZk0QHYB0qnw/132" width="30px"><span>啊树</span> 👍（4） 💬（5）<div>程序猿一枚 请问学习该课程需要先阅读那些书籍来做辅助？</div>2022-01-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/28/5d/ffd0b1ba.jpg" width="30px"><span>Geek_fde833</span> 👍（3） 💬（1）<div>因为看了这篇，才开的会员，加油💪</div>2022-01-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/96/87/e0bab9a5.jpg" width="30px"><span>Horizon_carry</span> 👍（3） 💬（3）<div>打卡学习，大哥，跨境限制抓包看他三次握手里面ttl时间与64的大小，跨境在这里限制了，可以这样理解吗</div>2022-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/18/4c/e12f3b41.jpg" width="30px"><span>姜姜</span> 👍（3） 💬（2）<div>课程有没有对容器网络问题排查的讲解？</div>2022-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/24/09/09/52bfa0e1.jpg" width="30px"><span>Ricky was a young boy</span> 👍（2） 💬（1）<div>打卡第一天，刚开的会员</div>2022-03-18</li><br/><li><img src="" width="30px"><span>流水</span> 👍（2） 💬（1）<div>
老师，您好。
在实际的生产环境排查过程中，往往需要等待问题复现，尝试部署抓包工具进行守株待兔，这里又可能对环境造成额外负担或可能引发次生故障，同时因对问题没有清晰的特征判断，也不能在测试环境进行准确复现，请问有没有什么好思路或实践？</div>2022-02-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/34/cf/0a316b48.jpg" width="30px"><span>蝴蝶</span> 👍（1） 💬（1）<div>那什么，22年除夕打卡</div>2023-01-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/63/1f/f049597d.jpg" width="30px"><span>Bradly</span> 👍（1） 💬（1）<div>希望学了这门课程后可以解决工作中遇到的奇奇怪怪的网络问题,摆脱SRE的困境。</div>2022-04-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/82/c3/53fdf720.jpg" width="30px"><span>lmzf</span> 👍（1） 💬（1）<div>老师，最近我们公司的工位台式机经常偶尔不能上网，一会又恢复，上次找个人协助，说是因为有人使用了某个品牌苹果转接头的原因，但是禁掉转接头的话还是会出现偶尔断网的情况，请问有什么排查思路吗？感谢</div>2022-04-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/cf/dc/f119f657.jpg" width="30px"><span>0ck0</span> 👍（1） 💬（1）<div>老师博客地址是啥？
</div>2022-03-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2c/45/dc/987a71d8.jpg" width="30px"><span>高恒亮</span> 👍（1） 💬（1）<div>立个flag,2022做到每日打卡，每日复盘，加油！</div>2022-01-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/57/13/d8eca647.jpg" width="30px"><span>花一个无所</span> 👍（1） 💬（1）<div>终于有一门这样的课了</div>2022-01-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/6f/0d/7dc0b289.jpg" width="30px"><span>记事本</span> 👍（1） 💬（1）<div>排查问题与解决问题，也是体现价值的时候呀</div>2022-01-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg" width="30px"><span>includestdio.h</span> 👍（1） 💬（1）<div>打卡，按时学习，按时吃饭～</div>2022-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/3a/94/d2/791d0f5e.jpg" width="30px"><span>oldhen</span> 👍（0） 💬（1）<div>请问课程中设计到的那些数据分析包在哪里下载？</div>2024-03-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2c/86/8f/7ac1dae0.jpg" width="30px"><span>Quincy</span> 👍（0） 💬（1）<div>感谢老师。从今天开始，我要把这门课学好。</div>2023-10-25</li><br/><li><img src="" width="30px"><span>Geek_85d326</span> 👍（0） 💬（1）<div>老师  你好！这门课的微信群我可以从哪里加，没找到？</div>2023-05-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/2c/a7/7f702c49.jpg" width="30px"><span>liy</span> 👍（0） 💬（1）<div>相见恨晚！</div>2023-04-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/7b/ae/66ae403d.jpg" width="30px"><span>熊猫</span> 👍（0） 💬（2）<div>老师，请教一个问题，云服务a机器可以连接到idc b机器，idc b 机器可以ping通云服务a机器，但telnet不通和连接不了。idc同网段的其他机器可以正常连接云服务a机器。请问下老师，这种问题怎么排查呀</div>2023-01-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/fd/20/2761ef0e.jpg" width="30px"><span>cheriston</span> 👍（0） 💬（1）<div>现在DBA运维都要求有这方面的要求了</div>2022-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/fd/20/2761ef0e.jpg" width="30px"><span>cheriston</span> 👍（0） 💬（1）<div>好期待老师的课程</div>2022-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/93/c6/a5a888d4.jpg" width="30px"><span>吴松文</span> 👍（0） 💬（1）<div>老师，我遇到一个很奇怪的问题，物联网终端设备通过sim卡，用curl请求服务后端，返回CURLE_SSL_CONNECT_ERROR,       &#47;* 35 - wrong when connecting with SSL *&#47;。但我用curl指令在linux、windonws去请求都是成功的。nginx的访问日志里面看不到设备端的请求信息。后来尝试放开80端口访问，还是报35的错误码</div>2022-09-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/cb/52/d3c95e6c.jpg" width="30px"><span>阿兵</span> 👍（0） 💬（1）<div>学习打卡：期待能提升我的网络排查能力。</div>2022-09-01</li><br/><li><img src="" width="30px"><span>Geek_8b9b2d</span> 👍（0） 💬（0）<div>这个课程太需要了，运维过程中经常遇到网络棘手问题，感谢老师，感谢极客时间</div>2022-08-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg" width="30px"><span>walker</span> 👍（0） 💬（1）<div>很多时候网络问题给出的提示都差不多，但是真正问题原因都不一样，比较难以准确定位</div>2022-07-23</li><br/>
</ul>