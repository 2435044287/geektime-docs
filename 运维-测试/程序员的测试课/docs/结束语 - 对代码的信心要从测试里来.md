你好，我是郑晔！

《程序员的测试课》到这里已经接近尾声了，经过整个专栏的学习，相信你对“程序员该如何做测试”这件事已经有了一个更加完整的认识。这一讲我们不去深入技术细节，我想先从一本书和你聊起。

## 无知之错和无能之错

这本书叫《清单革命》，作者是阿图·葛文德，他是一名医生，曾是白宫最年轻的健康政策顾问。在书的开篇作者提到，人类的错误可以分为两大类型。第一类是“无知之错”，我们犯错是因为没有掌握相关知识。第二类是“无能之错”，我们犯错并非因为没有掌握相关知识，而是因为没有正确使用这些知识。无知之错，可以原谅，无能之错，不可原谅。

在作者看来，目前这个世界上还有很多疾病没有很好的治疗方案，这个算是无知之错。但在真实世界中，很多治疗的失败却是因为医疗团队没有做好该做的事，那就属于无能之错了。

这个分类方式给了我很大的震撼，让我一下子想明白很多事。**有了分类，针对不同的错误，我们可以采用不同的修正方式。**无知之错，因为欠缺的是知识，所以如果要修正这类错误，需要补充相关的知识。而无能之错并非知识的欠缺，所以，要修正这类错误，需要改进的是工作的方法和流程。

身为程序员，我们是幸运的，我们生活在一个对软件有巨大需求的时代。但实事求是地说，软件也是各种问题的高发地带，我们在其中不停犯着各种错误，很多甚至是低级错误。
<div><strong>精选留言（17）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/1c/cd/8d552516.jpg" width="30px"><span>Gojustforfun</span> 👍（20） 💬（3）<div>我已为老师想好下一个专栏的名称《TDD项目实战》，很多人一提到TDD第一感觉就是听过、没见过。耗子叔早年写过《TDD并不是看上去的那么美》https:&#47;&#47;coolshell.cn&#47;articles&#47;3649.html，我对TDD还是很感兴趣的，一直自己摸索感觉还是不得其法。老师在极客时间的其实为TDD做了不少铺垫，是时候综合运用一下来一个中型的实践项目，把ThoughtWorks的TDD实战经验在实际项目中展示一下。

以下是我自我摸索出的想要玩转TDD需要的能力&#47;技能：
1.  需求分解 《10X程序员工作法》 -- 解决测试用例从哪里来的问题？
2. 设计能力 《软件设计之美》      -- 设计&#47;抽象&#47;建模让产品代码更具可测试性，同时完成第一创造
3. 测试能力 《程序员的测试课》  --- 扬长避短，写出好的测试代码，别让测试成为负资产
4. 编程能力                              --- 熟练掌握所用语言的核心语法、常用标准库、第三方库等（含数据结构与算法），能写出符合该语言规范的代码，判断标准：在TDD循环中尽量不卡壳、少用Google减少打断循环的次数。
5. 转换能力 -- TDD循环是在两个思维层次来回跳转，写测试时抽象需求What，写代码时具体细节How
6. 重构能力  《代码之丑》            -- 识别坏味道，运用恰当重构手法提高代码质量
7. 工具能力                               -- 熟练操作Git、IDE、及其他自动化工具，使其能跟上TDD的节奏
    （比如，编写测试时，产品代码还没实现但写出其接口后可以利用IDE快捷键自动生成产品代码的框架。重构时，运用IDE提供的重构快捷键，快速修改名称、抽取方法、内联函数等。完成几次TDD循环后可以用Git提交，设置“游戏存档”随时重新开始，如果一切顺利合并多个提交为一个然后提交）
 
最后就是各种场景实战，小型场景练习并熟练上述技能，中型场景强化上述技能的同时，培养在工期压力下完成任务的能力，大型场景就是在实际工作中实践。

我没把TDD当银弹，希望能达到“对于同一个业务功能，大多数人用X天完成产品代码然后提测，我同样用X天完成产品代码和测试代码然后提测”的标准就可以了。希望这种工作方式能给我带来更多自信（对代码也对自己）。谢谢！</div>2021-09-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/f6/27/c27599ae.jpg" width="30px"><span>术子米德</span> 👍（3） 💬（1）<div>🤔☕️🤔☕️🤔
我个人写代码近20年
不肯写测试，第一原因是无知，以为写出代码就可以，第二原因是懒惰，因为无知和自大，发现既然配置了测试，那就毫无顾忌把测试抛出去，代价就是数年下来楞是把自己逼成一个修简单问题引起的难查问题的加班狗
最根本的原因，还是自己缺乏追求，对自己所从事的事业的热爱感
上述就是我自己的经历，在最近5年我越来越清楚自己的问题，也越来越努力去克服自己的问题，寻找意义感和热爱点，只有自己能点亮自性之光</div>2021-09-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/f3/06/8da1bf0c.jpg" width="30px"><span>Fredo</span> 👍（2） 💬（1）<div>郑老师的专栏文章语言很质朴，优秀的专栏读来酣畅淋漓，受益很多，接下来就该要自己多刻意练习了，加油！郑老师 再见👋🏻</div>2021-09-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/f3/3f/160baa71.jpg" width="30px"><span>科富</span> 👍（1） 💬（2）<div>“不愿意相信”，说到重点了，相信就意味着要做出改变，对自己下手是需要很大勇气的。
在一个进度优先的氛围下，完成功能，成绩是显而易见的。软件质量如果没有一个量化的指标，做的多也未必能被看到个认可</div>2021-11-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/29/bd/6c/a988846d.jpg" width="30px"><span>asusual</span> 👍（1） 💬（1）<div>期待郑大新专栏哈哈哈哈</div>2021-09-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（1）<div>关注公众号又可以拉进与老师的距离了</div>2022-06-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/6c/b5/32374f93.jpg" width="30px"><span>可怜大灰狼</span> 👍（0） 💬（1）<div>感谢老师，我个人觉得结束语比之前章节写的好，更深入人心。无知之错，无能之错，受教了</div>2022-03-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/7c/25/70134099.jpg" width="30px"><span>许凯</span> 👍（0） 💬（1）<div>老师能出一个讲透权限设计的课程吗？</div>2022-03-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/12/6c/0f0cf9eb.jpg" width="30px"><span>树懒先生</span> 👍（0） 💬（1）<div>四门课程终于学完了。听着郑老师侃侃而谈，不胜感慨，TWer出来的程序员就是能说啊。从量，这个角度来看，这门课无疑是最少的；而从实际收获（有点唯心），又无疑是最满的。P.S. 一路跟下来的学生，能不能给点附加优惠，比如郑老师的联系方式啥的。</div>2021-09-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg" width="30px"><span>sylan215</span> 👍（2） 💬（0）<div>无知之错和无能之错这个分类太真实了，不过很多时候，我们没法分清自己是无知还是无能，比如老师举例说的程序员对于质量内建的理解。

内建质量的意义我理解大家都知道，但现实情况是，很多开发被进度逼着往前走，恨不得每写完一个函数就提测给测试，以表示自己「提测」了，根本顾不上自测（作为一个测试，还在给开发找借口，感觉有点别扭），久而久之，就懈怠了。

我也想过从测试侧通过流程，强制要求自测，不过这样就变成解决「无能之错」了，所以还是要让团队都意识到内建质量的重要性，特别是让项目负责人接受，通过解决「无知之错」来促成这件事。</div>2021-09-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg" width="30px"><span>aoe</span> 👍（1） 💬（0）<div>从此踏入编写单元测试的门槛。大多数程序员不写单元测试最重要的原因是：1、不影响自己收入；2、没看到影响公司收入。</div>2021-11-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/97/46/fe1f21d8.jpg" width="30px"><span>北风一叶</span> 👍（1） 💬（0）<div>专栏看完了，之后就是看完了，然后就没有然后了</div>2021-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/fd/58/1af629c7.jpg" width="30px"><span>6点无痛早起学习的和尚</span> 👍（0） 💬（0）<div>2023年05月02日08:13:23 读完了是第 703 位，这是一个可以立马实践的专栏，最近正好有个新项目，先实践起来，实践过程中遇到问题再回过头再来看这个内容！！循环循环再循环</div>2023-05-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/ef/58/d05ec302.jpg" width="30px"><span>Frode</span> 👍（0） 💬（0）<div>cool，一口气看完！！最近公司补单元测试和TDD，从20%补到80%，再次看郑大文章收获颇丰啊！！目标向着100%前进。</div>2022-11-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/e9/a6/69907ec1.jpg" width="30px"><span>尔霍</span> 👍（0） 💬（0）<div>好的理由很简单，乱的系统千奇百怪</div>2022-07-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/3b/36/2d61e080.jpg" width="30px"><span>行者</span> 👍（0） 💬（0）<div>谢谢分享，接下来就是实践了。</div>2022-01-23</li><br/><li><img src="" width="30px"><span>Geek_f6a895</span> 👍（0） 💬（0）<div>写测试。</div>2021-12-01</li><br/>
</ul>