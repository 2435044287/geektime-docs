你好，我是何为舟。

上一讲，我们学习了黄金法则的三部分核心内容：认证、授权、审计。它们描述了用户在使用应用的各个环节，我们需要采取的安全策略。

在掌握了黄金法则之后，你就能以在安全发展规划上的宏观能力，赢得面试官的认可。接下来，他想考验一下你对安全具体知识的理解，以此来判断你能否将安全发展落地。于是，他问了一个非常基础的问题：你懂加解密吗？

可以说，密码学是“黄金法则”的基础技术支撑。失去了密码学的保护，任何认证、授权、审计机制都是“可笑”的鸡肋。

在实际的生活工作中经常会有这样的场景发生：多个用户共用一个Wi-Fi来上网、共用一个服务器来跑任务；多个进程共用一个数据库来完成数据存储。在这些场景中，多方交互都通过一个共同的通道来进行，那我们该如何保障其中内容的CIA呢？这就需要用到各种加密技术了。今天，我们就一起来学习密码学相关的知识。

首先，我先来普及一个语文知识。密钥中的钥，发音为yuè，不是yào。虽然通常情况下，你按正常发音读的话，别人都会听成“蜜月”。但是，我们还是要用正确、专业的发音。

接下来，我来介绍一些经典的密码学算法：对称加密算法、非对称加密算法和散列算法。这些算法的具体实现不是咱们课程的重点，而且本身的过程也非常复杂。在安全这块内容里，你只需要明确了解这些算法的概念及其优缺点，就足够你去选取合适的加密算法了。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/12/41/f3/8bca4aba.jpg" width="30px"><span>普通熊猫 ଘ(੭ˊ꒳​ˋ)੭✧</span> 👍（37） 💬（1）<div>AES，你值得拥有，A代表AES-CTR，E代表ECC，S代表SHA256 加盐。

匿了</div>2020-01-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/75/69/791d0f5e.jpg" width="30px"><span>rocedu</span> 👍（21） 💬（5）<div>密钥的发音问题，依据在哪？</div>2019-12-10</li><br/><li><img src="" width="30px"><span>Geek_f7f72f</span> 👍（20） 💬（2）<div>sha3，blake2不介绍下吗，相比所谓的国密，应用范围更广吧</div>2019-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/01/b6/e2184e3c.jpg" width="30px"><span>Vokey</span> 👍（15） 💬（2）<div>《现代汉语词典（第7版）》：

【密钥】mìyuè （口语中多读mìyào）</div>2019-12-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg" width="30px"><span>return</span> 👍（15） 💬（2）<div>老师 请教一下：

唯一性（不存在两个不同的消息，能生成同样的摘要）。

我理解 散列算法做不到这一点吧， 消息是任意的 是个无限集，但是散列值 是固定长度，必然是有限的。 无限映射有限 肯定会有不同消息生成相同摘要吧。</div>2019-12-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/6c/e9/072b33b9.jpg" width="30px"><span>splm</span> 👍（12） 💬（3）<div>先对账号密码md5，然后加盐；那二次进入的时候，账号密码没变，但盐值变了，又是怎么匹配的呢？</div>2020-01-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/36/0b/8a7d0670.jpg" width="30px"><span>张望</span> 👍（7） 💬（1）<div>建议程序员们也多关注国家法律法规要求，我国密码法马上正式实施了，其实对于加密算法选用就有了明确的法律要求，没有影响力的小软件还好说，做大了的软件一定会被监管到的，到时再更换全套加密算法成本也会很高的。</div>2019-12-14</li><br/><li><img src="" width="30px"><span>Geek_f7f72f</span> 👍（7） 💬（1）<div>TLS很早就弃用了IDEA，标记为不安全，是因为理论上的缺陷，还是其他原因？</div>2019-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg" width="30px"><span>小老鼠</span> 👍（5） 💬（4）<div>HTTPS是对称还是非对称？盐值放在哪儿比较安全？</div>2019-12-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg" width="30px"><span>stg609</span> 👍（4） 💬（2）<div>基于https的前提下，前端加密真的有必要吗？
https已经防止了中间人攻击，前端如果真被破解或被植入恶意代码，黑客完全可以拿到加密前的明文。我觉得前端做加密解决不了问题，反而此地无银三百两。</div>2020-05-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e6/92/db9a2fcf.jpg" width="30px"><span>鸵鸟</span> 👍（3） 💬（2）<div>非对称加密推荐ECC的原因是什么呢？当前在手机PC的系统安全这些业务上，苹果高通都是使用的RSA，而国内一线手机厂商开始在布局国密SM2同时支持RSA，请问ECC的优势在哪里呢？</div>2019-12-19</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIicr82CnrdEjibibAvyeKRQHszSzIAqoCWxN0kqC442XcjEae6S9j6NDtKLpg4Da4CUQQeUFUicWqiaDw/132" width="30px"><span>有学识的兔子</span> 👍（3） 💬（3）<div>国密算法的价值在哪里呢？ 从描述来看还是参考ecc aes等算法，但性能还不确定。既然已经有公开的高可用算法，为什么不用或者参与该算法的研究中，进一步提升这类知名加密算法呢</div>2019-12-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg" width="30px"><span>麋鹿在泛舟</span> 👍（3） 💬（1）<div>请问如何保证对称秘钥在非可信环境中的安全传输，是不是只能只能使用非对称算法先加密才可以，有其他方案么</div>2019-12-12</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/LalJD9ruYQI5zVM1GOCe4PjunIbbeeMiacFHC4TAj0DBVeialKt3vRCLs9dxn1vYXvfp8pgcyaeEQkh1nde1JoBQ/132" width="30px"><span>jun</span> 👍（2） 💬（1）<div>何老师您好！我小白一个，有些问题不了解。 比如：非对称加密，公钥是公开的，那么黑客如果获取到公钥也就可以解密通过私钥加密的内容，这样一样会消息泄露吧。 另外：公钥加密私钥解密，以及私钥加密公钥解密其中原理，不知后面内容是否有讲</div>2020-04-20</li><br/><li><img src="" width="30px"><span>Geek_f7f72f</span> 👍（2） 💬（1）<div>评论里有提到Bcrypt, 它目前的安全性如何，有没有更好的替代?</div>2019-12-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/a6/9b/20b9fce3.jpg" width="30px"><span>攻城狮Ra</span> 👍（2） 💬（1）<div>我们常见的破解软件用的密钥，是不是SHA256加盐，盗版系统又是怎么一回事呢</div>2019-12-11</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/MlmSR4YXUfrNlZdMv7bv1ic64HaxxVKcVtaxjzhXCvNC4XByICCmYUTprhOESzIV8p59N6DnSJ7HywfvGr5nicgA/132" width="30px"><span>mz</span> 👍（2） 💬（2）<div>请问老师，类似 PHP 这种通常数据库的信息都是写在配置文件中，这个有没有啥安全的方式呢？</div>2019-12-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg" width="30px"><span>吴小智</span> 👍（1） 💬（1）<div>老师能介绍一下 KMS 吗？看介绍说，可以用 KMS 来存储密钥，但是一直不太理解是如何做到安全的。</div>2020-04-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/06/0b/7acef7e3.jpg" width="30px"><span>小幺鸡</span> 👍（1） 💬（1）<div>没太理解非对称加密RSA秘钥生成速度慢？</div>2020-04-11</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL1BLgfPicBbSuXUK5uaEdQ76j2icNaPvicJcRrsxpLOjyuiczpD8efxoKrLEiaHs4At4loauOTLWOHQmg/132" width="30px"><span>Geek_f4f0d4</span> 👍（1） 💬（1）<div>老师，你好，如果使用https协议，用户在密码输入时，是否还需要在前端（通过JS）进行散列加密？</div>2020-02-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/a6/04/f985881a.jpg" width="30px"><span>Montagne</span> 👍（1） 💬（1）<div>网络传输不是需要序列化吗？传输的是二进制，同时根据编码不同，二进制也不一样，网络劫持后怎么能知道传输的明文呢？</div>2020-02-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/38/69/864569a4.jpg" width="30px"><span>devil</span> 👍（1） 💬（1）<div>为什么”盐“可以公开？得到了公开的”盐“，原本的彩虹表加盐转换一下不就得到了新的彩虹表，加过盐的密码散列值不是一样可以通过查表得到？</div>2020-01-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/10/53/2230bf9d.jpg" width="30px"><span>王蒙</span> 👍（1） 💬（1）<div>请问如何防止session劫持？项目通过session保存用户信息，sessionid存在客户端浏览器cookie里，通过抓包很容易抓到sessionid，拿到sessiondid，就可以随意操作受害用户，有没有比较好的解决方案</div>2019-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg" width="30px"><span>eason2017</span> 👍（1） 💬（2）<div>老师好，请问两段用相同密钥做计算，然后，后端做计算后的值比较是否相同。这种算作是对称还是非对称加密呀</div>2019-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ea/1e/eaa88071.jpg" width="30px"><span>降龙</span> 👍（0） 💬（2）<div>appsecret 保存在前端不安全，怎么解决</div>2020-05-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/cb/d1/6aceeb79.jpg" width="30px"><span>吕志勇</span> 👍（0） 💬（1）<div>谢谢老师，真是受益非线，还发现留言区也好多高人</div>2020-05-20</li><br/><li><img src="" width="30px"><span>suke</span> 👍（0） 💬（1）<div>老师，现在一般开放平台使用的接口签名鉴权，应该是属于对称加密吧，例如s3的对象存储的接口鉴权</div>2020-03-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c2/e3/df7447ff.jpg" width="30px"><span>008</span> 👍（0） 💬（1）<div>传输时通过对称或非对称加密，到后端解密到明文密码后通过账号拿到对应盐，明文加盐后进行散列计算再跟存储的密码进行校验，是这么个流程吗？
那解密出明文密码是不是存在风险？还是流程不对？

我们现在都是单纯在前端进行MD5加密后请求登录，因为采用了WCF通信所以就依赖通信通道安全来保障不被抓包泄漏密码。</div>2020-03-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/64/7e/ea984339.jpg" width="30px"><span>Nicholas</span> 👍（0） 💬（0）<div>使用散列算法时，加的盐能不公开最好还是不公开吧，现在的高性能计算机，弄一个top100、1000之类的弱密码彩虹表出来，还是简简单单的吧。</div>2020-02-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/15/02/66f65388.jpg" width="30px"><span>雷霹雳的爸爸</span> 👍（0） 💬（1）<div>有一些疑问看留言区里面的讨论大多已经得解，还剩一个想问的是，一看到AES，就不得不想到对称加密的密钥保密传递的问题，这个属于哪类主题？后面是否有课程来讲？</div>2020-01-08</li><br/>
</ul>