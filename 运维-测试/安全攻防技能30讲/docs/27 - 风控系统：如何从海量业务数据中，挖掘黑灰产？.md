你好，我是何为舟。

在上一讲中，我们讲了如何通过安全的产品方案，提升黑产攻击业务的资源成本，降低应用被攻击的风险。当然，仅靠产品方案是没办法完全抵御黑产的。因为在产品方案中，我们还需要对用户体验进行关注。

比如说，为了拦截黑产盗取他人账号登录，或批量登录自有账号的行为，我们的产品方案可能是，通过加入短信验证、人脸验证和滑块验证来提高登录的门槛。当你在登录一款应用的时候，如果需要进行两次甚至是三次的验证操作，那么，这种糟糕的体验感很有可能驱使你放弃使用这款应用。

为了解决这个问题，在业务安全中，我们会采取折中的方案：如果识别到一次登录行为是异常操作，那么就弹出多次验证；如果识别是正常操作，就让其用简单的用户名密码登录即可。

对于一款热门的应用来说，一天可能要面临上亿次的登录行为。这其中有正常用户的登录行为，也有黑产的登录行为，我们应该如何从海量的登录数据中准确地判定它们呢？这就是IPDRR中的检测，也就是我们常说的风控系统需要完成的事情。

那么风控系统究竟是如何识别黑产的呢？今天，我们就一起来探讨一下。

## 如何理解风控系统？

简单来说，风控系统就是从业务数据中挖掘出黑产行为的数据分析系统。

我们可以通过对比产品方案来深入理解风控系统。
<div><strong>精选留言（8）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/8d/cd/b6bdc1b2.jpg" width="30px"><span>Jessica</span> 👍（6） 💬（1）<div>老师，您好！我今年刚好也在学习风控这个业务领域，想知道目前开源的风控系统除了nebula，还有哪些呢？想去体验学习一下。</div>2020-02-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg" width="30px"><span>leslie</span> 👍（2） 💬（1）<div>老师在文中提及&quot;风控系统&quot;调研:老师对于这块的咨询获取是通过之前的分享的&quot;个人成长：学习安全，哪些资源我必须要知道？&quot;中的一些资源去获取相关方式方法还是？
部分系统目前我后面准备找寻部分相关的风控系统，然后利用linux的邮件系统把相关信息直接以邮件方式发送到个人邮箱；人的实时监控在某些行业是做不到的，通过系统去实现。
我的工作主要以数据系统和系统运维为主：本来确实有计划增加监控报警实现，不过听完老师今天的课程觉得应风控系统去实现监控可能是个不错的选择，故而这方面在开源的调研老师有没有什么相对好的寻找方式方向可以分享一下？
谢谢老师今天的分享：让我又多了一件事，原本只是想做监控报警的，现在直接升级去找寻相关风控系统了。</div>2020-02-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ed/3f/e1c112ff.jpg" width="30px"><span></span> 👍（0） 💬（1）<div>请问老师 规则和策略在风控系统里是相同的概念吗，还有就是准实时风控设计相对于实时风控设计，如何让业务方及时知会</div>2021-01-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg" width="30px"><span>吴小智</span> 👍（0） 💬（1）<div>规则具体到代码层面，是怎么实现的呢？老师能举个小例子吗？</div>2020-05-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg" width="30px"><span>吴小智</span> 👍（0） 💬（1）<div>没接触过风控系统，感觉好高大尚。想问老师，风控系统跟业务系统，有什么区别吗？在技术实现上。</div>2020-05-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/01/d7/f835081c.jpg" width="30px"><span>bin的技术小屋</span> 👍（18） 💬（0）<div>在风控系统建设这方面，老师提到的内容我太有体会了，尤其讲到规则引擎的重点规则的管理上，我的系统建设路径基本就是老师讲的，我先是drools搞了一套规则引擎，然后感觉特别笨重，尤其是在规则的管理上，然后又调研使用了drools提供的workbench，感觉在规则管理配置上也不是很好用，后来自己分析我们的业务特点，我们的风控的业务需求其实就是需要一套能够动态更新规则的规则系统，所以我又用脚本语言groovy重新设计了规则引擎的执行部分，然后开发了规则管理界面，用Qlexpress坐了规则界面里的决策因子和规则条件到规则脚本的转换，就是像老师说的那样，在规则引擎执行的外围根据自己的业务需求灵活轻量地构建了规则管理体系。规则管理体系的建设才是规则引擎最重要的部分，起初我设计规则引擎的时候着重点放在了规则的执行上导致后边又折腾了以规则管理为重点的一版</div>2020-02-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/24/26/c9/cd8ab3f4.jpg" width="30px"><span>TOMMY</span> 👍（1） 💬（0）<div>老师你好，听了你的课受益匪浅。我稍微提一个问题，倒数第二张图片：从业务数据到判定结果的流程图里三个模块（Redis、Flink、Hive）写的都是实时，我理解应该是实时、实时、离线？Hive应该做不到实时吧？</div>2021-03-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/21/ad/9b/c84b436e.jpg" width="30px"><span>相见甚欢</span> 👍（0） 💬（1）<div>风控需要收取大量的用户信息，这和用户的隐私保护是不是存在冲突？</div>2021-02-24</li><br/>
</ul>