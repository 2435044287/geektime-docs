你好，我是尉刚强。这节课，我们来讲讲如何利用Pipeline来实现更好的性能测试效果。

如果你用过开源数据库MongoDB，那你可能会遇到或者是听说过一个比较典型的性能问题，也就是**N+1性能问题**。

这个问题描述是：本来业务实现中需要查询N条数据项，因此最佳的性能实现方式，当然是通过1条查询语句返回所有数据。但是，如果编码人员对MongoDB客户端的API接口不太熟悉，或者是编码过程中不小心，都有可能导致最后实现的查询代码，执行了N+1次数据库查询请求，从而造成性能浪费。而如果N的数字比较大，可能还会对软件性能造成更严重的影响。

那么针对这类性能问题，有没有什么好的解决办法呢？

当然是有的，我们可以**把组件或者微服务级的性能测试集成到Pipeline（流水线）上**，让它成为CI（持续集成）中的一部分，就可以很好地解决这类问题。

而至于具体的原因，今天这节课我就会先带你一起探究下。然后，我还会针对不同种类的性能测试，给你分享一些实用的集成到Pipeline中的策略和思路。你可以根据今天学习的内容，将自己产品中的一些关键性能测试也集成到Pipeline上，来帮助团队更早地发现性能问题，从而提升研发效率。

好，下面我们就先来了解下Pipeline的工作原理，看看为什么可以把性能测试集成到Pipeline上。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/55/77/f87f5fc1.jpg" width="30px"><span>brqi</span> 👍（0） 💬（1）<div>可以做分布式性能测试，使用将k8s集群集成到ci&#47;cd里面，可轻松构建集群化性能测试环境。</div>2022-02-22</li><br/>
</ul>