你好，我是尉刚强。

一提起软件系统中的性能问题，可能你首先会想到的是CPU使用率过高，或是内存占用率太大，导致程序执行速度变慢，然后关注点只停留在软件实现层面的性能调优。

实际上，这种以最小化资源占用为导向的性能优化，它的核心目标是**降低成本**。但对于产品而言，最关键的其实是客户视角所关注的业务性能，比如用户的平均响应时延、99%的用户响应时延分布等，而**这类性能优化的核心目标是提升用户体验，提升产品的行业竞争力**。

可是问题在于，在互联网服务领域，从客户视角去定位分析业务的性能问题，会有一定的挑战，主要原因有两点：

- 首先，针对一些存在业务性能问题的场景，其系统内的服务或组件，并不一定处于饱和状态，所以你不能直接从系统资源级监控中识别出问题；
- 其次，如果只是个别服务或组件处于饱和状态，往往也可以通过弹性扩展来更快地提升性能体验，所以这种也并不是最棘手的性能问题。

我们再来看看嵌入式领域，就拿无线通信领域来说，它也存在很多业务性能优化非常苛刻的场景，比如说FTP下载速率优化、速度平稳没有毛刺优化等。

那么在这类系统的实现过程中，导致出现业务性能问题的原因会更多更复杂，其问题可能发生在链路上任何一个网元设备内，或具体设备内的任何一个软件组件或硬件单元上。因此，定位分析业务层性能问题的挑战会更大。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/be/1e/94886200.jpg" width="30px"><span>小鱼儿吐泡泡</span> 👍（2） 💬（0）<div>如果业务中经常出现数据库查询时间比较长的情况，你一般都会怎么分析定位呢？
1. 查询 DB 当时负载情况，是否存在慢 sql； 慢 sql 有哪些；DB 锁等待情况
2. 通过第一步得慢 sql； 和业务反馈涉及得响应慢，进行印证； 若有则进行业务代码分析；</div>2021-08-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/4d/d3/67bdcca9.jpg" width="30px"><span>林铭铭</span> 👍（1） 💬（0）<div>由外到内，分层定位问题。</div>2021-08-19</li><br/>
</ul>