你好，我是尉刚强。今天这节课，我们会从系统监控的角度，来聊聊如何有效提升软件性能。

在前面的课程中，我介绍的并行设计、缓存设计、IO设计等设计方法，实际上都只是从软件设计架构的维度去优化软件性能。但软件的生命周期一般是比较长的，伴随着新业务需求的不断演进，你还需要持续不断地对软件系统进行调优，才能保证软件性能长期具备竞争力。而要对一个软件系统做持续的性能调优，则是需要建立在对它进行观测数据的基础上。

那么今天我们要学习的**系统可监控设计，就是有针对性地设计系统应该对外提供哪些观测数据，以及如何实现这些测量数据的获取过程。**

我们都知道，在软件系统中，打印日志、统计信息等都属于观测数据，但是对于一个高性能的软件系统而言，需要提供的观测手段可远远不止这些。事实上，对于高性能软件系统的可监控设计来说，我们面临的**最大挑战**就是，**如何能够在获取最有效的观测数据的前提下，又能尽量减少对正常业务流程所产生的额外开销。**

既然如此，有没有什么有效的手段可以帮助我们解决这个难题呢？这就是我今天要给你介绍的eBPF技术了。我认为，它是一项能够为软件系统的可监控设计与实现，带来巨大改变的技术。至于原因，我在课程中就会给你揭晓答案。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg" width="30px"><span>麋鹿在泛舟</span> 👍（5） 💬（0）<div>ebpf应该属于性能优化的大杀器
但是实际的性能优化倒是很少用到，一则对于一个原来没有适配过dtrace的软件来说，插入日志、写监控脚本本身就是高成本，需要去学习ebpf。
另外一点，就算不依赖于ebpf的统计，通过perf工具搭配火焰图 + 堆栈信息，大多数性能瓶颈也是可以分析出来的，而这些基础工具的学习和实施成本是很低的。</div>2022-01-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/ff/d0/402be1e9.jpg" width="30px"><span>VIC</span> 👍（0） 💬（0）<div>java怎么玩ebpf</div>2023-08-22</li><br/>
</ul>