在上一篇文章中, 我和你一起利用开源代码平台GitLab和代码静态检查平台SonarQube实现了代码管理平台的需求。那么，我今天这篇文章的目的，就是和你一起动手基于Jenkins搭建集成与编译相关的系统。

## Jenkins的安装与配置

Jenkins这个开源项目，提供的是一种易于使用的持续集成系统，将开发者从繁杂的集成工作中解脱了出来，使得他们可以专注于更重要的业务逻辑实现。同时，Jenkins还能实时监控集成环境中存在的错误，提供详细的日志文件和提醒功能，并以图表的形式形象地展示项目构建的趋势和稳定性。

因此，在携程，我们选择Jenkins作为了代码构建平台。而为了用户体验的一致性，以及交付的标准化，携程针对Java、.net等用到的主要语言，为开发人员封装了对于Jenkins的所有操作，并在自研的持续交付平台中实现了整个持续交付的工作流。

而如果是第一次搭建持续交付系统，我建议你不用像携程这样进行二次开发，因为Jenkins本身就可以在持续交付的构建、测试、发布流程中发挥很大的作用，完全可以满足你的搭建需求。而且，它提供的Pipeline功能，也可以很好地驱动整个交付过程。

所以，在这篇文章中，我就以Jenkins为载体，和你分享如何搭建集成与编译系统。
<div><strong>精选留言（13）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/76/e5/ed6da22e.jpg" width="30px"><span>knightray</span> 👍（5） 💬（1）<div>请教一个问题。在Jenkins Pipeline的实践中，每次Merge Request都会触发一次构建，开发团队在bug修改中会频繁提交代码，比如一个20多个开发团队一天可能要提交50多次代码。如果每次提交都会触发自动构建，是否意味着每次都会自动部署到测试环境，那这样过于频繁的自动部署不是会干扰到测试同学的测试吗？请指教，谢谢。</div>2018-10-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/01/46/b94a9f19.jpg" width="30px"><span>Mr.Difference</span> 👍（4） 💬（3）<div>这才是干活。可惜结束了。</div>2018-09-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/05/92/b609f7e3.jpg" width="30px"><span>骨汤鸡蛋面</span> 👍（2） 💬（1）<div>老师，我们这边使用jenkins pipeline 串联了拉代码、maven编译、制作镜像、触发k8s调度等，但带来的问题是，发布高峰期jenkins 拥堵，若是采用容器化的方式将jenkins 容器化，又会带来拉取maven缓存、及缓存不一致的问题。所以一直有冲动使用google jib 等方式，将代码到镜像一步到位，您怎么看？</div>2018-10-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/4d/abb7bfe3.jpg" width="30px"><span>铭熙</span> 👍（1） 💬（1）<div>Jenkins master的ha，走sharding的话用什么策略呢？按部门？按应用类型？求详细的方案，谢谢。</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/4d/abb7bfe3.jpg" width="30px"><span>铭熙</span> 👍（1） 💬（1）<div>Jenkins高可用有什么好的方案？</div>2018-09-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/eb/e3/a886ec43.jpg" width="30px"><span>帅气小黑</span> 👍（0） 💬（2）<div>统一版本号这块有啥好的方案啊？</div>2018-11-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/14/99/5b1ed92b.jpg" width="30px"><span>戴斌</span> 👍（1） 💬（0）<div>我们现在通过kubernetes插件把jenkins的主从都放到k8s中了，性能提高了很多。在考虑jenkins master多节点的场景，Master之间有共享存储，但是其他的状态怎么同步了？</div>2020-03-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/2e/12/28efac2d.jpg" width="30px"><span>长歌</span> 👍（1） 💬（0）<div>老师,merge request事件checkout源分支是怎么做到的,基于branchName配置不是只能指定规则内的分支么,build时会构建所有符合规则的分支,而不是提交merge request请求的分支？</div>2018-10-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/22/74/1b/8d8694b5.jpg" width="30px"><span>追风筝的文鱼</span> 👍（0） 💬（0）<div>请教一个问题。 用gitlab runner和用Jenkins做cicd，各自有什么优缺点呢？如何取舍？</div>2023-06-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/52/af/28d31419.jpg" width="30px"><span>woods</span> 👍（0） 💬（0）<div>请问Android和IOS的打包，除了用Mac机器还有其他方式吗？ 需要打包的项目有很多，而打包机只有一个。</div>2020-08-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg" width="30px"><span>giteebravo</span> 👍（0） 💬（0）<div>对于打通 Jenkins 与 GitLab 的部分，要是能有一些图表来展示就更好了。</div>2020-04-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/22/a59136c2.jpg" width="30px"><span>Linton</span> 👍（0） 💬（0）<div>关于统一的版本号，能详细的说说吗？我一直有这方面的疑惑</div>2019-12-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/e1/81/b36db3f8.jpg" width="30px"><span>牧野</span> 👍（0） 💬（0）<div>单元测试和自动化测试是否需要单独部署到一套服务来应对频繁提交，功能测试另外有其他服务完成，人为控制功能测试部署的频率来保证功能测试的流畅和质量</div>2019-06-19</li><br/>
</ul>