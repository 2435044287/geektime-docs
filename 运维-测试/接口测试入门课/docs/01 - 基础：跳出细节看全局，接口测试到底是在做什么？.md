你好，我是陈磊。

今天开始，我们就来聊一聊接口测试的那些事儿，这是我们专栏的第一节课，在讲解如何做好接口测试之前，我想先给你讲讲它的必要性，再讲讲什么是接口、什么是接口测试。

## 接口测试为什么重要？

我相信你一定听说过这样一句话：“测试要尽早介入，测试进行得越早，软件开发的成本就越低，就越能更好地保证软件质量。”

但是如何尽早地进入测试，作为软件测试工程师的你，是不是也没办法说得清楚呢？其实上面那句话中的“测试”，所指的并不是测试工程师这个人，而是指包含了单元测试、接口测试、界面测试等一系列质量保障活动的测试工作。

说到单元测试、接口测试和界面测试，你是不是马上就想到了“测试金字塔模型”呢？

![](https://static001.geekbang.org/resource/image/54/26/54babe3ca1b8baf147d6b83486f86b26.jpg?wh=1142%2A980)

在这个金字塔模型中，界面测试、接口测试和单元测试，每一个阶段所占面积的大小，代表了它们在测试过程中的投入和工作量占比。

你可以看到，单元测试在测试过程中，占据了绝大部分的比重，这表示单元测试需要你投入更多的时间和人力成本。但是，单元测试并非测试工程师的本职工作，它属于开发工程师的工作范筹。说到这你可能会问了：“如果开发工程师从来不写单元测试怎么办？”毕竟大部分开发人员都不爱写测试。

其实，我也会问自己这个问题。不可否认，开发工程师不只很少写单元测试，更很少写出好的单元测试代码，很多时候，工期的压力让他们放弃了单元测试。但是，一个产品的交付质量更多时候却是由测试工程师来保障的，面对这一实际现状，我们又该怎么办好呢？
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqNugxtuFzzXNHc5VNvJRd1dVAGbXeszwhqnEfg0FyeNOWDJrksEDuhtVh6FUMS7OBFaBzE6OEiagr/132" width="30px"><span>桃子</span> 👍（33） 💬（7）<div>参数符合和不符合接口入参形式都是正向测试，那么接口测试的异常流是什么呢？有点不太好理解，能给个具体例子吗</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg" width="30px"><span>苦行僧</span> 👍（17） 💬（3）<div>我觉得今天最大的收获就是 金字塔 到 菱形 这个图的转换，正是印证了我们公司的现状（开发 参差不齐，单元覆盖不高或很少，领导果推接口测试，有远见）</div>2020-02-03</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/etbNBmR5PEicra7jbaV9pRsCaibXZ3ichB6JicMOnYowP65W5QMKb8Zicud19jicmEGAGh8ylwDXoYM3SHVU6hf6dFpQ/132" width="30px"><span>roychris</span> 👍（13） 💬（4）<div>希望老师能对不同协议的接口，如“ HTTP 协议的接口、RESTful 格式的接口、WebService 的接口、RPC 协议的接口等。”分别举一个例子，并说明有哪些不同点，谢谢。</div>2020-02-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/11/40/9f7a4e0d.jpg" width="30px"><span>陈岳鑫</span> 👍（11） 💬（4）<div>在工作中，经常遇到，传入错误参数，开发说你不能这样传参，或者说每个接口都这样做防呆，会导致代码很累赘，这种情况要怎么取舍才好呀</div>2020-02-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ce/19/4cafe628.jpg" width="30px"><span>东东</span> 👍（11） 💬（9）<div>我现在做的主要是web页面测试，在验证页面数据的时候，会用F12查看前端的入参跟后端接口返回的json分别是什么，在跟数据库查询结果比对，我认为这种就是业务跟接口相结合的情况</div>2020-02-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1d/4e/ea/82e2ff83.jpg" width="30px"><span>小太阳Angel</span> 👍（9） 💬（3）<div>
考试，请问用户多次频繁发红包后，余额会变成负数，这个问题该从哪里入手比较容易复现呢</div>2020-03-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/2e/01/14a478bb.jpg" width="30px"><span>happychap</span> 👍（6） 💬（1）<div>就综合收益而言，还是觉得单元测试比接口测试更多一些的，毕竟单元测试跑的次数更多，入场的时间也更早，但实际的问题是确实很少开发人员乐于做单元测试，不过随着效能提升的普及，感觉单测迟早还是会大行其道。接口测试相比于ui测试，其功能的稳定程度好了很多，更适合自动化测试，加之目前单元测试还没有得到大范围普及，接口测试有较大的开发空间，在整个cicd流水线中，作为集成测试主要阵地的接口测试，肯定也会长期占用一席之地的。期待跟着老师学习，提升、夯实接口测试的视野、思维和能力。已经盯上aat了，相信老师会在授课过程中介绍一下其诞生过程吧｡◕‿◕｡</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/c4/17/ef21b33a.jpg" width="30px"><span>灰神</span> 👍（5） 💬（3）<div>我现在做一些金融项目的时候，都是一些内部开发好的接口提供给第三方公司使用，包括放还款等接口，我们用不了第三方的前端APP，只能内部先接口测试。不过我用的是postman工具，不太了解工具的深层逻辑，或者代码接口测试，希望可以学到。</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/c2/00/5d59b46c.jpg" width="30px"><span>我</span> 👍（4） 💬（1）<div>有些接口逻辑不会和页面直接相关，想验证这些逻辑不能通过界面测试，只能通过接口测试；一些接口的空值输入无法通过界面测试，因为前端代码会判断空值，但是这些也是必须的验证的，也只能通过接口测试；另外，接口测试很快，能够集成到开发流程中，提高效率和质量</div>2020-02-03</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/qZ7Oe3ibdFEs3FV2ImaUoErAEyCXYIh9McW5pia9LoM46oCtylqx3N3Ehjf9mCkoicekO9jb7QsHlegZicftSBgGvw/132" width="30px"><span>Benson</span> 👍（3） 💬（1）<div>现公司后台PHP转java，开发每改完一个接口，之前的接口自动化就可以马上派上用场了。</div>2020-02-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/c2/f9/dea022f8.jpg" width="30px"><span>Tyhom</span> 👍（3） 💬（1）<div>浅显易懂，给出的接口测试的定义和解释很容易让初级测试人员快速理解</div>2020-02-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/c4/6c/8a91d885.jpg" width="30px"><span>书</span> 👍（3） 💬（2）<div>转行做了一年点点点，公司没钱被裁，面试都是等通知。花4个多月吃自己，学c和java基础，买selenium课程学习摸索到皮毛能忽悠下，最终面了好些才找到一份外包，但大叔混入到大学生同事中根据接口文档能学到一些接口方面知识，ui自动化一般用不上。现在能做简单接口测试，比如jmeter，移动端抓包改出入参数据，挡板测试等，希望系统学习接口测试思维和一些方法，查缺补漏，能提高能力。学的越多发现越多不会。另外，能学到这课程，还是作者那句   用selenum自娱自乐   给点到了，确实挺麻烦的，用处又不是很大，面试有时用的上。</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/95/99/abb7bfe3.jpg" width="30px"><span>darange</span> 👍（2） 💬（2）<div>异步接口有比较好的测试方式么，比如我调用可能只返回true或false，但后台会做很多操作，比如数据库读写或者写文件之类的，这类也可以算接口测试么？还有测试数据往往需要提前在db中准备。这种场景有比较合适的测试自动化测试方式么？</div>2020-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/15/59/1e/5f77ce78.jpg" width="30px"><span>吃草🐴~</span> 👍（2） 💬（1）<div>之前写接口时，一直戏谑测试是接口破坏大王~
陈老师汉堡的例子让我这个吃货流口水，哦不对，是让我对接口的印象更深刻😝
这篇文章我目前听了两遍，给我印象最深刻的一点用我的话说就是：测试不但要看传入错误参数时的返回是否正常报错或处理，更要看传入正确或合理参数时的返回是否正确。因为我自测接口时偶尔会遗漏某一方面，有时候是因为工作任务多，有时候是因为偷懒😳
作为开发，单元测试还是要多写，这样在完成任务的时候可以少提交一些 Bug~</div>2020-02-04</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7lTQQeIDIXrU4u1wsydv5tWaaz4JDwVmHeibOWpw05QDSk57rBJFEQRPiavywZjiafSdYTjk0hFWUGw/132" width="30px"><span>可可</span> 👍（2） 💬（2）<div>小团队里面都是开发测试是一个人的，这种情况该如何做的更好呢？</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/de/b1/98c2de42.jpg" width="30px"><span>千纸鹤</span> 👍（1） 💬（2）<div>你好，我们公司做的都是web的功能测试，上面提及到的接口测试，也是关注输入和预期输出是否一致，输入条件也是运用黑盒测试的各种测试方法，那做完功能测试，再用接口工具跑一遍，是否重复了？接口测试是不是用在没有界面的web测试的比较多？</div>2020-11-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/2d/1e/4a93ebb5.jpg" width="30px"><span>Aaron Liu</span> 👍（1） 💬（1）<div>接口测试用于CI，在merge代码之后，出发build，然后执行unit测试，在执行smoke&#47;sanity(以及后续的full regression)，smoke&#47;sanity都会用API自动化，这样可以快速feedback，是否build是可以用，sanity可以快速检查每个endpoint是否可用，full regression可以快速回归，</div>2020-06-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/d5/4a/28976725.jpg" width="30px"><span>鹏</span> 👍（1） 💬（2）<div>一方面，是要验证输入了汉堡的原材料，经过制作汉堡的处理流程，最后交付给你的是一个汉堡；另外一方面，是要验证在输入的汉堡原材料不对或者不全的情况下，经过制作汉堡的处理流程后，不能给你交付一个汉堡。
理解了测试工程师思维和接口测试思维</div>2020-02-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/c2/a8/81b5c9c1.jpg" width="30px"><span>天亮</span> 👍（1） 💬（4）<div>一直没搞明白http和restful等等，这些接口的区别是啥？选择某种接口类型的参照是啥</div>2020-02-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/c5/53/46f5a6d9.jpg" width="30px"><span>嘟嘟</span> 👍（1） 💬（1）<div>1、陈老师，仍以商城举例，当多端（h5、app、web）调用同一查询接口，引入接口测试的话确实可以提早进入测试 及早发现问题，但是接口测试完各端的界面功能测试还是不能省略，这样子的话接口测试怎么提高测试效率？
2、接口测试在一定程度上能帮助测试人员区分bug要开给前端还是后端，这个思路对吗</div>2020-02-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c8/50/4ae964c8.jpg" width="30px"><span>浮生凉</span> 👍（1） 💬（3）<div>有时候a模块开发好了，但是与它关联的其他模块还未完成，想测试a模块只能通过接口生成需要的测试数据了</div>2020-02-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/93/32/d7d8e98f.jpg" width="30px"><span>时雨</span> 👍（0） 💬（1）<div>测试本质上是对功能的检查和预期，接口测试实际上也可以说是我们对功能的检查还有预期的查看，接口测试返回的结果就是我们的预期</div>2021-03-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1e/89/97/53b92627.jpg" width="30px"><span>Cubat</span> 👍（0） 💬（1）<div>经常写完了接口测试用例之后需要写接口文档，或者接口文档写完了要去补用例。之前用爬虫的方法写过自动生成，但总感觉有些费劲。后来看 Google 一些项目，他们的解决办法就是去解析一个超大的 JSON 文件。想请问一下现在市面上有没有什么成熟的方法来做这类的互相转换。</div>2020-05-18</li><br/><li><img src="" width="30px"><span>林进</span> 👍（0） 💬（1）<div>老师我想问下，有些权限问题比如页面展示内容，有权限的角色可以看到并且操作，无权限的仅仅是页面控制其无法看到操作。但实际调用借口的话，无权限的还是可以操作的。类似这种情况很多算接口bug范畴吗</div>2020-04-15</li><br/><li><img src="" width="30px"><span>Geek_a859b9</span> 👍（0） 💬（1）<div>内部系统的接口异常情况，实际比较少。因为内部系统直接，开发都会做联调，都是安装正常的输入来进行的。而测试中发现的大部分问题，并不是输入不对，而是返回不合理，不能满足业务。同体还是设计的问题，并不是接口本身编码的错误。所以很困惑</div>2020-03-27</li><br/><li><img src="" width="30px"><span>小伞</span> 👍（0） 💬（1）<div>怎样有效的做接口测试的校验，比如接口是基础类型返回大json，返回的每个字段都很重要，但基础数据可能会被修改</div>2020-03-22</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK202CABoJYKr4ZBAwVWsiciaRWOA79wJfZH2BgMudrbLe9Tm3fvmibib5TEE9ZFayMFyoEvAOibITRTiaA/132" width="30px"><span>岳美荣</span> 👍（0） 💬（1）<div>最初我是做手机应用测试工程师 ，真的就是点点点。后来做界面测试，2018年开始介入接口测试。在这次学习中更为清楚的接口测试的实质。</div>2020-03-14</li><br/><li><img src="" width="30px"><span>许静</span> 👍（0） 💬（1）<div>老师讲得非常好，接口的思路一下子就被打开了，那前后端不分离的系统可以做接口测试吗？很急，希望老师看到能回答一下，非常感谢！</div>2020-03-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/6c/ff/f25a0fce.jpg" width="30px"><span>kevin</span> 👍（0） 💬（2）<div>之前接触的接口测试，就是按照开发提供的接口文档，遍历所有接口，调试接口是否能通，感觉这种测试没有什么意义</div>2020-03-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/21/2c/e6f4d838.jpg" width="30px"><span>奇思妙玺宇航员</span> 👍（0） 💬（1）<div>接口测试的重点是数据上的交互，一定要懂代码吗？接口测试异常流程应该如何进行？求解答(*╹▽╹*)</div>2020-02-24</li><br/>
</ul>