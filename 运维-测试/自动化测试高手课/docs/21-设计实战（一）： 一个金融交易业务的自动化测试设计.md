你好，我是柳胜。

一提到金融业，可能你第一时间想到的就是钱。没错，存款、转账都是普通人最常接触的金融业务。不过在专业金融人士那里，钱的形态和流动方式也更加复杂，有交易、投资、期货、股票、基金等等金融模型。

从测试角度来看，金融业软件有两个特点：第一，对数据精准性要求非常高，不能出错，bug的成本极大；第二，软件的设计要求有很强的金融领域知识，也很复杂。

所以，金融行业对软件的交付质量要求高，对软件测试非常重视，自动化测试的投入也很大。而自动化测试设计的过程，其实也是对复杂业务梳理的过程。

挑战随之而来，用我们的Job模型，能不能让金融系统的复杂业务变得简单？今天我们就一起结合例子来看一看。

## 一个转账案例

我们来看后面这个转账案例。

![图片](https://static001.geekbang.org/resource/image/14/b0/146f4098a2411060fee7aee3c0423cb0.jpg?wh=1920x636)

这是一个类型为正例的测试案例。金融业测试里，要设计很多的测试案例，正例是那些预期能够正常完成业务的测试案例，而反例是由于违背了业务规则，预期无法成功完成业务的测试案例。

在我们的测试案例里，交易账户都是正常的状态，交易额度也在安全额度之内，预期结果是能够正常完成转账交易，所以类型是正例。

## Job数据建模

了解了案例情况，我们想用Job模型来为它建模，该怎么做呢？

金融业务里最关键的要素就是数据，我们可以从数据角度来理一下测试案例。
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/c7/36/d6b338c1.jpg" width="30px"><span>侯海佳</span> 👍（3） 💬（1）<div>先验证接口返回结果，再验证数据库里的值，有时需要验证关联系统数据库表的数据。关注动态数据和中间数据。有时新增字段长度不够。有时需要通过mock验证数据多样性。有时通过模拟外部消息协助个性业务流程走完。尽量不依赖历史数据，而是从头开始通过接口造数据。</div>2022-05-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg" width="30px"><span>羊羊</span> 👍（1） 💬（1）<div>现在项目中，数据验证的部分都是放在了测试框架的setup部分来完成，复用率不高。
在测试数据准备和验证方面，老师提供了很好的思路，谢谢。</div>2022-08-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg" width="30px"><span>追风筝的人</span> 👍（1） 💬（1）<div>grafana 监控面板和中间件集群，K8S集群  cpu , memory,disk io, network io入和出 , 请求错误率，时延等数据的验证</div>2022-06-01</li><br/><li><img src="" width="30px"><span>woJA1wCgAA3aj6p1ELWENTCq8KX2zC2w</span> 👍（0） 💬（1）<div>实现了各类数据源的连接和库表的数据读取使用</div>2022-05-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>学习打卡</div>2024-02-25</li><br/>
</ul>