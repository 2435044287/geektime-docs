你好，我是柳胜。

作为测试人员，我们都想做好自动化测试，但是每个行业都有自己的规律，也就是说常说的道，自动化测试也有自己的道。所以，在这个模块，我们的目标是了解自动化测试的道是什么，怎么能运用它让自己的测试工作更加有成效。

今天是价值篇的第一讲，我们先来弄清楚自动化测试的价值究竟是什么？看到这你可能有点困惑，自动化测试有那么多公司都在搞，自然是有价值的啊，有啥可讨论的呢？

其实这个问题非常关键，在开始工作之前，要把我们的工作价值想清楚，后续工作才能事半功倍。我列几个工作中我们频繁听到的问题，你会更有感触。

- （上级沟通）“产品要上线了，QA人手紧，能不能搞一下测试自动化，减少点人手？”
- （调动人手）“什么？你还要再增加2个自动化测试开发工程师来完成这个项目，他们都要做什么？”
- （工作述职）“听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲！”

这样的问句是不是似曾相识？其实它们都指向了一个硬核问题“自动化测试项目的价值是什么？”

在这节课，我要和你捋一下，为什么要做自动化测试，并且带你找到度量它价值的方法。掌握了这些，就能对自己的工作目标更清楚、更有信心，别人问到的时候，我们也能讲清楚、说明白，得到了团队理解工作将事半功倍。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="" width="30px"><span>Evan</span> 👍（1） 💬（1）<div>1、先做稳定的主业务流程的自动化。 
2、再做手工执行次数高的自动化。 
3、尽量少做&#47;不做页面变动频繁的自动化。
以上三点可以覆盖这三个问题：
1、根据（执行次数*执行时间）&#47;开发时间 来比较回答。
2、ROI公式甩出去
3、根据ROI公式节省的时间与业界普遍的测试薪资挂钩，给出一个实际价值LOL。</div>2022-07-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg" width="30px"><span>羊羊</span> 👍（3） 💬（1）<div>在实际工作中，我们是先从技术实现的角度，筛选出可以实现自动化的case，然后按照case的优先级排序，再计算开发脚本的时间，分批自动化case。学习了老师这节课程，终于找到理论依据了</div>2022-04-19</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/MpF5Hia4Qwibdice7Qibk3iamUVZY3KglCymK67n5YEvZjX8GbFY1J2f1RGTbNibpnvicxYZGoJL7oicfbpBIfWTCe7Gbw/132" width="30px"><span>李慧文</span> 👍（7） 💬（1）<div>ROI 是一个自动化测试项目的隐式命脉，说的太对了，可以说现在所有的工作，包括计算机行业外的工作，都完全离不开ROI</div>2022-03-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1a/27/d0/089e99f8.jpg" width="30px"><span>who am i</span> 👍（5） 💬（1）<div>问题1“产品要上线了，QA 人手紧，能不能搞一下测试自动化，减少点人手?” ，重点是产品要上线了是时间成本限制问题，临近上线时间节点和投入自动化开发时间是否符合，如果不符合不能搞自动化，且自动化主要是用来回归测试，产品上线功能是都是稳定还是待定</div>2022-03-31</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/d8/8b/d81769bf.jpg" width="30px"><span>chin</span> 👍（5） 💬（1）<div>冒烟测试进行自动化确实是最合理的选择，现在有了ROI这个武器，拒绝自动化测试无限扩大就有底气了。天下苦无限自动化测试久矣！</div>2022-03-22</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/7BNKxqREtUP9ZhWgic92pHKkaPLGPM4xVjnoyMhHoFiaMUq5L0cCgCEXbeibiaR7ONnXh3W72pJUH5lq5pmphs14sA/132" width="30px"><span>闲不住的令狐冲</span> 👍（3） 💬（1）<div>既然作者的公式提到了d，那么我也分享一下个人在工作中的心得。因为本人做过十多年开发，代码功底凑合，所以在加入测试团队后，根据产品特点（注意这个），重构了团队自动化框架，大幅减小了d（当然也因为更好的可维护性和可扩展性顺带缩短了m），收益也非常明显，特别是在迭代的流量项目中。
所以，我建议有余力同时也想在工作中脱颖而出的tester们，抽空学习一下经典开发框架的原理和设计模式。</div>2022-04-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/37/7b/27c990df.jpg" width="30px"><span>willwchen</span> 👍（2） 💬（2）<div>自动化测试提升节约了多少测试时间的度量标准，感觉只适用于测试团队内部度量，怎么把这种价值传递到整个业务团队，能让业务团队感知到自动化对业务带来的价值，这个是目前最大的挑战，现实是业务团队对提升的测试效率感知不强，不感兴趣，2个100万的自动化工程师，对业务团队的感知提升，可能不如4个50万的业务测试工程师，对比衡量，是不是4个50万业务测试工程师价值更大，这4个业务测试工程师除了本身测试工作，还能再完成70%-80%自动化测试工程师的工作，这是尴尬之处</div>2022-03-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg" width="30px"><span>追风筝的人</span> 👍（2） 💬（1）<div>note
1. 自动化测试是用来做回归测试的
2.软件发布周期变短是自动化测试 ROI 提升的产物。
3.ROI 是一个自动化测试项目的隐式命脉。</div>2022-03-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/ee/6d/1e715544.jpg" width="30px"><span>萧瑟</span> 👍（1） 💬（1）<div>按照目前所在公司的实际情况，产品已经要准备上线了，能不能搞一下自动化，我会说不能搞，因为手工回归测试的时间成本要远小于自动化脚本的开发工作（因为熟悉程度高，手工回归更加快速）</div>2022-05-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/84/2c/1b0926b4.jpg" width="30px"><span>Even</span> 👍（1） 💬（1）<div>ROI=(n×t)&#47;(d+m)。 </div>2022-03-27</li><br/><li><img src="" width="30px"><span>woJA1wCgAAUtR8JWp4a3IwtyFaATrSyg</span> 👍（1） 💬（3）<div>开发没有完成的情况下，怎么用自动化去写冒烟用例给开发自测呢</div>2022-03-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/20/a3/8c/23b2464c.jpg" width="30px"><span>随片</span> 👍（0） 💬（1）<div>answer：
1、主要考虑功能是否可以自动化，能：可以搞；不能：没法搞。
2、时间成本的考虑，如果需要在定时时间内完成自动化测试脚本，那么三个人开发减少开发工作日是ok的；如果时间并不是那么急，我想一个人保质保量的处理是ok的。
3、能够在开发新部署后，检查主流程的原有功能。从手工执行时间、自动化覆盖面积和执行次数说明量化数据。</div>2022-06-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2d/29/81/763def68.jpg" width="30px"><span>豁之一晶</span> 👍（0） 💬（1）<div>感谢老师的分享。我有一个疑问：当产品迭代时间较短的时候，偏向做接口自动化测试够不够？</div>2022-06-14</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/62/54/dd0220f0.jpg" width="30px"><span>IT学堂笔记</span> 👍（0） 💬（1）<div>听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲。
答： 开发了自动化脚本，最大的价值我认为是可以在快速迭代周期中能够进可能多的测试，这些测试不一定非要是回归测试使用，往往用于小单元的冒烟测试更加合适一些。
回归测试引入自动化就需要按照作者提出的ROI模型进行分析，看看投入产出比，维护成本，新脚本使用的迭代次数等，即使写好了一批自动化脚本，但是系统不稳定或者测试迭代次数少，这样投入的人员，时间跟后期维护代码都是不值得的</div>2022-05-10</li><br/><li><img src="" width="30px"><span>Geek_d00d65</span> 👍（0） 💬（1）<div>1、项目临上线投入自动化，时间成本上不允许，而且自动化测试是用来做回归测试、冒烟测试的
2、通过ROI，用数据说服上级，多投入人力能得到什么回报，并且自动化搞起来后会缩短测试周期
3、通过ROI解释自动化能带来什么价值同时也把数据摆出来了</div>2022-04-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/f3/d4/b2464dce.jpg" width="30px"><span>小熊</span> 👍（0） 💬（1）<div>感谢老师的分享，ROI这个公式很受启发，我近期也在关注自动化的有效性，发现对于微服务环境的自动化维护来说，环境稳定性本身也是一个较大的难点，要保障环境稳定，降低维护时间。 
关于问题三：“听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲。”，我们的自动化测试主要是全量功能的回归，系统业务多且复杂性增加，那么迭代3年以上的功能随着人员更迭，可靠性会打折，所以用自动化实现，自动回归是对线上质量的更好保障，请问这种随迭代更新维护的自动化，每日会集中处理失败的自动化用例，请问ROI公式针对这种项目级的维护时间要怎么算？</div>2022-04-13</li><br/><li><img src="" width="30px"><span>悠悠我心</span> 👍（0） 💬（1）<div>版本在稳定后开始做自动化测试，首先从收益最大的冒烟测试着手自动化，这里的冒烟测试我理解是线上功能的20%常用的功能，但每次都需要从分支代码回归，这里的具体的回归方式不太理解怎么实现，涉及到服务端+客户端，感觉特别难以实现</div>2022-04-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/24/05/0e/8f35d78a.jpg" width="30px"><span>assange0</span> 👍（0） 💬（1）<div>关于ROI=(n*t)&#47;(d+m)，但是实际上我觉得作为分母的自动化成本应该是d+m+ta*n，其中ta是每次自动化执行过程中需要人工介入的时间，只是理想状态下的自动化测试这个ta会趋近于0，所以被省略了。</div>2022-04-06</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJuGM38WOWoDs35wKNhUz5AyZXDwWyqfsBnyS21MdWVsPpVDKoNfyzib1MYdgsCzkzgu7FNzpTHxCw/132" width="30px"><span>王凤伟</span> 👍（0） 💬（2）<div>老师 我再补充一个疑问，如果冒烟测试使用自动化，可是开发还没提测，等开发提测后我们有维护自动化代码的时间手工也冒烟完啦，如果冒烟历史功能，历史功能已经发布到线上啦，我们冒烟它意义是什么呢？ </div>2022-03-30</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJuGM38WOWoDs35wKNhUz5AyZXDwWyqfsBnyS21MdWVsPpVDKoNfyzib1MYdgsCzkzgu7FNzpTHxCw/132" width="30px"><span>王凤伟</span> 👍（0） 💬（2）<div>老师 请教一个问题，文中说自动化测试主要用来回归测试，那么，自动化测试到底是在生产环境执行回归 还是测试环境执行回归呢？如果在测试环境执行回归，回归的意义是什么？如果在生产回归，已经发布到线上啦，回归的意义又是什么呢？</div>2022-03-30</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/97/2a/84f3ee46.jpg" width="30px"><span>郑小菜</span> 👍（0） 💬（1）<div>有个问题请教下，文中提到的“冒烟测试”，我是否可以理解为产品主流程？还是说指的就是持续集成中某个要提测feature的核心case？</div>2022-03-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1b/d3/62/791d0f5e.jpg" width="30px"><span>鑫宝</span> 👍（2） 💬（0）<div>1.“产品要上线了，QA 人手紧，能不能搞一下测试自动化，减少点人手?”
回复：老大啊，不行的勒。 当下时间不够，第一目标是在短时间内完成测试工作，正常交付。
 现在搞自动化，不仅没法解决QA人手紧的问题，还得分人力去搞。 短期内没有收益性，投入产出比低啊。

2. “什么？你还要再增加 2 个自动化测试开发工程师来完成这个项目，怎么算出来的？”
回复：老大我知道你很急，但是你先别急，听我给你算一笔账。 
这个项目已经到了稳定周期， 功能基本上不会再有大的改动了。 但是每次发版迭代我们的业务测试同学还得花精力去回归测试，这需要占用X人天。如果我们能将这部分自动化，就能节省这部分的人力投入到其他模块中，在回归测试这一步上大大节省。 每次代码改动，咱们都跑一遍，岂不是节省了 很多个X人天。 
2个自动化同学一番操作，就能节省很多个人天，这收益不是挺大的么？ 

3. “听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲。”
回复：是这样的。 
自动化脚本覆盖的内容按照人力跑，需要花费 t个人力时间。 开发自动化脚本需要花费 d 个人力时间。 在这一年中，每两周迭代一次，每次迭代都需要一次测试。已经使用了 N次，节省成本  t*N - d。 （将老师的公式拿来用了）。回归问题发现 x 个。 在快速测试的情况下花费最少的成本完成。 
</div>2023-07-05</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/sRsz1CHraBC9iaFQeXqB7NZW4ib2wbG8Mcl8EPAicicRzrbVicguTKbjCrhM2X9yVAKa3jxWmJiaRK6AFNZDHBj4V2CA/132" width="30px"><span>柴劲松</span> 👍（0） 💬（0）<div>Q1:“产品要上线了，QA 人手紧，能不能搞一下测试自动化，减少点人手?”
A1:产品要上线、说明此时功能不够稳定、这时候是不建议做自动化测试的、因为不够稳定的功能、会提升维护成本 maintaince，会导致 ROI 变小。自动化测试应该覆盖的是趋于稳定的功能模块。

Q2：“什么？你还要再增加 2 个自动化测试开发工程师来完成这个项目，怎么算出来的？”
A2: 我们根据 ROI 计算公式  ROI = (手工成本*手工验证次数) &#47; (开发成本 + 维护成本) 来看，只要我们做的测试能够运行足够多次，那么我们的开发成本和收益相比、这个比例会越来越大。这是一个长期利好的事情。


Q3：“听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲。”
A3：ROI = (手工成本*手工验证次数) &#47; (开发成本 + 维护成本) 只要我们的ROI超过1，那么我们整体上是收益大于成本的。而且我们优先覆盖冒烟测试，这类功能模块稳定、且执行次数多。这样我们的收益会更多，也能减少迭代周期。</div>2024-12-25</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/sRsz1CHraBC9iaFQeXqB7NZW4ib2wbG8Mcl8EPAicicRzrbVicguTKbjCrhM2X9yVAKa3jxWmJiaRK6AFNZDHBj4V2CA/132" width="30px"><span>柴劲松</span> 👍（0） 💬（0）<div>Q1 “产品要上线了，QA 人手紧，能不能搞一下测试自动化，减少点人手?”
A1 自动化测试适用于已经趋于稳定的业务、才上线的产品做自动化测试、由于业务不够稳定、可能会导致自动化随着业务变更而做很多的调整。ROI并不高、因为维护成本比较高。

Q2 “什么？你还要再增加 2 个自动化测试开发工程师来完成这个项目，怎么算出来的？”
A2 根据 （执行次数*执行时间）&#47; 开发时间 计算出来在xx时间之前、需要投入2个自动化测试工程师。

Q3 “听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲。”
A3  ROI 公式能够推算出我们节省的时间、用这个时间节省的人工成本、和业界测试薪资做对比、能得出我们节省了多少钱。</div>2024-04-28</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（0） 💬（0）<div>问题3：我开发的是冒烟测试脚本，每次发布前都会运行，运行次数越多，越节省人力和时间成本</div>2024-02-06</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLw3jpao45frZibQIAicWBfc7ofgrm5gJLiaFQSj5u2DDvkjy3ia5goicJLJlgVtZ0HryiaXb2VqpTSQT5Q/132" width="30px"><span>lisa</span> 👍（0） 💬（0）<div>然后如果单独就后台自动化这个命题范围来讲，我更偏向于将公式简化为 分子是：运行次数*手工测试时间，分母则直接选用开发成本，因为维护成本对于后台服务来讲，其实接近于0，因为很多时候我们都是在后台上堆积新功能，而很少去改动原来的代码。（我知道这其实是一个很不健康的模式，因为我们其实应该边加需求边重构换技术债，但是很遗憾大部分业务团队没有这个决心），所以这个公式再简化一点，其实就是看服务的主调和被调（或者理解为扇入扇出）越多（可以当做手工测试执行的成本），以及git的改动的次数（意味着被运行的次数就会越多），他就越值得去做自动化，不知道这样理解对不对？</div>2023-02-01</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLw3jpao45frZibQIAicWBfc7ofgrm5gJLiaFQSj5u2DDvkjy3ia5goicJLJlgVtZ0HryiaXb2VqpTSQT5Q/132" width="30px"><span>lisa</span> 👍（0） 💬（0）<div>最近又重新回顾了一下这个课程，发现出现了一些新的疑问，这个公司从ROI的角度来讲固然是很恰当的，但是我们在思考产品全局模块的自动化覆盖策略应该不是唯ROI论，因为我们还需要结合产品的特点，比如有一些模块是核心模块，逻辑复杂但是不允许出一点点的问题（和收入强相关），可能这些模块一年就动那么几次，相当于运行次数N比较少，但是我们也还是要提高它自动化覆盖的优先级？

所以ROI的公式更多的是从效率收益的角度，我觉得还的从业务价值的角度来考虑，哪些是我们输不起的地方，最终是一个加权综合的结论


</div>2023-02-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/f2/fb/ecae913a.jpg" width="30px"><span>小安</span> 👍（0） 💬（0）<div>1. “产品要上线了，QA 人手紧，能不能搞一下测试自动化，减少点人手?”
   自动化测试是长收益模型，所谓远水解不了近渴
2. “什么？你还要再增加 2 个自动化测试开发工程师来完成这个项目，怎么算出来的？”
   通过一个时间窗口内比如一年内，所需要的手工测试总工时，以及自动化ROI来计算吧
3. “听说你开发了个什么自动化脚本，它给公司带来了什么价值？用量化的数据给我讲一讲。”
   价值：1、测试效率提升：ROI，比手工测试速度快
        2、发布效率提升：缩短发布周期
        3、线上bug逃逸率
   前提是要有完善的度量体系才能通过指标的变化体现自动化测试的价值</div>2023-01-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/75/fb/ab1d8555.jpg" width="30px"><span>Henry.Woo</span> 👍（0） 💬（0）<div>网上看到其他人计算ROI的公式，分子，也就是收益，会用【手工运行时间*次数-自动化投入的成本】，找了一下利润的计算公式=收入-成本。想请教一下老师，为何文中的计算公式不需要再减去成本呢？</div>2022-11-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/44/a4/7a45d979.jpg" width="30px"><span>IT蜗壳-Tango</span> 👍（0） 💬（0）<div>ROI的维护成本的确很难确定，除了维护成本还有作业报告的分析等因素</div>2022-03-23</li><br/>
</ul>