你好，我是静远。

上一节课，我们一起梳理了Serverless下可观测的重要性和构建可观测监测体系的要点，也结合案例，学习了指标的收集方法，了解了FaaS形态下指标上报的架构设计和注意事项。

今天这节课，我们继续来看可观测的另外两个数据支柱：日志和链路追踪。

## 日志

我们知道，通常在运维一个系统的时候，从监控大盘了解问题的大致轮廓后，经常会根据日志去查看具体的错误细节。​

日志的作用是记录离散事件，并通过分析这些记录了解程序的整体行为，比如出现过哪些关键数据，调用过哪些方法。也就是说，它能够帮我们定位问题的根源。

在函数计算场景下，我们需要考虑到用户日志与系统日志两种类型。其中，用户日志记录的主要是用户函数代码中业务流程发生的过程。这部分日志信息是在函数维度上独立收集的，并且用户可以通过前端控制台查看相关日志信息。而系统日志，则是整个平台侧发生事件的信息记录，最终汇总在一起，供平台侧的运维或开发人员排查问题。

### 日志数据源

那么日志应该什么时候打印又应该怎么打印呢？

首先，**我们需要明确日志的级别**。以系统日志为例，常见的包括Error、Info和Warn，分别表示错误日志、信息日志以及警告日志，在开发调试过程中可能还会用到Debug类型。我们需要根据实际的执行逻辑来设定不同的等级。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/a0/c5/9259d5ca.jpg" width="30px"><span>daydaygo</span> 👍（0） 💬（1）<div>目前已经从 trace1.0（opentracing jaeger）升降到 trace2.0（otel），提升非常明显：采样率100%</div>2022-11-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/60/a1/45ffdca3.jpg" width="30px"><span>静心</span> 👍（0） 💬（1）<div>可以使用Filebeat吗？Fluent-Bit 与 Filebeat哪个更好？</div>2022-11-02</li><br/>
</ul>