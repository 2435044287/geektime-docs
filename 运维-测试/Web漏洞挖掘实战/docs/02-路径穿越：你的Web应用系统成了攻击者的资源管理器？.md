你好，我是王昊天。

上节课呢，我们学习了失效的访问控制，这节课我想和你一起探索另一个有趣的漏洞类型——神奇的路径穿越。

想象你是一个勇者，而你这次的目标是要进入一座盘踞着古龙的城堡寻找宝藏。考虑到自己还不够强大，正面进攻明显会送了自己的小命，于是你打算先绕道看看，这个城堡有没有什么其他可以进入的方式。幸运的是，作为一座昔日的王宫，这座城堡的设计完整，有许多侧门；但同时你也会发现，每一扇侧门的背后不是仓库就是守卫室，完全不能帮助你进入城堡内部。经过了一整天的探索，你终于发现了一个房间，它和其他仓库在外观上并无二致，唯一的不同是其中一块地板下竟藏着一扇暗门，你怀着好奇缓缓开启这扇门，发现面前正是一条通往城堡的密道…

如果把城堡看作是你进行安全检测的系统，那么恭喜你，现在你已经成功找到了路径穿越漏洞。通过这种漏洞，你可以访问“城堡”内部的各种“宝藏”。当然，你具体能访问到什么样的宝藏，还要取决于地道究竟能够通往何处。

## 路径穿越

那么什么是路径穿越呢？简单来说，你所构建的系统中有一个功能组件使用外部输入来构建文件名，而这个文件名会用来定位一个在受限目录的文件，如果文件名中既包含一些特殊元素，又没有进行合理的过滤处理，就会导致路径被解析到受限文件夹之外的目录。
<div><strong>精选留言（5）</strong></div><ul>
<li><img src="" width="30px"><span>Geek_ea11e9</span> 👍（1） 💬（2）<div>MiTuan 是什么系统 如何使用？
</div>2021-12-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/17/9a/e7/310b4a12.jpg" width="30px"><span>波动星球</span> 👍（0） 💬（1）<div>实例复现的环境不够详细</div>2021-12-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg" width="30px"><span>ifelse</span> 👍（1） 💬（0）<div>学习打卡</div>2023-03-04</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/38/be/ed/f90bd120.jpg" width="30px"><span>Lunch</span> 👍（0） 💬（0）<div>这感觉不够深刻啊</div>2023-10-18</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/2d/95/f2/6dfb5ad5.jpg" width="30px"><span>泡小胡</span> 👍（0） 💬（0）<div>已经读完一遍。。。。</div>2022-06-20</li><br/>
</ul>