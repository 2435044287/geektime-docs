在GUI自动化测试系列的文章中，我围绕着GUI自动化测试进行了各种讨论：从最原始的GUI测试谈起，逐渐引入了脚本与数据的解耦，并谈论了页面对象模型，以及在此基础上的业务流程模型，接着分享了一些GUI自动化测试过程中的新技术，最后和你讨论了GUI自动化测试的稳定性问题。

今天，我会再和你聊聊GUI自动化测试过程中另外一个很实用的部分：GUI自动化测试报告。

GUI测试报告是GUI自动化测试的重要组成部分，当有任何的测试用例执行失败时，我们首先就会去分析测试报告，希望从中看到测试用例到底是在哪一步出错了，错误发生时被测系统是在哪个页面上，并且前序步骤又是哪些页面等等。

## 早期的基于视频的GUI测试报告

为了分析测试用例的执行过程与结果，早期就出现了基于视频的GUI测试报告。也就是说，GUI自动化测试框架会对测试执行整个过程进行屏幕录像并生成视频。

这种基于视频的测试报告可以提供清晰的GUI测试执行上下文，看起来也很不错。但是，这种方式主要的问题是：

1. 报告的体积通常都比较大，小的几MB，大的上百MB，这对测试报告的管理和实时传输非常不利。
2. 分析测试报告时，往往需要结合测试用例以及服务端的日志信息，视频报告这一点上也有所欠缺。
<div><strong>精选留言（21）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/c7/c6/35cc7c7c.jpg" width="30px"><span>Robert小七</span> 👍（10） 💬（1）<div>我目前做的一般在定位元素失败时才会进行页面截图，测试报告也都是执行一个业务流程后将执行结果和异常信息写入到报告中，最后生成HTML形式的测试报告！</div>2018-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/20/07/aef14454.jpg" width="30px"><span>hoppaz</span> 👍（3） 💬（3）<div>文章开篇提到视频GUI测试报告看不到log，文章后面提到了截图高亮可以看到流程，但是似乎也没有提到如何在GUI测试报告中显示相应的log，请老师指导一下采取什么方案比较直观高效呢？</div>2018-08-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/9c/cf/99cd7d48.jpg" width="30px"><span>闹忒龙</span> 👍（0） 💬（1）<div>对performance test和load test比较感兴趣，不知道大公司都用的什么技术流程，老师能不能讲讲：）</div>2018-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg" width="30px"><span>sylan215</span> 👍（55） 💬（4）<div>1. 说起操作步骤截图功能，我记得 Windows7 系统开始，自带一个「问题步骤记录器」，直接在运行框输入 psr.exe 就可以调起，开启监控后，所有操作步骤的说明和截图都会保存成 MHTML 文件，结束时会打包到一个压缩包中，贼好用，没用过的推荐试一下。
2. 不管是视频还是步骤截图，我理解的应该是不需要所有的都进行记录，而是在出现问题需要定位的时候才需要记录，其他大部分地方都是在自动化操作完之后，有一个校验操作结果的步骤，来保证用例执行不偏离预期，就算记录了所有步骤，应该也不会全看，不然这个时间成本还是蛮高的。
3. 当然，如果需要进行步骤截图记录，茹老师的方法能满足绝大部分需要了。
4. 对于全球化，我理解的是 GUI 自动化和本地化应该是分开的吧，GUI 自动化主要保证功能，相对 Web 来说，不管哪个语言版本，控件位置只要没有大的变动，那么自动化就是通用的，至于翻译是否可以借助 OCR 技术进行文本比对呢。
以上，欢迎沟通交流，公众号「sylan215」</div>2018-08-08</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/4e/64/b54a6835.jpg" width="30px"><span>dimi</span> 👍（22） 💬（3）<div>说这么多能不能show下真实代码呢 或者介绍一下主流框架怎么实现的，老是来需的，截个图了事。还有测试报告不只是截图吧。</div>2018-09-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c2/b8/ec758482.jpg" width="30px"><span>Cynthia🌸</span> 👍（12） 💬（0）<div>我的理解是只有出现问题的时候才需要截图，不过全截图也OK，只要在报告中可以点击指定用例看到对应截图就可以了。
另外就是因为截图比较占空间，应该也需要对应的清理功能，比如说没有问题的用例，隔一段时间就把对应的截图清理掉，或者是把所有的截图清理掉，不占用空间。</div>2018-08-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/81/d4/e92abeb4.jpg" width="30px"><span>Jecy-8</span> 👍（2） 💬（1）<div>打卡。之前没有GUI相关的测试经验，有个疑问，关于GUI的测试报告都是以截图的方式吗？会不会有相应法律图形界面显示总结性的报告，比如总共跑了多少个业务场景用例，通过多少失败多少等，甚至覆盖率等</div>2018-08-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c6/4f/0c215abf.jpg" width="30px"><span>红娟</span> 👍（2） 💬（0）<div>每次都有新的收获😊 </div>2018-08-08</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0MCsGbBt0T1HJR50F0rCfKfjjD2hXpmnRSrs1BCJ99HU7fL1nkWcibBuUSpkCZpKKXDYkD9TiaxvA/132" width="30px"><span>朱墨子</span> 👍（1） 💬（0）<div>测试报告可以有一个自动产生的测试结果汇总页，顺序显示测试内容列表和结果，缺陷信息，以方便复核和get重要信息。</div>2022-08-24</li><br/><li><img src="" width="30px"><span>ggggggjjj</span> 👍（1） 💬（0）<div>ALLURE推荐</div>2018-12-06</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg" width="30px"><span>小老鼠</span> 👍（1） 💬（0）<div>能做到这点对于一个中小型公司来说非常了不得了，但我总觉得除了获得图片还可以获取一些别的信息，比如HTTP response 包，以便于开发修改缺陷。</div>2018-10-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/23/fe/26/feda16aa.jpg" width="30px"><span>Herbert</span> 👍（0） 💬（0）<div>我一般都是在try...catch 的catch中处理异常时截图的，GUI截图也不是很好用，最好还是直接启动录屏，录制整个过程，这样更容易方便分析。</div>2022-09-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/14/3f/39/a4c2154b.jpg" width="30px"><span>小昭</span> 👍（0） 💬（0）<div>GUI测试报告，的确眼前一亮呀</div>2022-02-28</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/IlJTicgqvYUhQcKs6SKOPA02aSZ7CNqRG3uibN0etsiaic3aqWORXIHV700icz4k4lZPkKr4A5JkDxgMBWtHnrENFow/132" width="30px"><span>崔圆圆</span> 👍（0） 💬（0）<div>testng支持失败截图再加上allure报告感觉也不错的</div>2021-04-11</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/40/a8/6af775e8.jpg" width="30px"><span>Julie</span> 👍（0） 💬（2）<div>RobertFramework 测试框架的的GUI测试报告是我目前用过的测试框架中，觉得是清晰性和易读性最好的。</div>2020-12-09</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/dc/33/a68c6b26.jpg" width="30px"><span>捷后愚生</span> 👍（0） 💬（0）<div>学习文章后的收获：
自定义方法，实现高亮截图。
在Hook中加入高亮截图。

老师说到：分析测试报告时，往往需要结合测试用例以及服务端的日志信息，老师会讲如何具体分析日志吗？

每一步都截图，其实占用空格也挺大的 ，需要定期清理。</div>2020-07-12</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/nHTeBrP98wyvWnjCsadzAkic3ydeYlHeUl0GPW2B2DcygNvRhXdaDn11ic8YhW4sDt9E2kcbEHlCJhmeZlDqEEgQ/132" width="30px"><span>Geek_wenzikaka</span> 👍（0） 💬（0）<div>现在有在用Applitools，不再需要手动截图了。</div>2019-09-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/55/26/154f9578.jpg" width="30px"><span>口水窝</span> 👍（0） 💬（0）<div>希望茹老师给以简单的实例操作，操作之后才能更深了解。</div>2019-04-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/fc/f0/38db74c9.jpg" width="30px"><span>subona</span> 👍（0） 💬（0）<div>学到了新的思路和方向</div>2018-11-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/7d/40/bdcf7fa0.jpg" width="30px"><span>海</span> 👍（0） 💬（0）<div>老师，图2是怎么实现的，非常好的创意</div>2018-08-12</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/91/2d/e0570e59.jpg" width="30px"><span>缪倩</span> 👍（0） 💬（0）<div>看了这篇文章后对测试报告的原理以及实现思路有了非常清晰的理解，每篇文章都收获满满</div>2018-08-09</li><br/>
</ul>