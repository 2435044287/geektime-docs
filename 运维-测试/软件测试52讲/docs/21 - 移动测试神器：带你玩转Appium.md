在上一篇文章中，我介绍了Web App、Native App和Hybrid App三种不同类型的移动应用以及对应的测试设计方法，也介绍了移动应用所特有的专项测试知识。

今天，我就以移动应用的自动化测试为主题，介绍目前主流的移动应用自动化测试框架Appium。Appium 是一个开源的自动化测试框架，支持iOS和Android上Web App、Native App和Hybrid App的自动化测试。

由于基于Appium的移动应用环境搭建相对复杂，虽然网上也有不少教程，但是知识点都比较零碎，而且大多都是基于早期版本的示例，所以我会使用最新版本的Appium Desktop 1.6.2和Appium Server 1.8.1来展开今天的内容：

- 首先，我会展示如何在Mac环境下一步一步地搭建Appium测试环境；
- 接下来，我以iOS为例，实际开发两个测试用例，一个是Native App的测试用例，另一个是Web App的测试用例（因为Hybird App的测试用例其实是类似的，Native App的壳，Web App的内容，所以就不再单独举例子了）；
- 然后，我会在iOS的模拟器上实际执行这两个测试用例（之所以选择iOS模拟器，而不用iOS真机做例子，是因为iOS真机的测试需要用到Apple开发者账号，还需要对被测应用进行签名等，会在环境搭建过程中引入很多额外步骤，而这些步骤对于讲解Appium并没有直接的关系）；
- 最后，当你已经通过实际使用对Appium形成感性认识后，我再来简单介绍一下Appium的内部原理，让你做到知其然知其所以然。
<div><strong>精选留言（21）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/0f/55/26/154f9578.jpg" width="30px"><span>口水窝</span> 👍（0） 💬（1）<div>今天看了原理，明天实践操作起来</div>2019-04-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/77/72/8f77ddb0.jpg" width="30px"><span>johnny</span> 👍（0） 💬（1）<div>按照你说的步骤实现了。
第一次接触MAC OS、IDEA开发工具、Appium...
点赞。
</div>2019-01-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c1/53/157c7020.jpg" width="30px"><span>✨阿土白白💤</span> 👍（0） 💬（1）<div>老师我想请教一个ios自动化的问题。appium 的inspector通过accessibility id 识别ios元素。有条用例，我想检查下B页面某个元素的text 值是否是A页面传过来的，但该元素的accessibility id就是它的text value。就好比，一个元素是7，去检查它是不是7，好像没有意义呢。请问这种情况该如何处理呢？</div>2018-09-11</li><br/><li><img src="" width="30px"><span>浮躁的社会</span> 👍（0） 💬（1）<div>谁有详细的appium使用文档吗？网上找了一下都很零碎，哪位大佬有给分享一下谢谢🙏</div>2018-08-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg" width="30px"><span>sylan215</span> 👍（10） 💬（0）<div>Appium 作为目前最主流的移动端自动化测试工具，应用的范围应该是相当广泛了，技术上也是相当成熟了，本次讲解的步骤非常详细，可以让初学者轻松上手，赞👍

欢迎沟通交流，公众号「sylan215」</div>2018-08-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ca/44/c2d77269.jpg" width="30px"><span>hi ！girl</span> 👍（5） 💬（0）<div>老师，由于国内手机权限很多，执行appium时，安装的辅助apk不能自动安装完成，想问老师有什么好的想法解决？目前我的做法是：检测设备端是否存在appium相关app，存在，不安装；不存在，安装，所以首次安装都需要手动点击权限，第二次后执行不需要安装，但是部分手机运行时不会执行命令，此时会调起安装appium server的权限框，又该如果解决呢？</div>2018-08-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c3/fd/f4663263.jpg" width="30px"><span>emilymeng</span> 👍（3） 💬（0）<div>老师讲的这节太及时了，刚好可以使用到。</div>2018-08-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/13/21/2622c4e9.jpg" width="30px"><span>孙丢丢</span> 👍（2） 💬（0）<div>老师好～
Appium1.6.2➕iOS 10.1.1 inspector时定位不到xpath 提示的是：（&#47;&#47;XCUIElementTypeStaticText[@name=“AX error -25205”])[2]. google了一下感觉iOS 11系统可以解决这个问题 不过11系统还有其他的问题 wda的证书要每次都去手动信任一下 就导致跑不起来 陷入了死循环。不确定老师有没有碰到这个问题 期待老师的回复～</div>2018-08-16</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/11/39/f7dcc2e6.jpg" width="30px"><span>叶夏立</span> 👍（1） 💬（0）<div>茹老师很好的给小白们普及了一下appium的基本知识，也让我好好回顾了一下appium😜</div>2018-08-15</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/ae/f5/a17bbcc9.jpg" width="30px"><span>蜡笔小新爱看书</span> 👍（0） 💬（0）<div>小程序自动化怎么处理</div>2024-10-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/78/4a/4f8da65e.jpg" width="30px"><span>Jiminy</span> 👍（0） 💬（0）<div>老师，请问怎么并发同时操作多台设备呢？</div>2022-10-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/dc/33/a68c6b26.jpg" width="30px"><span>捷后愚生</span> 👍（0） 💬（0）<div>appium内部原理，老师讲得非常好，赞！

使用文字介绍详细的步骤，真是没有看视频那么容易理解。
不过，通过看文档解决问题，也是一项能力，毕竟你遇到的问题不可能都能找到视频教程。</div>2020-07-15</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLOT8FHaH8mQv12qWvXfRCUaHLDpswUDjH8Lz6qo60j3Jw3yIfic4Via4U74Fk2auBYJ9ibOvhictLUzQ/132" width="30px"><span>Bella2019jike</span> 👍（0） 💬（0）<div>老师讲的好细，跃跃欲试了，官方文档也不错就是看英文没有老师讲的具体。</div>2020-03-25</li><br/><li><img src="" width="30px"><span>oci</span> 👍（0） 💬（0）<div>感谢分享</div>2020-03-19</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/1c/a2/ac/0c49f628.jpg" width="30px"><span>良人</span> 👍（0） 💬（0）<div>感觉就是开发啊</div>2020-02-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/d3/31/cf7e9aea.jpg" width="30px"><span>Ken</span> 👍（0） 💬（1）<div>请问一下老师，appnium怎样可以同时进行多台手机跑测试用例呢？</div>2019-09-05</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ce/f6/b4839802.jpg" width="30px"><span>贝贝</span> 👍（0） 💬（0）<div>老师，今天遇到一个问题，appium 1.84版本，Xcode9，如果开两个appium的话，wda安装了跑的时候会自动卸载，不能两台iPhone一起跑，是不是我哪里操作不对了啊？应该是支持两个设备一起跑的吧，期待老师解答(^^)</div>2019-07-17</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/59/0b/27420fd7.jpg" width="30px"><span>@说了再见</span> 👍（0） 💬（0）<div>接触 appium 的时间也有一年左右了，觉得这个工具真的是『大神之作』，这是我阅读专栏的第一篇文章，感觉老师非常贴心，先演示 demo，之后讲解原理，非常适合新入门的小白掌握大体概念，非常棒，谢谢老师。</div>2019-07-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg" width="30px"><span>小老鼠</span> 👍（0） 💬（0）<div>1、在VMWare MAC可以搭建这个环境吗？
2、MAC也应该支持Python </div>2018-10-27</li><br/><li><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk0cGUy1nvQxxtzwicEO7KfHQZRlGAJeZxsKibqRvDDd8W4uaibOYHycAJzal3oSZqibFJibbhicgUzIGw/132" width="30px"><span>wfmedtest</span> 👍（0） 💬（0）<div>Appium搭建环境能否讲下</div>2018-10-24</li><br/><li><img src="" width="30px"><span>浮躁的社会</span> 👍（0） 💬（0）<div>网上找了一下并没有详细的appium的相关教程，都很零碎，请问有相关使用教程的文档吗</div>2018-08-15</li><br/>
</ul>