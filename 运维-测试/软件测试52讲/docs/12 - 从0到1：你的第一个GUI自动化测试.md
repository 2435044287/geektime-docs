在前面的测试基础知识系列文章中，我分享了测试相关的基础知识，从测试用例的设计，到测试覆盖率，再到测试计划的制定，这些都是我认为测试人要掌握的一些基本知识。

那么，接下来我将要带你走入GUI自动化测试的世界，和你一起聊聊GUI自动化测试的技术、原理和行业最佳实践。

作为该系列的第一篇文章，我直接以一个最简单的GUI自动化用例的开发为例，带你从0开始构建一个Selenium的GUI自动化测试用例。

先让你对GUI自动化测试有一个感性认识，然后以此为基础，我再来解释Selenium自动化测试实现的核心原理与机制，希望可以帮你由点到面建立起GUI测试的基础知识体系。

## 构建一个Selenium自动化测试用例示例

测试需求非常简单：访问百度主页，搜索某个关键词，并验证搜索结果页面的标题是“被搜索的关键词”+“\_百度搜索”。

如果搜索的关键词是“极客时间”，那么搜索结果页面的标题就应该是“极客时间\_百度搜索”。

明白了测试需求后，我强烈建议你先用手工方式执行一遍测试，具体步骤是：

1. 打开Chrome浏览器，输入百度的网址“[www.baidu.com](http://www.baidu.com)”；
2. 在搜索输入框中输入关键词“极客时间”并按下回车键；
3. 验证搜索结果页面的标题是否是“极客时间\_百度搜索”。
<div><strong>精选留言（30）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/11/c2/b8/ec758482.jpg" width="30px"><span>Cynthia🌸</span> 👍（32） 💬（2）<div>作者讲述的selenium工作原理，十分清晰有条理。
而其他教你学自动化测试学selenium的文章或者书籍，重点都在操作api上，或者就直接带你分析源码。而很少先把原理讲清楚，导致不少小伙伴学习并应用了很久，还是不够清楚背后的原理。所以也会看到类似的提问：为啥Chrome可以跑的case，Firefox跑不了，为啥webdriver还要一个浏览器装一个？
如果先弄清楚原理，就不会再在这些问题上有疑问。
另外，由于2.0以后webdriver逐渐成为主流，所以个人觉得1.0的原理大概看看有个概念就好了，重点放在2.0上面。</div>2018-07-28</li><br/><li><img src="https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eppQqDE6TNibvr3DNdxG323AruicIgWo5DpVr6U7yZVNkbF2rKluyDfhdpgAEcYEOZTAnbrMdTzFkUw/0" width="30px"><span>图·美克尔</span> 👍（11） 💬（1）<div>希望能讲一些设计思想，比如我们构建web自动化测试时需要抽象出哪些类比如page oriented的设计，以及为什么这么设计，再就是想了解你们在搭建整个自动化框架的时候是具体使用到哪些模块，比如邮件通知模块以及报告结果模块或者日志模块等等，希望老师能给我们讲解一个业内目前的最佳实践。</div>2018-07-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/a4/82/5cb984b5.jpg" width="30px"><span>soul</span> 👍（7） 💬（2）<div>值得注意得地方，预先装好浏览器的驱动器，不然会报错 &quot; java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property;大家如果再执行过程中提示如上错误，去这个地址下载即可 https:&#47;&#47;sites.google.com&#47;a&#47;chromium.org&#47;chromedriver&#47;downloads</div>2018-07-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/e8/ca/2a7cc193.jpg" width="30px"><span>阿鼎</span> 👍（3） 💬（1）<div>请问非web应用的传统gui测试用神马？</div>2018-07-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c7/4c/b22af9d6.jpg" width="30px"><span>C</span> 👍（3） 💬（1）<div>一直纠结要不要做gui自动化，我遇到的问题有1.前端ui控件开发不统一，不是统一框架来做的ui设计，维护各模块脚本成本高。2.企业没有做单元测试和接口测试，没有信心做ui自动化测试3.ui界面动一动，ui感觉要维护成本较高。也听过别人说要针对ui框架设计UI自动化测试框架，不知道如何实施（目前还停留在ui脚本层）4.uI自动化能做到什么层度？冒烟是必须的，稳定模块的回归测试能否用ui代替，虽然成本高。</div>2018-07-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c6/4f/0c215abf.jpg" width="30px"><span>红娟</span> 👍（3） 💬（1）<div>配图很漂亮，颜色丰富的嫩芽。一看心情就很好
言归正传，我比较熟悉python，电脑里装的是selenium 3，待会儿试着写一下用例的case。重点是背后的实现原理。
我的问题是，如果需要了解背后的实现原理，是不是需要了解http网络协议？</div>2018-07-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c0/18/c7d833a4.jpg" width="30px"><span>Jimmie.Zhou</span> 👍（2） 💬（1）<div>前端修改越来越频繁，到大部分后端api修改较少，通常是新增，所以基于api的自动化测试效果刚加好。</div>2018-07-25</li><br/><li><img src="" width="30px"><span>涟漪852</span> 👍（1） 💬（1）<div>Selenium的书籍，请老师推荐下(｡･ω･｡)ﾉ</div>2018-11-23</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c4/69/51cfc6b4.jpg" width="30px"><span>Declan</span> 👍（1） 💬（1）<div>不知道UFT的原理是什么，它有很多元素定位的方式</div>2018-07-27</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/dc/81/76aceead.jpg" width="30px"><span>塔矢亮的小螃蟹</span> 👍（1） 💬（1）<div>刚入门自动化测试的小白想问一个很菜鸟的问|･ω･｀)
我最近在看虫师的一本自动化测试的书来学习，用的是python+selenium，但是在元素定位这里一直受到了打击，要是定位按钮，链接都没问题，但是定位输入框比如说登录界面的输入框，用了各种办法xpath,css定位都说找不到这个元素，哦，我用的是chrome的插件xpath helper来自动生成xpath，按道理应该是没错的呀，一直非常困惑</div>2018-07-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/c8/c1/2066dcaa.jpg" width="30px"><span>全都是泡沫</span> 👍（0） 💬（2）<div>老师，请问web service 技术现在有没有过时啊 还需要了解吗 感觉很难理解呢</div>2018-09-29</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/dd/c0/d3c8864a.jpg" width="30px"><span>mm</span> 👍（0） 💬（1）<div>这篇文章讲的，我最近刚刚做过。我刚刚转行进入功能测试，没有代码基础，因此感觉这样没有浏览器插件录制脚本那么快捷。
我们做一个比较小的网站，只需要一些简单的回归测试，就是打开几个页面，点一点，验证一下页面上有没有出现应该有的数据。可能我们的需求还用不上webdriver吗？
而且不知为何，感觉webdriver打开网站比插件慢很多，还经常超时？和原理有关系吗，请指教，感谢！</div>2018-08-03</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/db/25/66bfd226.jpg" width="30px"><span>玉楼人</span> 👍（0） 💬（1）<div>老师，你计划讲解下web  service 吗？不懂它的原理。</div>2018-07-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/ca/44/c2d77269.jpg" width="30px"><span>hi ！girl</span> 👍（0） 💬（1）<div>uiautomator1&#47;2、appium，对于移动端测试用得比较多</div>2018-07-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/69/a4/f62d75e9.jpg" width="30px"><span>王若沣</span> 👍（0） 💬（1）<div>Visual Studio的test模块里有一个功能，叫Coded UI Test（CUIT），这个是不是可以算是微软基于.Net的GUI自动化测试的实现？</div>2018-07-25</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/f6/56/e45f9f52.jpg" width="30px"><span>Cold-RyuKyu</span> 👍（0） 💬（1）<div>验证搜索结果页面的标题，验证的结果怎么显示出来呢</div>2018-07-25</li><br/><li><img src="" width="30px"><span>Geek_66d7b2</span> 👍（9） 💬（1）<div>现在好多都是用Python实现的，老师这里用Java甚至有点看不懂</div>2021-01-21</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/11/cc/1c/069b7e96.jpg" width="30px"><span>橄榄</span> 👍（6） 💬（0）<div>没有做过GUI自动化测试，不过茹老师讲的也能听懂一丢丢
另外，能否专门讲个手机软件测试的专题，如何用monkey实现自动化，初学者请茹老师谅解</div>2018-07-26</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/18/ff/b7/1ebcbe77.jpg" width="30px"><span>白菜兔</span> 👍（5） 💬（4）<div>网易推出的airTest。尝试过UI自动化测试，通过录制屏幕操作，执行时基于图像识别，完成测试。</div>2020-03-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/16/ba/cd52470d.jpg" width="30px"><span>堂</span> 👍（4） 💬（0）<div>近期也整理了一个GUI测试框架，pytest+selenium+allure+jenkins，目前只实现了抽离了公共方法、配置文件、测试数据、页面对象独立，使用上目前倒是没有什么问题，但总感觉还是不够灵活。最关键的是，现在脚本执行效率的问题。最近在研究如何实现脚本分布式运行的方法，但是还没有找到好的解决方案，好像jenkins通过节点实现脚本分割和测试报告归集（难点），不知道作者对脚本分布式运行有没有比较好的方案建议？万分感谢。</div>2018-08-01</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg" width="30px"><span>sylan215</span> 👍（2） 💬（0）<div>1.提到 Web UI 自动化目前用的最多的肯定还是 selenium 了；

2.之前也了解了 selenium 1.0 和 2.0 的区别，也对 WebDriver 有了基本的了解，但确实没有本次讲解的这么透彻，给茹老师点赞；

3.selenium 的入口其实很简单，个人感觉他麻烦的地方还是在用例设计上，比如用例设计的颗粒度，以及对于用例稳定性的考量（用例数据的选取）等；

以上，欢迎关注公众号「sylan215」一起沟通交流。</div>2019-02-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/5b/8f/4b0ab5db.jpg" width="30px"><span>Middleware</span> 👍（1） 💬（0）<div>很有用，尝试一下</div>2020-11-08</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/nHTeBrP98wyvWnjCsadzAkic3ydeYlHeUl0GPW2B2DcygNvRhXdaDn11ic8YhW4sDt9E2kcbEHlCJhmeZlDqEEgQ/132" width="30px"><span>Geek_wenzikaka</span> 👍（1） 💬（0）<div>最近公司要采用non-selenium的测试框架，原因之一就是selenium速度太慢，所以选择了cypress，但其实我并不十分清楚non-selenium和selenium本质的区别，因为两者在运行时很相似，望老师解惑。谢谢</div>2019-09-15</li><br/><li><img src="" width="30px"><span>Geek_007</span> 👍（1） 💬（0）<div>测试电脑桌面端软件 有什么好方案吗？</div>2019-05-02</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg" width="30px"><span>小老鼠</span> 👍（1） 💬（0）<div>学习Selenium 1.0原理现在还有意义吗？若有，意义在哪里？</div>2018-10-24</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/12/20/16/9770510b.jpg" width="30px"><span>Harry Potter</span> 👍（1） 💬（0）<div>老师您好，请问cs架构项目的gui自动化测试除了QTP之外，还有其他比较好的开源工具吗？QTP是商用的，小一点的公司可能不愿意去花这个钱。</div>2018-09-13</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/2e/e9/07fc1696.jpg" width="30px"><span>唐liyuan</span> 👍（0） 💬（0）<div>老师，可以讲讲Selenium 4.3吗</div>2023-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/19/2e/e9/07fc1696.jpg" width="30px"><span>唐liyuan</span> 👍（0） 💬（0）<div>老师，可以升级讲讲Selenium</div>2023-12-10</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/39/af/d4/8c0490f4.jpg" width="30px"><span>一旬</span> 👍（0） 💬（0）<div>老师，这段话，个人认为有误导：因为&quot;同源政策（Same-origin policy）&quot;（只有来自相同域名、端口和协议的 JavaScript 代码才能被浏览器执行）
（1）JavaScript加载脚本可以不受同源策略限制，允许运行和加载脚本
（2）jsonp 跨域解决方案，正是利用（1）这一点，来解决跨域问题
详细链接：https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;Security&#47;Same-origin_policy</div>2023-11-17</li><br/><li><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/FGeCDgpXdhsXseIGF3GCzZibDJlOfO4KDqPJkMra2e0TJj3QVQk4t1oEd1BuQPtYOeavFyYxicd5fTZ33tIbPOZQ/132" width="30px"><span>付晓杰</span> 👍（0） 💬（0）<div>Selenium 1.0 和 Selenium 2.0 的内部实现机制和原理：Selenium 1.0 的核心是，基于 JavaScript 代码注入；而 Selenium 2.0 的核心是，运用了浏览器原生支持的 WebDriver。</div>2022-08-31</li><br/>
</ul>