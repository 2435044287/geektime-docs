你好，我是白园。从这节课开始我们就进入可靠性的第二章——场景实践篇，我会带你学习一些经典的故障案例来把理论应用到实践中。

我经历过的故障里面，绝大部分的故障都有一个优化项，就是需要优化或者补齐监控，虽然监控不是问题的根源，但总有优化的地方。这节课让我们来回顾并分析曾经发生的故障案例，深入了解各个层面的关键监控点和需要注意的事项。

首先，我们分层分析用户请求流程，从顶层的客户端开始，一层层深入到运营商、接入层、服务层、数据层，直至机房。我们会对每一层进行详细分析，确保监控体系能够全面覆盖并有效响应潜在的故障点。

![图片](https://static001.geekbang.org/resource/image/52/92/52ea2a043cf92da494d38f93a5c03592.png?wh=2548x684)

## 客户端监控

### 案例简述：2023年7月27日小红书故障

7 月 27 日凌晨，部分网友反馈小红书App出现闪退问题，官方发布第一个解决办法——卸载重装，官方“劝删”行为引起了部分用户的不满，有网友留言称不敢相信官方解决技术故障问题竟然是让删除 App 重装，也有用户表示按照方法删除重装后依然打不开App。

### 案例分析

故障原因：新发版的客户端存在Bug导致客户端崩溃，并且在版本发布的小流量阶段并没有及时发现这个问题，然后直接把版本推全，引起了大范围的故障和影响，这里暴露出来一个关键问题。在版本发出的阶段为什么没有及时发现？
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/1b/a8/5d/957372b1.jpg" width="30px"><span>可乐</span> 👍（0） 💬（0）<div>感觉以上说的，更适合专门搞Sre的同学，具体搞业务的，还是比较关注业务上的监控</div>2024-09-20</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c6/20/124ae6d4.jpg" width="30px"><span>若水清菡</span> 👍（0） 💬（0）<div>基本上全部遇到过，这些故障的频次特别低，一年有时候都出不了一次，机房互备这个成本太高小公司做不了，日常工作中遇到比较多的故障集中在变更上。</div>2024-08-09</li><br/>
</ul>