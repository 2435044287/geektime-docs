你好，我是白园。

今天我跟你分享一下AI在故障定位领域解决了哪些问题。AI与故障定位的方向基本分为三个方向：多维归因分析、因果推断、重复（相似）问题定位，我们一个个看。

## 多维归因定位

在一次故障中，我注意到网盘上传流量出现了阴跌。经过调查，我们发现是电信服务出现了问题。进一步分析后，我们确定故障发生在广东电信。后续我们发现这次事件凸显了一个问题：在众多指标中，如何快速准确地识别导致问题的主要因素是一个非常大的挑战。比如如何快速定位到是广东电信的问题，其中用到的方法就是多维定位。

![图片](https://static001.geekbang.org/resource/image/7a/73/7a126f97f2132a684a91350a312a6373.png?wh=1920x1093)

面对流量下降的问题，关键在于识别导致下降的具体维度，并进一步深入分析。首要任务是确定波动发生在哪个维度。你可以看一下示意图，在机房和年龄这两个维度下，所有子维度都显示出波动；然而，当从运营商维度进行观察的时候，只有移动运营商的流量出现了异常，其他运营商的流量则保持正常。这里我们就可以判断是运营商的问题。

![图片](https://static001.geekbang.org/resource/image/68/b1/68a630eabb0d2dfe345aed1f5ee0d7b1.png?wh=1920x770)

你可以看一下示意图，我们考虑上传量下降的情况。上传量同比下降了20%，我们从机房、运营商、年龄三个维度进行横向分析。如果某个维度的子维度中仅有1～2个显示有问题，那么很可能是该维度导致了整体下降。

具体来看，机房维度可以细分为A机房和B机房。如果A机房和B机房的同比下降均为20%左右，这表明机房维度并非问题所在。同样，如果所有年龄段的上传量都呈现下降趋势，那么年龄维度也可以排除。
<div><strong>精选留言（2）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/5a/2e/5a064b62.jpg" width="30px"><span>面包</span> 👍（0） 💬（1）<div>论文链接《面向在线服务系统中重复类型故障的可操作故障定位方法》：https:&#47;&#47;arxiv.org&#47;abs&#47;2207.09021</div>2024-10-22</li><br/><li><img src="https://static001.geekbang.org/account/avatar/00/10/c6/20/124ae6d4.jpg" width="30px"><span>若水清菡</span> 👍（0） 💬（1）<div>如果有一天你发现业务的流量突然下降了，这个时候你的定位思路和步骤是什么？怎么做才能够以最快的速度定位到原因？
1.查看接入层的统计，对比其他业务流量变化趋势，如果发现只有这个业务流量明显下降了，可以确定是这个业务的问题，和接入层无关；用第三方拨测平台在全网对业务接口进行一下测试，排查一下网络运营商侧情况。
2.查看业务层的服务指标统计，对比现在和昨天同时间段的吞吐、响应时间等。排查是不是业务代码这边出的问题，同时回溯最近两天的服务代码、配置文件和基础组件的变更历史。
3.如果上面排查都没问题，和产品和运营同学确认业务是否有季节性周期属性，例如受学生寒暑假影响就会流量低；确认app是否进行过发版，排查app端的打点日志，排查是否因为app发的新版引起的故障。
4.所有的都做完了也没任何发现，翻看一下故障历史记录，可能能找到灵感。</div>2024-08-28</li><br/>
</ul>