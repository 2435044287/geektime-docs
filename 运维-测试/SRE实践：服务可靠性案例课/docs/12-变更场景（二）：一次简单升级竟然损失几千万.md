你好，我是白园。

上一节课我们分析了基础设施的变更导致的重大故障的案例，今天我们进入第二个案例分析——基础平台的变更导致的重大故障，案例来自某网约车公司。

## **案例回顾**

2023年11月27日晚间，某网约车公司的移动应用程序遭遇了一场严重的系统故障，导致了一系列的服务中断问题。这些问题主要包括：司机无法定位到乘客、乘客等待打车的时间异常延长、用户取消已下单的行程以及地图服务长时间显示网络连接异常。这次服务故障持续了整整12个小时，成为了某网约车公司近年来所遭遇的最长时间的瘫痪事件。

## 故障原因

根据该网约车公司官网发布的公告，服务在28日恢复正常后，公司立即启动了内部的复盘调查程序。调查的初步结果显示，事故的根本原因是底层系统软件出现了故障，并非如网络传言所说的“遭受外部攻击”。

同时，网络上有关于Kubernetes故障的讨论。据分析，这次事故很可能是由于Kubernetes在升级过程中出现了问题，导致系统降级。

经过对网络上的传言、某网约车公司官方声明及相关技术资料的综合分析，这里我们可以得出初步结论：这家网约车公司在Kubernetes系统升级过程中，可能采取了原地升级的方式。然而，不幸的是，在升级过程中使用了与现有系统不兼容的版本，这一技术失误最终导致了服务的大规模中断。
<div><strong>精选留言（1）</strong></div><ul>
<li><img src="https://static001.geekbang.org/account/avatar/00/10/69/d2/8a53f0a3.jpg" width="30px"><span>E</span> 👍（0） 💬（1）<div>这里我们从技术角度和公关角度来看。 ———这里的“公关角度”没讲啊</div>2024-08-09</li><br/>
</ul>